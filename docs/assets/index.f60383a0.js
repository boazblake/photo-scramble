const Ft=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const o of h.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&f(o)}).observe(document,{childList:!0,subtree:!0});function a(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerpolicy&&(h.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?h.credentials="include":c.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(c){if(c.ep)return;c.ep=!0;const h=a(c);fetch(c.href,h)}};Ft();var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe,at;function pe(){if(at)return Fe;at=1;function e(n,a,f,c,h,o){return{tag:n,key:a,attrs:f,children:c,text:h,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return e.normalize=function(n){return Array.isArray(n)?e("[",void 0,void 0,e.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:e("#",void 0,void 0,String(n),void 0,void 0)},e.normalizeChildren=function(n){var a=[];if(n.length){for(var f=n[0]!=null&&n[0].key!=null,c=1;c<n.length;c++)if((n[c]!=null&&n[c].key!=null)!==f)throw new TypeError(f&&(n[c]!=null||typeof n[c]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var c=0;c<n.length;c++)a[c]=e.normalize(n[c])}return a},Fe=e,Fe}var Dt=pe(),Mt=function(){var e=arguments[this],n=this+1,a;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Dt("",e.key,e,a)},Oe={}.hasOwnProperty,Ht=pe(),$t=Mt,be=Oe,Ut=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ct={};function st(e){for(var n in e)if(be.call(e,n))return!1;return!0}function _t(e){for(var n,a="div",f=[],c={};n=Ut.exec(e);){var h=n[1],o=n[2];if(h===""&&o!=="")a=o;else if(h==="#")c.id=o;else if(h===".")f.push(o);else if(n[3][0]==="["){var m=n[6];m&&(m=m.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?f.push(m):c[n[4]]=m===""?m:m||!0}}return f.length>0&&(c.className=f.join(" ")),Ct[e]={tag:a,attrs:c}}function Kt(e,n){var a=n.attrs,f=be.call(a,"class"),c=f?a.class:a.className;if(n.tag=e.tag,n.attrs={},!st(e.attrs)&&!st(a)){var h={};for(var o in a)be.call(a,o)&&(h[o]=a[o]);a=h}for(var o in e.attrs)be.call(e.attrs,o)&&o!=="className"&&!be.call(a,o)&&(a[o]=e.attrs[o]);(c!=null||e.attrs.className!=null)&&(a.className=c!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(c):c:e.attrs.className!=null?e.attrs.className:null),f&&(a.class=null);for(var o in a)if(be.call(a,o)&&o!=="key"){n.attrs=a;break}return n}function Vt(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var n=$t.apply(1,arguments);return typeof e=="string"&&(n.children=Ht.normalizeChildren(n.children),e!=="[")?Kt(Ct[e]||_t(e),n):(n.tag=e,n)}var Et=Vt,Jt=pe(),Wt=function(e){return e==null&&(e=""),Jt("<",void 0,void 0,e,void 0,void 0)},Zt=pe(),Qt=Mt,Xt=function(){var e=Qt.apply(0,arguments);return e.tag="[",e.children=Zt.normalizeChildren(e.children),e},Ye=Et;Ye.trust=Wt;Ye.fragment=Xt;var Yt=Ye,Te={exports:{}},De,ut;function Tt(){if(ut)return De;ut=1;var e=function(n){if(!(this instanceof e))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,f=[],c=[],h=d(f,!0),o=d(c,!1),m=a._instance={resolvers:f,rejectors:c},p=typeof setImmediate=="function"?setImmediate:setTimeout;function d(R,E){return function N(O){var x;try{if(E&&O!=null&&(typeof O=="object"||typeof O=="function")&&typeof(x=O.then)=="function"){if(O===a)throw new TypeError("Promise can't be resolved with itself.");w(x.bind(O))}else p(function(){!E&&R.length===0&&console.error("Possible unhandled promise rejection:",O);for(var S=0;S<R.length;S++)R[S](O);f.length=0,c.length=0,m.state=E,m.retry=function(){N(O)}})}catch(S){o(S)}}}function w(R){var E=0;function N(x){return function(S){E++>0||x(S)}}var O=N(o);try{R(N(h),O)}catch(x){O(x)}}w(n)};return e.prototype.then=function(n,a){var f=this,c=f._instance;function h(d,w,R,E){w.push(function(N){if(typeof d!="function")R(N);else try{o(d(N))}catch(O){m&&m(O)}}),typeof c.retry=="function"&&E===c.state&&c.retry()}var o,m,p=new e(function(d,w){o=d,m=w});return h(n,c.resolvers,o,!0),h(a,c.rejectors,m,!1),p},e.prototype.catch=function(n){return this.then(null,n)},e.prototype.finally=function(n){return this.then(function(a){return e.resolve(n()).then(function(){return a})},function(a){return e.resolve(n()).then(function(){return e.reject(a)})})},e.resolve=function(n){return n instanceof e?n:new e(function(a){a(n)})},e.reject=function(n){return new e(function(a,f){f(n)})},e.all=function(n){return new e(function(a,f){var c=n.length,h=0,o=[];if(n.length===0)a([]);else for(var m=0;m<n.length;m++)(function(p){function d(w){h++,o[p]=w,h===c&&a(o)}n[p]!=null&&(typeof n[p]=="object"||typeof n[p]=="function")&&typeof n[p].then=="function"?n[p].then(d,f):d(n[p])})(m)})},e.race=function(n){return new e(function(a,f){for(var c=0;c<n.length;c++)n[c].then(a,f)})},De=e,De}var Ee=Tt();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Ee:window.Promise.prototype.finally||(window.Promise.prototype.finally=Ee.prototype.finally),Te.exports=window.Promise):typeof we<"u"?(typeof we.Promise>"u"?we.Promise=Ee:we.Promise.prototype.finally||(we.Promise.prototype.finally=Ee.prototype.finally),Te.exports=we.Promise):Te.exports=Ee;var He=pe(),Gt=function(e){var n=e&&e.document,a,f={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function c(r){return r.attrs&&r.attrs.xmlns||f[r.tag]}function h(r,t){if(r.state!==t)throw new Error("'vnode.state' must not be modified.")}function o(r){var t=r.state;try{return this.apply(t,arguments)}finally{h(r,t)}}function m(){try{return n.activeElement}catch{return null}}function p(r,t,i,l,g,y,I){for(var A=i;A<l;A++){var M=t[A];M!=null&&d(r,M,g,I,y)}}function d(r,t,i,l,g){var y=t.tag;if(typeof y=="string")switch(t.state={},t.attrs!=null&&xe(t.attrs,t,i),y){case"#":w(r,t,g);break;case"<":E(r,t,l,g);break;case"[":N(r,t,i,l,g);break;default:O(r,t,i,l,g)}else S(r,t,i,l,g)}function w(r,t,i){t.dom=n.createTextNode(t.children),u(r,t.dom,i)}var R={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function E(r,t,i,l){var g=t.children.match(/^\s*?<(\w+)/im)||[],y=n.createElement(R[g[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",y=y.firstChild):y.innerHTML=t.children,t.dom=y.firstChild,t.domSize=y.childNodes.length,t.instance=[];for(var I=n.createDocumentFragment(),A;A=y.firstChild;)t.instance.push(A),I.appendChild(A);u(r,I,l)}function N(r,t,i,l,g){var y=n.createDocumentFragment();if(t.children!=null){var I=t.children;p(y,I,0,I.length,i,null,l)}t.dom=y.firstChild,t.domSize=y.childNodes.length,u(r,y,g)}function O(r,t,i,l,g){var y=t.tag,I=t.attrs,A=I&&I.is;l=c(t)||l;var M=l?A?n.createElementNS(l,y,{is:A}):n.createElementNS(l,y):A?n.createElement(y,{is:A}):n.createElement(y);if(t.dom=M,I!=null&&q(t,I,l),u(r,M,g),!s(t)&&t.children!=null){var k=t.children;p(M,k,0,k.length,i,null,l),t.tag==="select"&&I!=null&&B(t,I)}}function x(r,t){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(xe(r.state,r,t),r.attrs!=null&&xe(r.attrs,r,t),r.instance=He.normalize(o.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function S(r,t,i,l,g){x(t,i),t.instance!=null?(d(r,t.instance,i,l,g),t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0):t.domSize=0}function D(r,t,i,l,g,y){if(!(t===i||t==null&&i==null))if(t==null||t.length===0)p(r,i,0,i.length,l,g,y);else if(i==null||i.length===0)b(r,t,0,t.length);else{var I=t[0]!=null&&t[0].key!=null,A=i[0]!=null&&i[0].key!=null,M=0,k=0;if(!I)for(;k<t.length&&t[k]==null;)k++;if(!A)for(;M<i.length&&i[M]==null;)M++;if(I!==A)b(r,t,k,t.length),p(r,i,M,i.length,l,g,y);else if(A){for(var ee=t.length-1,W=i.length-1,Re,te,K,Y,$,qe;ee>=k&&W>=M&&(Y=t[ee],$=i[W],Y.key===$.key);)Y!==$&&H(r,Y,$,l,g,y),$.dom!=null&&(g=$.dom),ee--,W--;for(;ee>=k&&W>=M&&(te=t[k],K=i[M],te.key===K.key);)k++,M++,te!==K&&H(r,te,K,l,J(t,k,g),y);for(;ee>=k&&W>=M&&!(M===W||te.key!==$.key||Y.key!==K.key);)qe=J(t,k,g),ue(r,Y,qe),Y!==K&&H(r,Y,K,l,qe,y),++M<=--W&&ue(r,te,g),te!==$&&H(r,te,$,l,g,y),$.dom!=null&&(g=$.dom),k++,ee--,Y=t[ee],$=i[W],te=t[k],K=i[M];for(;ee>=k&&W>=M&&Y.key===$.key;)Y!==$&&H(r,Y,$,l,g,y),$.dom!=null&&(g=$.dom),ee--,W--,Y=t[ee],$=i[W];if(M>W)b(r,t,k,ee+1);else if(k>ee)p(r,i,M,W+1,l,g,y);else{var jt=g,it=W-M+1,Ce=new Array(it),ze=0,_=0,Be=2147483647,ke=0,Re,je;for(_=0;_<it;_++)Ce[_]=-1;for(_=W;_>=M;_--){Re==null&&(Re=Q(t,k,ee+1)),$=i[_];var de=Re[$.key];de!=null&&(Be=de<Be?de:-1,Ce[_-M]=de,Y=t[de],t[de]=null,Y!==$&&H(r,Y,$,l,g,y),$.dom!=null&&(g=$.dom),ke++)}if(g=jt,ke!==ee-k+1&&b(r,t,k,ee+1),ke===0)p(r,i,M,W+1,l,g,y);else if(Be===-1)for(je=fe(Ce),ze=je.length-1,_=W;_>=M;_--)K=i[_],Ce[_-M]===-1?d(r,K,l,y,g):je[ze]===_-M?ze--:ue(r,K,g),K.dom!=null&&(g=i[_].dom);else for(_=W;_>=M;_--)K=i[_],Ce[_-M]===-1&&d(r,K,l,y,g),K.dom!=null&&(g=i[_].dom)}}else{var Le=t.length<i.length?t.length:i.length;for(M=M<k?M:k;M<Le;M++)te=t[M],K=i[M],!(te===K||te==null&&K==null)&&(te==null?d(r,K,l,y,J(t,M+1,g)):K==null?C(r,te):H(r,te,K,l,J(t,M+1,g),y));t.length>Le&&b(r,t,M,t.length),i.length>Le&&p(r,i,M,i.length,l,g,y)}}}function H(r,t,i,l,g,y){var I=t.tag,A=i.tag;if(I===A){if(i.state=t.state,i.events=t.events,Pe(i,t))return;if(typeof I=="string")switch(i.attrs!=null&&Me(i.attrs,i,l),I){case"#":re(t,i);break;case"<":le(r,t,i,y,g);break;case"[":ne(r,t,i,l,g,y);break;default:V(t,i,l,y)}else G(r,t,i,l,g,y)}else C(r,t),d(r,i,l,y,g)}function re(r,t){r.children.toString()!==t.children.toString()&&(r.dom.nodeValue=t.children),t.dom=r.dom}function le(r,t,i,l,g){t.children!==i.children?(P(r,t),E(r,i,l,g)):(i.dom=t.dom,i.domSize=t.domSize,i.instance=t.instance)}function ne(r,t,i,l,g,y){D(r,t.children,i.children,l,g,y);var I=0,A=i.children;if(i.dom=null,A!=null){for(var M=0;M<A.length;M++){var k=A[M];k!=null&&k.dom!=null&&(i.dom==null&&(i.dom=k.dom),I+=k.domSize||1)}I!==1&&(i.domSize=I)}}function V(r,t,i,l){var g=t.dom=r.dom;l=c(t)||l,t.tag==="textarea"&&t.attrs==null&&(t.attrs={}),se(t,r.attrs,t.attrs,l),s(t)||D(g,r.children,t.children,i,null,l)}function G(r,t,i,l,g,y){if(i.instance=He.normalize(o.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");Me(i.state,i,l),i.attrs!=null&&Me(i.attrs,i,l),i.instance!=null?(t.instance==null?d(r,i.instance,l,y,g):H(r,t.instance,i.instance,l,g,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):t.instance!=null?(C(r,t.instance),i.dom=void 0,i.domSize=0):(i.dom=t.dom,i.domSize=t.domSize)}function Q(r,t,i){for(var l=Object.create(null);t<i;t++){var g=r[t];if(g!=null){var y=g.key;y!=null&&(l[y]=t)}}return l}var ie=[];function fe(r){for(var t=[0],i=0,l=0,g=0,y=ie.length=r.length,g=0;g<y;g++)ie[g]=r[g];for(var g=0;g<y;++g)if(r[g]!==-1){var I=t[t.length-1];if(r[I]<r[g]){ie[g]=I,t.push(g);continue}for(i=0,l=t.length-1;i<l;){var A=(i>>>1)+(l>>>1)+(i&l&1);r[t[A]]<r[g]?i=A+1:l=A}r[g]<r[t[i]]&&(i>0&&(ie[g]=t[i-1]),t[i]=g)}for(i=t.length,l=t[i-1];i-- >0;)t[i]=l,l=ie[l];return ie.length=0,t}function J(r,t,i){for(;t<r.length;t++)if(r[t]!=null&&r[t].dom!=null)return r[t].dom;return i}function ue(r,t,i){var l=n.createDocumentFragment();U(r,l,t),u(r,l,i)}function U(r,t,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var l=0;l<i.instance.length;l++)t.appendChild(i.instance[l]);else if(i.tag!=="[")t.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var l=0;l<i.children.length;l++){var g=i.children[l];g!=null&&U(r,t,g)}break}}function u(r,t,i){i!=null?r.insertBefore(t,i):r.appendChild(t)}function s(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var t=r.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var i=t[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function b(r,t,i,l){for(var g=i;g<l;g++){var y=t[g];y!=null&&C(r,y)}}function C(r,t){var i=0,l=t.state,g,y;if(typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"){var I=o.call(t.state.onbeforeremove,t);I!=null&&typeof I.then=="function"&&(i=1,g=I)}if(t.attrs&&typeof t.attrs.onbeforeremove=="function"){var I=o.call(t.attrs.onbeforeremove,t);I!=null&&typeof I.then=="function"&&(i|=2,y=I)}if(h(t,l),!i)T(t),v(r,t);else{if(g!=null){var A=function(){i&1&&(i&=2,i||M())};g.then(A,A)}if(y!=null){var A=function(){i&2&&(i&=1,i||M())};y.then(A,A)}}function M(){h(t,l),T(t),v(r,t)}}function P(r,t){for(var i=0;i<t.instance.length;i++)r.removeChild(t.instance[i])}function v(r,t){for(;t.dom!=null&&t.dom.parentNode===r;){if(typeof t.tag!="string"){if(t=t.instance,t!=null)continue}else if(t.tag==="<")P(r,t);else{if(t.tag!=="["&&(r.removeChild(t.dom),!Array.isArray(t.children)))break;if(t.children.length===1){if(t=t.children[0],t!=null)continue}else for(var i=0;i<t.children.length;i++){var l=t.children[i];l!=null&&v(r,l)}}break}}function T(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&o.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&o.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&T(r.instance);else{var t=r.children;if(Array.isArray(t))for(var i=0;i<t.length;i++){var l=t[i];l!=null&&T(l)}}}function q(r,t,i){r.tag==="input"&&t.type!=null&&r.dom.setAttribute("type",t.type);var l=t!=null&&r.tag==="input"&&t.type==="file";for(var g in t)j(r,g,null,t[g],i,l)}function j(r,t,i,l,g,y){if(!(t==="key"||t==="is"||l==null||F(t)||i===l&&!ae(r,t)&&typeof l!="object"||t==="type"&&r.tag==="input")){if(t[0]==="o"&&t[1]==="n")return Ie(r,t,l);if(t.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),l);else if(t==="style")ge(r.dom,i,l);else if(ye(r,t,g)){if(t==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+l&&(y||r.dom===m())||r.tag==="select"&&i!==null&&r.dom.value===""+l||r.tag==="option"&&i!==null&&r.dom.value===""+l)return;if(y&&""+l!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[t]=l}else typeof l=="boolean"?l?r.dom.setAttribute(t,""):r.dom.removeAttribute(t):r.dom.setAttribute(t==="className"?"class":t,l)}}function X(r,t,i,l){if(!(t==="key"||t==="is"||i==null||F(t)))if(t[0]==="o"&&t[1]==="n")Ie(r,t,void 0);else if(t==="style")ge(r.dom,i,null);else if(ye(r,t,l)&&t!=="className"&&t!=="title"&&!(t==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===m()))&&!(r.tag==="input"&&t==="type"))r.dom[t]=null;else{var g=t.indexOf(":");g!==-1&&(t=t.slice(g+1)),i!==!1&&r.dom.removeAttribute(t==="className"?"class":t)}}function B(r,t){if("value"in t)if(t.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+t.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in t&&j(r,"selectedIndex",null,t.selectedIndex,void 0)}function se(r,t,i,l){if(t&&t===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var g=r.tag==="input"&&i.type==="file";for(var y in i)j(r,y,t&&t[y],i[y],l,g)}var I;if(t!=null)for(var y in t)(I=t[y])!=null&&(i==null||i[y]==null)&&X(r,y,I,l)}function ae(r,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&r.dom===m()||r.tag==="option"&&r.dom.parentNode===n.activeElement}function F(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,t,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in r.dom}var ve=/[A-Z]/g;function oe(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(ve,oe)}function ge(r,t,i){if(t!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(t==null||typeof t!="object"){r.style.cssText="";for(var l in i){var g=i[l];g!=null&&r.style.setProperty(he(l),String(g))}}else{for(var l in i){var g=i[l];g!=null&&(g=String(g))!==String(t[l])&&r.style.setProperty(he(l),g)}for(var l in t)t[l]!=null&&i[l]==null&&r.style.removeProperty(he(l))}}function ce(){this._=a}ce.prototype=Object.create(null),ce.prototype.handleEvent=function(r){var t=this["on"+r.type],i;typeof t=="function"?i=t.call(r.currentTarget,r):typeof t.handleEvent=="function"&&t.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Ie(r,t,i){if(r.events!=null){if(r.events._=a,r.events[t]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[t]==null&&r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i):(r.events[t]!=null&&r.dom.removeEventListener(t.slice(2),r.events,!1),r.events[t]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new ce,r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i)}function xe(r,t,i){typeof r.oninit=="function"&&o.call(r.oninit,t),typeof r.oncreate=="function"&&i.push(o.bind(r.oncreate,t))}function Me(r,t,i){typeof r.onupdate=="function"&&i.push(o.bind(r.onupdate,t))}function Pe(r,t){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=o.call(r.attrs.onbeforeupdate,r,t);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=o.call(r.state.onbeforeupdate,r,t);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=t.dom,r.domSize=t.domSize,r.instance=t.instance,r.attrs=t.attrs,r.children=t.children,r.text=t.text,!0}var me;return function(r,t,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(me!=null&&r.contains(me))throw new TypeError("Node is currently being rendered to and thus is locked.");var l=a,g=me,y=[],I=m(),A=r.namespaceURI;me=r,a=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),t=He.normalizeChildren(Array.isArray(t)?t:[t]),D(r,r.vnodes,t,y,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),r.vnodes=t,I!=null&&m()!==I&&typeof I.focus=="function"&&I.focus();for(var M=0;M<y.length;M++)y[M]()}finally{a=l,me=g}}},It=Gt(typeof window<"u"?window:null),ft=pe(),er=function(e,n,a){var f=[],c=!1,h=-1;function o(){for(h=0;h<f.length;h+=2)try{e(f[h],ft(f[h+1]),m)}catch(d){a.error(d)}h=-1}function m(){c||(c=!0,n(function(){c=!1,o()}))}m.sync=o;function p(d,w){if(w!=null&&w.view==null&&typeof w!="function")throw new TypeError("m.mount expects a component, not a vnode.");var R=f.indexOf(d);R>=0&&(f.splice(R,2),R<=h&&(h-=2),e(d,[])),w!=null&&(f.push(d,w),e(d,ft(w),m))}return{mount:p,redraw:m}},tr=It,Ge=er(tr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),$e,ct;function Pt(){return ct||(ct=1,$e=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var n=[];for(var a in e)f(a,e[a]);return n.join("&");function f(c,h){if(Array.isArray(h))for(var o=0;o<h.length;o++)f(c+"["+o+"]",h[o]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var o in h)f(c+"["+o+"]",h[o]);else n.push(encodeURIComponent(c)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}),$e}var Ue,lt;function Rt(){if(lt)return Ue;lt=1;var e=Oe;return Ue=Object.assign||function(n,a){for(var f in a)e.call(a,f)&&(n[f]=a[f])},Ue}var _e,ot;function et(){if(ot)return _e;ot=1;var e=Pt(),n=Rt();return _e=function(a,f){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(f==null)return a;var c=a.indexOf("?"),h=a.indexOf("#"),o=h<0?a.length:h,m=c<0?o:c,p=a.slice(0,m),d={};n(d,f);var w=p.replace(/:([^\/\.-]+)(\.{3})?/g,function(D,H,re){return delete d[H],f[H]==null?D:re?f[H]:encodeURIComponent(String(f[H]))}),R=w.indexOf("?"),E=w.indexOf("#"),N=E<0?w.length:E,O=R<0?N:R,x=w.slice(0,O);c>=0&&(x+=a.slice(c,o)),R>=0&&(x+=(c<0?"?":"&")+w.slice(R,N));var S=e(d);return S&&(x+=(c<0&&R<0?"?":"&")+S),h>=0&&(x+=a.slice(h)),E>=0&&(x+=(h<0?"":"&")+w.slice(E)),x},_e}var rr=et(),ht=Oe,nr=function(e,n,a){var f=0;function c(m){return new n(m)}c.prototype=n.prototype,c.__proto__=n;function h(m){return function(p,d){typeof p!="string"?(d=p,p=p.url):d==null&&(d={});var w=new n(function(O,x){m(rr(p,d.params),d,function(S){if(typeof d.type=="function")if(Array.isArray(S))for(var D=0;D<S.length;D++)S[D]=new d.type(S[D]);else S=new d.type(S);O(S)},x)});if(d.background===!0)return w;var R=0;function E(){--R===0&&typeof a=="function"&&a()}return N(w);function N(O){var x=O.then;return O.constructor=c,O.then=function(){R++;var S=x.apply(O,arguments);return S.then(E,function(D){if(E(),R===0)throw D}),N(S)},O}}}function o(m,p){for(var d in m.headers)if(ht.call(m.headers,d)&&d.toLowerCase()===p)return!0;return!1}return{request:h(function(m,p,d,w){var R=p.method!=null?p.method.toUpperCase():"GET",E=p.body,N=(p.serialize==null||p.serialize===JSON.serialize)&&!(E instanceof e.FormData||E instanceof e.URLSearchParams),O=p.responseType||(typeof p.extract=="function"?"":"json"),x=new e.XMLHttpRequest,S=!1,D=!1,H=x,re,le=x.abort;x.abort=function(){S=!0,le.call(this)},x.open(R,m,p.async!==!1,typeof p.user=="string"?p.user:void 0,typeof p.password=="string"?p.password:void 0),N&&E!=null&&!o(p,"content-type")&&x.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof p.deserialize!="function"&&!o(p,"accept")&&x.setRequestHeader("Accept","application/json, text/*"),p.withCredentials&&(x.withCredentials=p.withCredentials),p.timeout&&(x.timeout=p.timeout),x.responseType=O;for(var ne in p.headers)ht.call(p.headers,ne)&&x.setRequestHeader(ne,p.headers[ne]);x.onreadystatechange=function(V){if(!S&&V.target.readyState===4)try{var G=V.target.status>=200&&V.target.status<300||V.target.status===304||/^file:\/\//i.test(m),Q=V.target.response,ie;if(O==="json"){if(!V.target.responseType&&typeof p.extract!="function")try{Q=JSON.parse(V.target.responseText)}catch{Q=null}}else(!O||O==="text")&&Q==null&&(Q=V.target.responseText);if(typeof p.extract=="function"?(Q=p.extract(V.target,p),G=!0):typeof p.deserialize=="function"&&(Q=p.deserialize(Q)),G)d(Q);else{var fe=function(){try{ie=V.target.responseText}catch{ie=Q}var J=new Error(ie);J.code=V.target.status,J.response=Q,w(J)};x.status===0?setTimeout(function(){D||fe()}):fe()}}catch(J){w(J)}},x.ontimeout=function(V){D=!0;var G=new Error("Request timed out");G.code=V.target.status,w(G)},typeof p.config=="function"&&(x=p.config(x,p,m)||x,x!==H&&(re=x.abort,x.abort=function(){S=!0,re.call(this)})),E==null?x.send():typeof p.serialize=="function"?x.send(p.serialize(E)):E instanceof e.FormData||E instanceof e.URLSearchParams?x.send(E):x.send(JSON.stringify(E))}),jsonp:h(function(m,p,d,w){var R=p.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+f++,E=e.document.createElement("script");e[R]=function(N){delete e[R],E.parentNode.removeChild(E),d(N)},E.onerror=function(){delete e[R],E.parentNode.removeChild(E),w(new Error("JSONP request failed"))},E.src=m+(m.indexOf("?")<0?"?":"&")+encodeURIComponent(p.callbackKey||"callback")+"="+encodeURIComponent(R),e.document.documentElement.appendChild(E)})}},ir=Te.exports,ar=Ge,sr=nr(typeof window<"u"?window:null,ir,ar.redraw),Ke,pt;function Nt(){if(pt)return Ke;pt=1;function e(n){try{return decodeURIComponent(n)}catch{return n}}return Ke=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),f={},c={},h=0;h<a.length;h++){var o=a[h].split("="),m=e(o[0]),p=o.length===2?e(o[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var d=m.split(/\]\[?|\[/),w=c;m.indexOf("[")>-1&&d.pop();for(var R=0;R<d.length;R++){var E=d[R],N=d[R+1],O=N==""||!isNaN(parseInt(N,10));if(E===""){var m=d.slice(0,R).join();f[m]==null&&(f[m]=Array.isArray(w)?w.length:0),E=f[m]++}else if(E==="__proto__")break;if(R===d.length-1)w[E]=p;else{var x=Object.getOwnPropertyDescriptor(w,E);x!=null&&(x=x.value),x==null&&(w[E]=x=O?[]:{}),w=x}}}return c},Ke}var Ve,gt;function tt(){if(gt)return Ve;gt=1;var e=Nt();return Ve=function(n){var a=n.indexOf("?"),f=n.indexOf("#"),c=f<0?n.length:f,h=a<0?c:a,o=n.slice(0,h).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:a<0?{}:e(n.slice(a+1,c))}},Ve}var Je,mt;function ur(){if(mt)return Je;mt=1;var e=tt();return Je=function(n){var a=e(n),f=Object.keys(a.params),c=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,m,p){return m==null?"\\"+o:(c.push({k:m,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(o){for(var m=0;m<f.length;m++)if(a.params[f[m]]!==o.params[f[m]])return!1;if(!c.length)return h.test(o.path);var p=h.exec(o.path);if(p==null)return!1;for(var m=0;m<c.length;m++)o.params[c[m].k]=c[m].r?p[m+1]:decodeURIComponent(p[m+1]);return!0}},Je}var We,yt;function Ot(){if(yt)return We;yt=1;var e=Oe,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return We=function(a,f){var c={};if(f!=null)for(var h in a)e.call(a,h)&&!n.test(h)&&f.indexOf(h)<0&&(c[h]=a[h]);else for(var h in a)e.call(a,h)&&!n.test(h)&&(c[h]=a[h]);return c},We}var Ze,dt;function fr(){if(dt)return Ze;dt=1;var e=pe(),n=Et,a=Te.exports,f=et(),c=tt(),h=ur(),o=Rt(),m=Ot(),p={};function d(w){try{return decodeURIComponent(w)}catch{return w}}return Ze=function(w,R){var E=w==null?null:typeof w.setImmediate=="function"?w.setImmediate:w.setTimeout,N=a.resolve(),O=!1,x=!1,S=0,D,H,re=p,le,ne,V,G,Q={onbeforeupdate:function(){return S=S?2:1,!(!S||p===re)},onremove:function(){w.removeEventListener("popstate",J,!1),w.removeEventListener("hashchange",fe,!1)},view:function(){if(!(!S||p===re)){var u=[e(le,ne.key,ne)];return re&&(u=re.render(u[0])),u}}},ie=U.SKIP={};function fe(){O=!1;var u=w.location.hash;U.prefix[0]!=="#"&&(u=w.location.search+u,U.prefix[0]!=="?"&&(u=w.location.pathname+u,u[0]!=="/"&&(u="/"+u)));var s=u.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,d).slice(U.prefix.length),b=c(s);o(b.params,w.history.state);function C(v){console.error(v),ue(H,null,{replace:!0})}P(0);function P(v){for(;v<D.length;v++)if(D[v].check(b)){var T=D[v].component,q=D[v].route,j=T,X=G=function(B){if(X===G){if(B===ie)return P(v+1);le=B!=null&&(typeof B.view=="function"||typeof B=="function")?B:"div",ne=b.params,V=s,G=null,re=T.render?T:null,S===2?R.redraw():(S=2,R.redraw.sync())}};T.view||typeof T=="function"?(T={},X(j)):T.onmatch?N.then(function(){return T.onmatch(b.params,s,q)}).then(X,s===H?null:C):X("div");return}if(s===H)throw new Error("Could not resolve default route "+H+".");ue(H,null,{replace:!0})}}function J(){O||(O=!0,E(fe))}function ue(u,s,b){if(u=f(u,s),x){J();var C=b?b.state:null,P=b?b.title:null;b&&b.replace?w.history.replaceState(C,P,U.prefix+u):w.history.pushState(C,P,U.prefix+u)}else w.location.href=U.prefix+u}function U(u,s,b){if(!u)throw new TypeError("DOM element being rendered to does not exist.");if(D=Object.keys(b).map(function(P){if(P[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(P))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:P,component:b[P],check:h(P)}}),H=s,s!=null){var C=c(s);if(!D.some(function(P){return P.check(C)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof w.history.pushState=="function"?w.addEventListener("popstate",J,!1):U.prefix[0]==="#"&&w.addEventListener("hashchange",fe,!1),x=!0,R.mount(u,Q),fe()}return U.set=function(u,s,b){G!=null&&(b=b||{},b.replace=!0),G=null,ue(u,s,b)},U.get=function(){return V},U.prefix="#!",U.Link={view:function(u){var s=n(u.attrs.selector||"a",m(u.attrs,["options","params","selector","onclick"]),u.children),b,C,P;return(s.attrs.disabled=Boolean(s.attrs.disabled))?(s.attrs.href=null,s.attrs["aria-disabled"]="true"):(b=u.attrs.options,C=u.attrs.onclick,P=f(s.attrs.href,u.attrs.params),s.attrs.href=U.prefix+P,s.attrs.onclick=function(v){var T;typeof C=="function"?T=C.call(v.currentTarget,v):C==null||typeof C!="object"||typeof C.handleEvent=="function"&&C.handleEvent(v),T!==!1&&!v.defaultPrevented&&(v.button===0||v.which===0||v.which===1)&&(!v.currentTarget.target||v.currentTarget.target==="_self")&&!v.ctrlKey&&!v.metaKey&&!v.shiftKey&&!v.altKey&&(v.preventDefault(),v.redraw=!1,U.set(P,null,b))}),s}},U.param=function(u){return ne&&u!=null?ne[u]:ne},U},Ze}var Qe,wt;function cr(){if(wt)return Qe;wt=1;var e=Ge;return Qe=fr()(typeof window<"u"?window:null,e),Qe}var Se=Yt,St=sr,At=Ge,Z=function(){return Se.apply(this,arguments)};Z.m=Se;Z.trust=Se.trust;Z.fragment=Se.fragment;Z.Fragment="[";Z.mount=At.mount;Z.route=cr();Z.render=It;Z.redraw=At.redraw;Z.request=St.request;Z.jsonp=St.jsonp;Z.parseQueryString=Nt();Z.buildQueryString=Pt();Z.parsePathname=tt();Z.buildPathname=et();Z.vnode=pe();Z.PromisePolyfill=Tt();Z.censor=Ot();var z=Z;L.SKIP={};L.lift=hr;L.scan=lr;L.merge=Lt;L.combine=Ae;L.scanMerge=or;L["fantasy-land/of"]=L;var bt=!1;Object.defineProperty(L,"HALT",{get:function(){return bt||console.log("HALT is deprecated and has been renamed to SKIP"),bt=!0,L.SKIP}});function L(e){var n=[],a=[];function f(o){return arguments.length&&o!==L.SKIP&&(e=o,vt(f)&&(f.changing(),f.state="active",n.forEach(function(m,p){m(a[p](e))}))),e}f.constructor=L,f.state=arguments.length&&e!==L.SKIP?"active":"pending",f.parents=[],f.changing=function(){vt(f)&&(f.state="changing"),n.forEach(function(o){o.changing()})},f.map=function(o,m){var p=f.state==="active"&&m!==L.SKIP?L(o(e)):L();return p.parents.push(f),n.push(p),a.push(o),p};var c;function h(){return c=L(),c.map(function(o){return o===!0&&(f.parents.forEach(function(m){m.unregisterChild(f)}),f.state="ended",f.parents.length=n.length=a.length=0),o}),c}return f.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},f["fantasy-land/map"]=f.map,f["fantasy-land/ap"]=function(o){return Ae(function(m,p){return m()(p())},[o,f])},f.unregisterChild=function(o){var m=n.indexOf(o);m!==-1&&(n.splice(m,1),a.splice(m,1))},Object.defineProperty(f,"end",{get:function(){return c||h()}}),f}function Ae(e,n){var a=n.every(function(m){if(m.constructor!==L)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return m.state==="active"}),f=a?L(e.apply(null,n.concat([n]))):L(),c=[],h=n.map(function(m){return m.map(function(p){return c.push(m),(a||n.every(function(d){return d.state!=="pending"}))&&(a=!0,f(e.apply(null,n.concat([c]))),c=[]),p},L.SKIP)}),o=f.end.map(function(m){m===!0&&(h.forEach(function(p){p.end(!0)}),o.end(!0))});return f}function Lt(e){return Ae(function(){return e.map(function(n){return n()})},e)}function lr(e,n,a){var f=a.map(function(c){var h=e(n,c);return h!==L.SKIP&&(n=h),h});return f(n),f}function or(e,n){var a=e.map(function(c){return c[0]}),f=Ae(function(){var c=arguments[arguments.length-1];return a.forEach(function(h,o){c.indexOf(h)>-1&&(n=e[o][1](n,h()))}),n},a);return f(n),f}function hr(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1);return Lt(n).map(function(a){return e.apply(void 0,a)})}function vt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}var rt={};(function e(n,a,f,c){var h=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function o(){}function m(u){var s=a.exports.Promise,b=s!==void 0?s:n.Promise;return typeof b=="function"?new b(u):(u(o,o),null)}var p=function(){var u=Math.floor(16.666666666666668),s,b,C={},P=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(s=function(v){var T=Math.random();return C[T]=requestAnimationFrame(function q(j){P===j||P+u-1<j?(P=j,delete C[T],v()):C[T]=requestAnimationFrame(q)}),T},b=function(v){C[v]&&cancelAnimationFrame(C[v])}):(s=function(v){return setTimeout(v,u)},b=function(v){return clearTimeout(v)}),{frame:s,cancel:b}}(),d=function(){var u,s,b={};function C(P){function v(T,q){P.postMessage({options:T||{},callback:q})}P.init=function(q){var j=q.transferControlToOffscreen();P.postMessage({canvas:j},[j])},P.fire=function(q,j,X){if(s)return v(q,null),s;var B=Math.random().toString(36).slice(2);return s=m(function(se){function ae(F){F.data.callback===B&&(delete b[B],P.removeEventListener("message",ae),s=null,X(),se())}P.addEventListener("message",ae),v(q,B),b[B]=ae.bind(null,{data:{callback:B}})}),s},P.reset=function(){P.postMessage({reset:!0});for(var q in b)b[q](),delete b[q]}}return function(){if(u)return u;if(!f&&h){var P=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{u=new Worker(URL.createObjectURL(new Blob([P])))}catch(v){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",v),null}C(u)}return u}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function R(u,s){return s?s(u):u}function E(u){return u!=null}function N(u,s,b){return R(u&&E(u[s])?u[s]:w[s],b)}function O(u){return u<0?0:Math.floor(u)}function x(u,s){return Math.floor(Math.random()*(s-u))+u}function S(u){return parseInt(u,16)}function D(u){return u.map(H)}function H(u){var s=String(u).replace(/[^0-9a-f]/gi,"");return s.length<6&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:S(s.substring(0,2)),g:S(s.substring(2,4)),b:S(s.substring(4,6))}}function re(u){var s=N(u,"origin",Object);return s.x=N(s,"x",Number),s.y=N(s,"y",Number),s}function le(u){u.width=document.documentElement.clientWidth,u.height=document.documentElement.clientHeight}function ne(u){var s=u.getBoundingClientRect();u.width=s.width,u.height=s.height}function V(u){var s=document.createElement("canvas");return s.style.position="fixed",s.style.top="0px",s.style.left="0px",s.style.pointerEvents="none",s.style.zIndex=u,s}function G(u,s,b,C,P,v,T,q,j){u.save(),u.translate(s,b),u.rotate(v),u.scale(C,P),u.arc(0,0,1,T,q,j),u.restore()}function Q(u){var s=u.angle*(Math.PI/180),b=u.spread*(Math.PI/180);return{x:u.x,y:u.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:u.startVelocity*.5+Math.random()*u.startVelocity,angle2D:-s+(.5*b-Math.random()*b),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:u.color,shape:u.shape,tick:0,totalTicks:u.ticks,decay:u.decay,drift:u.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:u.gravity*3,ovalScalar:.6,scalar:u.scalar}}function ie(u,s){s.x+=Math.cos(s.angle2D)*s.velocity+s.drift,s.y+=Math.sin(s.angle2D)*s.velocity+s.gravity,s.wobble+=s.wobbleSpeed,s.velocity*=s.decay,s.tiltAngle+=.1,s.tiltSin=Math.sin(s.tiltAngle),s.tiltCos=Math.cos(s.tiltAngle),s.random=Math.random()+2,s.wobbleX=s.x+10*s.scalar*Math.cos(s.wobble),s.wobbleY=s.y+10*s.scalar*Math.sin(s.wobble);var b=s.tick++/s.totalTicks,C=s.x+s.random*s.tiltCos,P=s.y+s.random*s.tiltSin,v=s.wobbleX+s.random*s.tiltCos,T=s.wobbleY+s.random*s.tiltSin;if(u.fillStyle="rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+(1-b)+")",u.beginPath(),s.shape==="circle")u.ellipse?u.ellipse(s.x,s.y,Math.abs(v-C)*s.ovalScalar,Math.abs(T-P)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI):G(u,s.x,s.y,Math.abs(v-C)*s.ovalScalar,Math.abs(T-P)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI);else if(s.shape==="star")for(var q=Math.PI/2*3,j=4*s.scalar,X=8*s.scalar,B=s.x,se=s.y,ae=5,F=Math.PI/ae;ae--;)B=s.x+Math.cos(q)*X,se=s.y+Math.sin(q)*X,u.lineTo(B,se),q+=F,B=s.x+Math.cos(q)*j,se=s.y+Math.sin(q)*j,u.lineTo(B,se),q+=F;else u.moveTo(Math.floor(s.x),Math.floor(s.y)),u.lineTo(Math.floor(s.wobbleX),Math.floor(P)),u.lineTo(Math.floor(v),Math.floor(T)),u.lineTo(Math.floor(C),Math.floor(s.wobbleY));return u.closePath(),u.fill(),s.tick<s.totalTicks}function fe(u,s,b,C,P){var v=s.slice(),T=u.getContext("2d"),q,j,X=m(function(B){function se(){q=j=null,T.clearRect(0,0,C.width,C.height),P(),B()}function ae(){f&&!(C.width===c.width&&C.height===c.height)&&(C.width=u.width=c.width,C.height=u.height=c.height),!C.width&&!C.height&&(b(u),C.width=u.width,C.height=u.height),T.clearRect(0,0,C.width,C.height),v=v.filter(function(F){return ie(T,F)}),v.length?q=p.frame(ae):se()}q=p.frame(ae),j=se});return{addFettis:function(B){return v=v.concat(B),X},canvas:u,promise:X,reset:function(){q&&p.cancel(q),j&&j()}}}function J(u,s){var b=!u,C=!!N(s||{},"resize"),P=N(s,"disableForReducedMotion",Boolean),v=h&&!!N(s||{},"useWorker"),T=v?d():null,q=b?le:ne,j=u&&T?!!u.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,B;function se(F,ye,ve){for(var oe=N(F,"particleCount",O),he=N(F,"angle",Number),ge=N(F,"spread",Number),ce=N(F,"startVelocity",Number),Ie=N(F,"decay",Number),xe=N(F,"gravity",Number),Me=N(F,"drift",Number),Pe=N(F,"colors",D),me=N(F,"ticks",Number),r=N(F,"shapes"),t=N(F,"scalar"),i=re(F),l=oe,g=[],y=u.width*i.x,I=u.height*i.y;l--;)g.push(Q({x:y,y:I,angle:he,spread:ge,startVelocity:ce,color:Pe[l%Pe.length],shape:r[x(0,r.length)],ticks:me,decay:Ie,gravity:xe,drift:Me,scalar:t}));return B?B.addFettis(g):(B=fe(u,g,q,ye,ve),B.promise)}function ae(F){var ye=P||N(F,"disableForReducedMotion",Boolean),ve=N(F,"zIndex",Number);if(ye&&X)return m(function(ce){ce()});b&&B?u=B.canvas:b&&!u&&(u=V(ve),document.body.appendChild(u)),C&&!j&&q(u);var oe={width:u.width,height:u.height};T&&!j&&T.init(u),j=!0,T&&(u.__confetti_initialized=!0);function he(){if(T){var ce={getBoundingClientRect:function(){if(!b)return u.getBoundingClientRect()}};q(ce),T.postMessage({resize:{width:ce.width,height:ce.height}});return}oe.width=oe.height=null}function ge(){B=null,C&&n.removeEventListener("resize",he),b&&u&&(document.body.removeChild(u),u=null,j=!1)}return C&&n.addEventListener("resize",he,!1),T?T.fire(F,oe,ge):se(F,oe,ge)}return ae.reset=function(){T&&T.reset(),B&&B.reset()},ae}var ue;function U(){return ue||(ue=J(null,{useWorker:!0,resize:!0})),ue}a.exports=function(){return U().apply(this,arguments)},a.exports.reset=function(){U().reset()},a.exports.create=J})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),rt,!1);const xt=rt.exports;rt.exports.create;window.log=e=>n=>(console.log(e,n),n);const pr=e=>e[Math.floor(Math.random()*e.length)],gr=(e,n)=>{const a=e.offsetTop,f=e.offsetLeft,c=n.offsetTop,h=n.offsetLeft,o=a-c,m=f-h;return Math.sqrt(o*o+m*m)},mr=()=>"xxxxxxxx".replace(/[xy]/g,e=>{let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)}),yr=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function f(h,o){return Math.random()*(o-h)+h}const c=setInterval(function(){const h=n-Date.now();if(h<=0)return clearInterval(c);const o=50*(h/15e3);xt(Object.assign({},a,{particleCount:o,origin:{x:f(.1,.3),y:Math.random()-.2}})),xt(Object.assign({},a,{particleCount:o,origin:{x:f(.7,.9),y:Math.random()-.2}}))},250)},dr=()=>({chunks:[],blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[],path:[]},state:{showHint:L(!1),userMoves:L(0),status:L("select image"),hiddenBlock:L(null),direction:L("horizontal"),size:L(0),levels:{Easy:{count:25,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:L(null)},img:{src:L(null),srcs:L(null),width:L(0),height:L(0),zIndex:L(0),display:L(!0)}}),wr=[100,101],br=e=>(e.blocks=[],e.img.src(null),e.img.width(0),e.img.height(0),e.img.zIndex(0),e.img.display(!0),e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.showHint(!1),e.state.level(null),e.state.userMoves(0),e.state.status("select image"),e.swap.isDragging=!1,e.swap.src={coords:null,idx:null,id:null,dom:null,img:null},e.swap.target={coords:null,idx:null,id:null,dom:null,img:null},e.swap.swapBlockIds=[],e.swap.history=[],e.swap.path=[],e),vr=(e,n)=>({img:e,idx:n,id:mr(),coords:{}}),xr=(e,n)=>{const a=Array.from(n.parentNode.children),f=a.find(h=>h.id==e);f.style.backgroundImage="";const c=h=>wr.includes(gr(f,h));return a.filter(c).map(h=>h.id)},Mr=(e,n)=>{const a=n.width,f=n.height,c=Math.ceil(a/16),h=[];for(let m=0;m<a;m+=c){const p=document.createElement("canvas"),d=p.getContext("2d");p.width=c,p.height=f,d.drawImage(n,m,0,c,f,0,0,c,f),d.clip(),h.push(p.toDataURL()),e.chunks.push(p)}const o=h.map(vr);e.blocks=structuredClone(o),e.img.display(!1)},Cr=(e,n)=>{e.state.level(n),e.state.status("select square")},qt=e=>({target:{files:n}})=>(e.file=n[0],Promise.resolve(e.img.src(URL.createObjectURL(e.file)))),Er=e=>{e.swap.history=[],e.swap.path=[],e.swap.swapBlockIds=[],e.swap.history=[],e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.level(null),e.state.showHint(!1),e.state.userMoves(0),e.blocks=[],e.originals=[],e.img.display(!0),qt(e)({target:{files:[e.file]}}).then(()=>e.state.status("select level"))},Tr=e=>{const n=JSON.parse(e.originals).map(f=>JSON.stringify(f.coords)),a=e.blocks.map(f=>JSON.stringify(f.coords));return n.map((f,c)=>f==a[c]).reduce((f,c)=>c?f:f+1,0)},zt=(e,n,a)=>({target:f})=>(a&&e.swap.history.slice(-2)[0]==n?e.swap.history.pop():e.swap.history.push(n),a&&e.state.userMoves(e.state.userMoves()+1),e.state.hiddenBlock(n),e.swap.swapBlockIds=xr(n,f),e.state.status()=="ready"&&Tr(e)==0&&(e.state.status("completed"),e.img.display(!0),yr()),e),nt=(e,n)=>e.swap.swapBlockIds.includes(n.id),Xe=(e,n)=>n.id==e.state.hiddenBlock(),Ir=(e,n)=>e.swap.history.slice(-2)[0]==n.id,Pr=(e,n)=>e.swap.isDragging?Xe(e,n):nt(e,n)||Xe(e,n),Bt=(e,n,a)=>{if(!e.swap.swapBlockIds.includes(n.id))return;let f=document.getElementById("hint");f&&(f.checked=!1,e.state.showHint(!1));const c=e.state.hiddenBlock(),h=e.blocks.find(p=>p.id==c),o=h.dom,m=h.coords;h.coords=n.coords,kt(e,n,o),e.swap.dragging=!1,n.coords=m,zt(e,n.id,a)({target:n.dom})},kt=(e,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(e.img.src())})`,a.style.backgroundSize=`${e.img.width()}px ${e.img.height()}px`,a.style.backgroundPosition=`${e.img.coords.left-n.coords.left}px ${e.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},Ne=(e,n,a)=>({target:f})=>{if(a==e.state.levels[e.state.level()].count)return e.state.status("ready"),e.swap.path=[...e.swap.history],e;if(a==0)return zt(e,n.id)({target:f}),Ne(e,n,a+1)({target:f});if(a>0){const c=e.swap.history.slice(-2)[0];let h=e.swap.swapBlockIds.filter(d=>d!==c);const o=pr(h);if(o==null)return a=e.state.levels[e.state.level()].count,Ne(e,n,a)({target:n.dom});const m=e.blocks.find(d=>d.id==o),p=n.dom;return Bt(e,m),Ne(e,m,a+1)({target:p})}},Rr=(e,n)=>e.state.status()=="select square"||nt(e,n)&&e.state.status()!=="completed"?Ir(e,n)&&e.state.showHint()?"3px solid var(--hint)":"3px solid var(--hilight)":"",Nr=(e,n)=>Xe(e,n)?"isSwapBlock":nt(e,n)?"point isSwapBlock":e.state.status()=="select square"&&"point",Or=(e,n)=>e.state.hiddenBlock()?()=>Bt(e,n,!0):e.state.level()&&e.state.status()!=="completed"&&Ne(e,n,0),Sr=""+new URL("loader.2a3ba8fd.gif",import.meta.url).href,Ar={view:({attrs:{mdl:e}})=>z(".row ",e.img.src()&&z("button.btn",{onclick:()=>br(e)},"New"),e.state.status()=="ready"&&z("button.btn",{onclick:()=>Er(e)},"Restart"),e.state.status()=="ready"&&z("label.row",z("code","show hint"),z("label.switchContainer",z("input.switch#hint",{type:"checkbox",onclick:()=>e.state.showHint(!e.state.showHint())}),z(".slider.round"))))},Lr=()=>({oncreate:({dom:e,attrs:{mdl:n,block:a}})=>{const f=n.blocks.find(h=>h.id==a.id),c=e.getBoundingClientRect();a.coords=c,f.coords=c,a.dom=e,f.dom=e,kt(n,a,e)},view:({attrs:{mdl:e,block:n}})=>z(".block",{id:n.id,disabled:e.state.status()=="completed",class:Nr(e,n),onclick:Or(e,n),draggable:Pr(e,n),style:{border:Rr(e,n)}})}),qr=()=>({onupdate:({attrs:{mdl:e}})=>{if(e.state.status()=="select square")return e.originals=JSON.stringify(e.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:e}})=>z(".grid#map",e.blocks.map(n=>z(Lr,{mdl:e,block:n})))}),zr={view:({attrs:{mdl:e}})=>z("img#img",{onload:({target:n})=>{e.img.width(n.width),e.img.height(n.height),e.img.coords=n.getBoundingClientRect(),Mr(e,n)},src:e.img.src(),style:{opacity:e.img.display()?1:.2}})},Br={view:({attrs:{mdl:e}})=>z("label.col.point",z("code.text",{for:"upload"},"Upload an Image."),z("input.btn",{name:"upload",onchange:n=>qt(e)(n).then(()=>e.state.status("select level")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},kr=e=>({view:()=>z("#app.col",z("code.text",{style:{letterSpacing:"3px",fontSize:"2rem"}},"PHOTO SCRAMBLE!"),z(Ar,{mdl:e}),e.swap.history.length>0&&z(".col",z("pre.text",`Moves: ${e.state.userMoves()}`),z("pre.text",`Minimum Moves: ${e.state.levels[e.state.level()].count}`)),e.img.src()?[e.state.status()=="select level"&&z(".col",z("code.text","Select a level"),z(".row",Object.keys(e.state.levels).map(n=>z("button.btn",{style:{border:"2px solid var(--hilight)"},onclick:()=>Cr(e,n)},n)))),e.state.status()=="select square"&&[z("button.btn",{onclick:()=>{e.state.level(null),e.state.status("select level")}},"change level"),z("code.text","Select a boring square to hide")],z("#viewer.row",e.state.status()!=="completed"&&z(qr,{mdl:e}),z(zr,{mdl:e}))]:[z("img",{src:Sr}),z(Br,{mdl:e})])});z.mount(document.body,kr(dr()));
