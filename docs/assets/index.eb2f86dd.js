var Ut=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Fr=Ut(($r,Pe)=>{const Ht=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const o of h.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerpolicy&&(h.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?h.credentials="include":c.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(c){if(c.ep)return;c.ep=!0;const h=a(c);fetch(c.href,h)}};Ht();var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De,st;function me(){if(st)return De;st=1;function t(n,a,l,c,h,o){return{tag:n,key:a,attrs:l,children:c,text:h,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return t.normalize=function(n){return Array.isArray(n)?t("[",void 0,void 0,t.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:t("#",void 0,void 0,String(n),void 0,void 0)},t.normalizeChildren=function(n){var a=[];if(n.length){for(var l=n[0]!=null&&n[0].key!=null,c=1;c<n.length;c++)if((n[c]!=null&&n[c].key!=null)!==l)throw new TypeError(l&&(n[c]!=null||typeof n[c]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var c=0;c<n.length;c++)a[c]=t.normalize(n[c])}return a},De=t,De}var Jt=me(),Rt=function(){var t=arguments[this],n=this+1,a;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Jt("",t.key,t,a)},Oe={}.hasOwnProperty,Kt=me(),Vt=Rt,xe=Oe,Wt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Nt={};function ct(t){for(var n in t)if(xe.call(t,n))return!1;return!0}function Zt(t){for(var n,a="div",l=[],c={};n=Wt.exec(t);){var h=n[1],o=n[2];if(h===""&&o!=="")a=o;else if(h==="#")c.id=o;else if(h===".")l.push(o);else if(n[3][0]==="["){var p=n[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?l.push(p):c[n[4]]=p===""?p:p||!0}}return l.length>0&&(c.className=l.join(" ")),Nt[t]={tag:a,attrs:c}}function Qt(t,n){var a=n.attrs,l=xe.call(a,"class"),c=l?a.class:a.className;if(n.tag=t.tag,n.attrs={},!ct(t.attrs)&&!ct(a)){var h={};for(var o in a)xe.call(a,o)&&(h[o]=a[o]);a=h}for(var o in t.attrs)xe.call(t.attrs,o)&&o!=="className"&&!xe.call(a,o)&&(a[o]=t.attrs[o]);(c!=null||t.attrs.className!=null)&&(a.className=c!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(c):c:t.attrs.className!=null?t.attrs.className:null),l&&(a.class=null);for(var o in a)if(xe.call(a,o)&&o!=="key"){n.attrs=a;break}return n}function Xt(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var n=Vt.apply(1,arguments);return typeof t=="string"&&(n.children=Kt.normalizeChildren(n.children),t!=="[")?Qt(Nt[t]||Zt(t),n):(n.tag=t,n)}var Ot=Xt,Yt=me(),Gt=function(t){return t==null&&(t=""),Yt("<",void 0,void 0,t,void 0,void 0)},er=me(),tr=Rt,rr=function(){var t=tr.apply(0,arguments);return t.tag="[",t.children=er.normalizeChildren(t.children),t},nt=Ot;nt.trust=Gt;nt.fragment=rr;var nr=nt,Ie={exports:{}},$e,ft;function St(){if(ft)return $e;ft=1;var t=function(n){if(!(this instanceof t))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,l=[],c=[],h=w(l,!0),o=w(c,!1),p=a._instance={resolvers:l,rejectors:c},g=typeof setImmediate=="function"?setImmediate:setTimeout;function w(R,E){return function P(O){var b;try{if(E&&O!=null&&(typeof O=="object"||typeof O=="function")&&typeof(b=O.then)=="function"){if(O===a)throw new TypeError("Promise can't be resolved with itself.");d(b.bind(O))}else g(function(){!E&&R.length===0&&console.error("Possible unhandled promise rejection:",O);for(var S=0;S<R.length;S++)R[S](O);l.length=0,c.length=0,p.state=E,p.retry=function(){P(O)}})}catch(S){o(S)}}}function d(R){var E=0;function P(b){return function(S){E++>0||b(S)}}var O=P(o);try{R(P(h),O)}catch(b){O(b)}}d(n)};return t.prototype.then=function(n,a){var l=this,c=l._instance;function h(w,d,R,E){d.push(function(P){if(typeof w!="function")R(P);else try{o(w(P))}catch(O){p&&p(O)}}),typeof c.retry=="function"&&E===c.state&&c.retry()}var o,p,g=new t(function(w,d){o=w,p=d});return h(n,c.resolvers,o,!0),h(a,c.rejectors,p,!1),g},t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(n){return this.then(function(a){return t.resolve(n()).then(function(){return a})},function(a){return t.resolve(n()).then(function(){return t.reject(a)})})},t.resolve=function(n){return n instanceof t?n:new t(function(a){a(n)})},t.reject=function(n){return new t(function(a,l){l(n)})},t.all=function(n){return new t(function(a,l){var c=n.length,h=0,o=[];if(n.length===0)a([]);else for(var p=0;p<n.length;p++)(function(g){function w(d){h++,o[g]=d,h===c&&a(o)}n[g]!=null&&(typeof n[g]=="object"||typeof n[g]=="function")&&typeof n[g].then=="function"?n[g].then(w,l):w(n[g])})(p)})},t.race=function(n){return new t(function(a,l){for(var c=0;c<n.length;c++)n[c].then(a,l)})},$e=t,$e}var Ee=St();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Ee:window.Promise.prototype.finally||(window.Promise.prototype.finally=Ee.prototype.finally),Ie.exports=window.Promise):typeof ve<"u"?(typeof ve.Promise>"u"?ve.Promise=Ee:ve.Promise.prototype.finally||(ve.Promise.prototype.finally=Ee.prototype.finally),Ie.exports=ve.Promise):Ie.exports=Ee;var _e,ot;function ir(){if(ot)return _e;ot=1;var t=me();return _e=function(n){var a=n&&n.document,l,c={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function h(r){return r.attrs&&r.attrs.xmlns||c[r.tag]}function o(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function p(r){var e=r.state;try{return this.apply(e,arguments)}finally{o(r,e)}}function g(){try{return a.activeElement}catch{return null}}function w(r,e,i,f,m,y,N){for(var q=i;q<f;q++){var M=e[q];M!=null&&d(r,M,m,N,y)}}function d(r,e,i,f,m){var y=e.tag;if(typeof y=="string")switch(e.state={},e.attrs!=null&&Ce(e.attrs,e,i),y){case"#":R(r,e,m);break;case"<":P(r,e,f,m);break;case"[":O(r,e,i,f,m);break;default:b(r,e,i,f,m)}else _(r,e,i,f,m)}function R(r,e,i){e.dom=a.createTextNode(e.children),u(r,e.dom,i)}var E={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function P(r,e,i,f){var m=e.children.match(/^\s*?<(\w+)/im)||[],y=a.createElement(E[m[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",y=y.firstChild):y.innerHTML=e.children,e.dom=y.firstChild,e.domSize=y.childNodes.length,e.instance=[];for(var N=a.createDocumentFragment(),q;q=y.firstChild;)e.instance.push(q),N.appendChild(q);u(r,N,f)}function O(r,e,i,f,m){var y=a.createDocumentFragment();if(e.children!=null){var N=e.children;w(y,N,0,N.length,i,null,f)}e.dom=y.firstChild,e.domSize=y.childNodes.length,u(r,y,m)}function b(r,e,i,f,m){var y=e.tag,N=e.attrs,q=N&&N.is;f=h(e)||f;var M=f?q?a.createElementNS(f,y,{is:q}):a.createElementNS(f,y):q?a.createElement(y,{is:q}):a.createElement(y);if(e.dom=M,N!=null&&j(e,N,f),u(r,M,m),!v(e)&&e.children!=null){var B=e.children;w(M,B,0,B.length,i,null,f),e.tag==="select"&&N!=null&&le(e,N)}}function S(r,e){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ce(r.state,r,e),r.attrs!=null&&Ce(r.attrs,r,e),r.instance=t.normalize(p.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function _(r,e,i,f,m){S(e,i),e.instance!=null?(d(r,e.instance,i,f,m),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function V(r,e,i,f,m,y){if(!(e===i||e==null&&i==null))if(e==null||e.length===0)w(r,i,0,i.length,f,m,y);else if(i==null||i.length===0)C(r,e,0,e.length);else{var N=e[0]!=null&&e[0].key!=null,q=i[0]!=null&&i[0].key!=null,M=0,B=0;if(!N)for(;B<e.length&&e[B]==null;)B++;if(!q)for(;M<i.length&&i[M]==null;)M++;if(N!==q)C(r,e,B,e.length),w(r,i,M,i.length,f,m,y);else if(q){for(var re=e.length-1,Z=i.length-1,Ne,ne,J,G,F,ze;re>=B&&Z>=M&&(G=e[re],F=i[Z],G.key===F.key);)G!==F&&H(r,G,F,f,m,y),F.dom!=null&&(m=F.dom),re--,Z--;for(;re>=B&&Z>=M&&(ne=e[B],J=i[M],ne.key===J.key);)B++,M++,ne!==J&&H(r,ne,J,f,ue(e,B,m),y);for(;re>=B&&Z>=M&&!(M===Z||ne.key!==F.key||G.key!==J.key);)ze=ue(e,B,m),$(r,G,ze),G!==J&&H(r,G,J,f,ze,y),++M<=--Z&&$(r,ne,m),ne!==F&&H(r,ne,F,f,m,y),F.dom!=null&&(m=F.dom),B++,re--,G=e[re],F=i[Z],ne=e[B],J=i[M];for(;re>=B&&Z>=M&&G.key===F.key;)G!==F&&H(r,G,F,f,m,y),F.dom!=null&&(m=F.dom),re--,Z--,G=e[re],F=i[Z];if(M>Z)C(r,e,B,re+1);else if(B>re)w(r,i,M,Z+1,f,m,y);else{var _t=m,lt=Z-M+1,Te=new Array(lt),Be=0,U=0,je=2147483647,ke=0,Ne,Fe;for(U=0;U<lt;U++)Te[U]=-1;for(U=Z;U>=M;U--){Ne==null&&(Ne=ce(e,B,re+1)),F=i[U];var be=Ne[F.key];be!=null&&(je=be<je?be:-1,Te[U-M]=be,G=e[be],e[be]=null,G!==F&&H(r,G,F,f,m,y),F.dom!=null&&(m=F.dom),ke++)}if(m=_t,ke!==re-B+1&&C(r,e,B,re+1),ke===0)w(r,i,M,Z+1,f,m,y);else if(je===-1)for(Fe=te(Te),Be=Fe.length-1,U=Z;U>=M;U--)J=i[U],Te[U-M]===-1?d(r,J,f,y,m):Fe[Be]===U-M?Be--:$(r,J,m),J.dom!=null&&(m=i[U].dom);else for(U=Z;U>=M;U--)J=i[U],Te[U-M]===-1&&d(r,J,f,y,m),J.dom!=null&&(m=i[U].dom)}}else{var Le=e.length<i.length?e.length:i.length;for(M=M<B?M:B;M<Le;M++)ne=e[M],J=i[M],!(ne===J||ne==null&&J==null)&&(ne==null?d(r,J,f,y,ue(e,M+1,m)):J==null?T(r,ne):H(r,ne,J,f,ue(e,M+1,m),y));e.length>Le&&C(r,e,M,e.length),i.length>Le&&w(r,i,M,i.length,f,m,y)}}}function H(r,e,i,f,m,y){var N=e.tag,q=i.tag;if(N===q){if(i.state=e.state,i.events=e.events,qe(i,e))return;if(typeof N=="string")switch(i.attrs!=null&&we(i.attrs,i,f),N){case"#":fe(e,i);break;case"<":ie(r,e,i,y,m);break;case"[":K(r,e,i,f,m,y);break;default:ee(e,i,f,y)}else X(r,e,i,f,m,y)}else T(r,e),d(r,i,f,y,m)}function fe(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function ie(r,e,i,f,m){e.children!==i.children?(x(r,e),P(r,i,f,m)):(i.dom=e.dom,i.domSize=e.domSize,i.instance=e.instance)}function K(r,e,i,f,m,y){V(r,e.children,i.children,f,m,y);var N=0,q=i.children;if(i.dom=null,q!=null){for(var M=0;M<q.length;M++){var B=q[M];B!=null&&B.dom!=null&&(i.dom==null&&(i.dom=B.dom),N+=B.domSize||1)}N!==1&&(i.domSize=N)}}function ee(r,e,i,f){var m=e.dom=r.dom;f=h(e)||f,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),ae(e,r.attrs,e.attrs,f),v(e)||V(m,r.children,e.children,i,null,f)}function X(r,e,i,f,m,y){if(i.instance=t.normalize(p.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");we(i.state,i,f),i.attrs!=null&&we(i.attrs,i,f),i.instance!=null?(e.instance==null?d(r,i.instance,f,y,m):H(r,e.instance,i.instance,f,m,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):e.instance!=null?(T(r,e.instance),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function ce(r,e,i){for(var f=Object.create(null);e<i;e++){var m=r[e];if(m!=null){var y=m.key;y!=null&&(f[y]=e)}}return f}var Y=[];function te(r){for(var e=[0],i=0,f=0,m=0,y=Y.length=r.length,m=0;m<y;m++)Y[m]=r[m];for(var m=0;m<y;++m)if(r[m]!==-1){var N=e[e.length-1];if(r[N]<r[m]){Y[m]=N,e.push(m);continue}for(i=0,f=e.length-1;i<f;){var q=(i>>>1)+(f>>>1)+(i&f&1);r[e[q]]<r[m]?i=q+1:f=q}r[m]<r[e[i]]&&(i>0&&(Y[m]=e[i-1]),e[i]=m)}for(i=e.length,f=e[i-1];i-- >0;)e[i]=f,f=Y[f];return Y.length=0,e}function ue(r,e,i){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return i}function $(r,e,i){var f=a.createDocumentFragment();s(r,f,e),u(r,f,i)}function s(r,e,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var f=0;f<i.instance.length;f++)e.appendChild(i.instance[f]);else if(i.tag!=="[")e.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var f=0;f<i.children.length;f++){var m=i.children[f];m!=null&&s(r,e,m)}break}}function u(r,e,i){i!=null?r.insertBefore(e,i):r.appendChild(e)}function v(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var i=e[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function C(r,e,i,f){for(var m=i;m<f;m++){var y=e[m];y!=null&&T(r,y)}}function T(r,e){var i=0,f=e.state,m,y;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var N=p.call(e.state.onbeforeremove,e);N!=null&&typeof N.then=="function"&&(i=1,m=N)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var N=p.call(e.attrs.onbeforeremove,e);N!=null&&typeof N.then=="function"&&(i|=2,y=N)}if(o(e,f),!i)A(e),I(r,e);else{if(m!=null){var q=function(){i&1&&(i&=2,i||M())};m.then(q,q)}if(y!=null){var q=function(){i&2&&(i&=1,i||M())};y.then(q,q)}}function M(){o(e,f),A(e),I(r,e)}}function x(r,e){for(var i=0;i<e.instance.length;i++)r.removeChild(e.instance[i])}function I(r,e){for(;e.dom!=null&&e.dom.parentNode===r;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")x(r,e);else{if(e.tag!=="["&&(r.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var i=0;i<e.children.length;i++){var f=e.children[i];f!=null&&I(r,f)}}break}}function A(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&p.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&p.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&A(r.instance);else{var e=r.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var f=e[i];f!=null&&A(f)}}}function j(r,e,i){r.tag==="input"&&e.type!=null&&r.dom.setAttribute("type",e.type);var f=e!=null&&r.tag==="input"&&e.type==="file";for(var m in e)W(r,m,null,e[m],i,f)}function W(r,e,i,f,m,y){if(!(e==="key"||e==="is"||f==null||ge(e)||i===f&&!k(r,e)&&typeof f!="object"||e==="type"&&r.tag==="input")){if(e[0]==="o"&&e[1]==="n")return Re(r,e,f);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),f);else if(e==="style")se(r.dom,i,f);else if(ye(r,e,m)){if(e==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+f&&(y||r.dom===g())||r.tag==="select"&&i!==null&&r.dom.value===""+f||r.tag==="option"&&i!==null&&r.dom.value===""+f)return;if(y&&""+f!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[e]=f}else typeof f=="boolean"?f?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,f)}}function z(r,e,i,f){if(!(e==="key"||e==="is"||i==null||ge(e)))if(e[0]==="o"&&e[1]==="n")Re(r,e,void 0);else if(e==="style")se(r.dom,i,null);else if(ye(r,e,f)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===g()))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var m=e.indexOf(":");m!==-1&&(e=e.slice(m+1)),i!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function le(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+e.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in e&&W(r,"selectedIndex",null,e.selectedIndex,void 0)}function ae(r,e,i,f){if(e&&e===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var m=r.tag==="input"&&i.type==="file";for(var y in i)W(r,y,e&&e[y],i[y],f,m)}var N;if(e!=null)for(var y in e)(N=e[y])!=null&&(i==null||i[y]==null)&&z(r,y,N,f)}function k(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===g()||r.tag==="option"&&r.dom.parentNode===a.activeElement}function ge(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,e,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}var oe=/[A-Z]/g;function de(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(oe,de)}function se(r,e,i){if(e!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(e==null||typeof e!="object"){r.style.cssText="";for(var f in i){var m=i[f];m!=null&&r.style.setProperty(he(f),String(m))}}else{for(var f in i){var m=i[f];m!=null&&(m=String(m))!==String(e[f])&&r.style.setProperty(he(f),m)}for(var f in e)e[f]!=null&&i[f]==null&&r.style.removeProperty(he(f))}}function Me(){this._=l}Me.prototype=Object.create(null),Me.prototype.handleEvent=function(r){var e=this["on"+r.type],i;typeof e=="function"?i=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Re(r,e,i){if(r.events!=null){if(r.events._=l,r.events[e]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new Me,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i)}function Ce(r,e,i){typeof r.oninit=="function"&&p.call(r.oninit,e),typeof r.oncreate=="function"&&i.push(p.bind(r.oncreate,e))}function we(r,e,i){typeof r.onupdate=="function"&&i.push(p.bind(r.onupdate,e))}function qe(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=p.call(r.attrs.onbeforeupdate,r,e);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=p.call(r.state.onbeforeupdate,r,e);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var pe;return function(r,e,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&r.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var f=l,m=pe,y=[],N=g(),q=r.namespaceURI;pe=r,l=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),e=t.normalizeChildren(Array.isArray(e)?e:[e]),V(r,r.vnodes,e,y,null,q==="http://www.w3.org/1999/xhtml"?void 0:q),r.vnodes=e,N!=null&&g()!==N&&typeof N.focus=="function"&&N.focus();for(var M=0;M<y.length;M++)y[M]()}finally{l=f,pe=m}}},_e}var Ue,ht;function At(){return ht||(ht=1,Ue=ir()(typeof window<"u"?window:null)),Ue}var pt=me(),ar=function(t,n,a){var l=[],c=!1,h=-1;function o(){for(h=0;h<l.length;h+=2)try{t(l[h],pt(l[h+1]),p)}catch(w){a.error(w)}h=-1}function p(){c||(c=!0,n(function(){c=!1,o()}))}p.sync=o;function g(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var R=l.indexOf(w);R>=0&&(l.splice(R,2),R<=h&&(h-=2),t(w,[])),d!=null&&(l.push(w,d),t(w,pt(d),p))}return{mount:g,redraw:p}},ur=At(),it=ar(ur,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),He,mt;function qt(){return mt||(mt=1,He=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var n=[];for(var a in t)l(a,t[a]);return n.join("&");function l(c,h){if(Array.isArray(h))for(var o=0;o<h.length;o++)l(c+"["+o+"]",h[o]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var o in h)l(c+"["+o+"]",h[o]);else n.push(encodeURIComponent(c)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}),He}var Je,gt;function Lt(){if(gt)return Je;gt=1;var t=Oe;return Je=Object.assign||function(n,a){for(var l in a)t.call(a,l)&&(n[l]=a[l])},Je}var Ke,yt;function at(){if(yt)return Ke;yt=1;var t=qt(),n=Lt();return Ke=function(a,l){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(l==null)return a;var c=a.indexOf("?"),h=a.indexOf("#"),o=h<0?a.length:h,p=c<0?o:c,g=a.slice(0,p),w={};n(w,l);var d=g.replace(/:([^\/\.-]+)(\.{3})?/g,function(_,V,H){return delete w[V],l[V]==null?_:H?l[V]:encodeURIComponent(String(l[V]))}),R=d.indexOf("?"),E=d.indexOf("#"),P=E<0?d.length:E,O=R<0?P:R,b=d.slice(0,O);c>=0&&(b+=a.slice(c,o)),R>=0&&(b+=(c<0?"?":"&")+d.slice(R,P));var S=t(w);return S&&(b+=(c<0&&R<0?"?":"&")+S),h>=0&&(b+=a.slice(h)),E>=0&&(b+=(h<0?"":"&")+d.slice(E)),b},Ke}var lr=at(),dt=Oe,sr=function(t,n,a){var l=0;function c(p){return new n(p)}c.prototype=n.prototype,c.__proto__=n;function h(p){return function(g,w){typeof g!="string"?(w=g,g=g.url):w==null&&(w={});var d=new n(function(O,b){p(lr(g,w.params),w,function(S){if(typeof w.type=="function")if(Array.isArray(S))for(var _=0;_<S.length;_++)S[_]=new w.type(S[_]);else S=new w.type(S);O(S)},b)});if(w.background===!0)return d;var R=0;function E(){--R===0&&typeof a=="function"&&a()}return P(d);function P(O){var b=O.then;return O.constructor=c,O.then=function(){R++;var S=b.apply(O,arguments);return S.then(E,function(_){if(E(),R===0)throw _}),P(S)},O}}}function o(p,g){for(var w in p.headers)if(dt.call(p.headers,w)&&w.toLowerCase()===g)return!0;return!1}return{request:h(function(p,g,w,d){var R=g.method!=null?g.method.toUpperCase():"GET",E=g.body,P=(g.serialize==null||g.serialize===JSON.serialize)&&!(E instanceof t.FormData||E instanceof t.URLSearchParams),O=g.responseType||(typeof g.extract=="function"?"":"json"),b=new t.XMLHttpRequest,S=!1,_=!1,V=b,H,fe=b.abort;b.abort=function(){S=!0,fe.call(this)},b.open(R,p,g.async!==!1,typeof g.user=="string"?g.user:void 0,typeof g.password=="string"?g.password:void 0),P&&E!=null&&!o(g,"content-type")&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof g.deserialize!="function"&&!o(g,"accept")&&b.setRequestHeader("Accept","application/json, text/*"),g.withCredentials&&(b.withCredentials=g.withCredentials),g.timeout&&(b.timeout=g.timeout),b.responseType=O;for(var ie in g.headers)dt.call(g.headers,ie)&&b.setRequestHeader(ie,g.headers[ie]);b.onreadystatechange=function(K){if(!S&&K.target.readyState===4)try{var ee=K.target.status>=200&&K.target.status<300||K.target.status===304||/^file:\/\//i.test(p),X=K.target.response,ce;if(O==="json"){if(!K.target.responseType&&typeof g.extract!="function")try{X=JSON.parse(K.target.responseText)}catch{X=null}}else(!O||O==="text")&&X==null&&(X=K.target.responseText);if(typeof g.extract=="function"?(X=g.extract(K.target,g),ee=!0):typeof g.deserialize=="function"&&(X=g.deserialize(X)),ee)w(X);else{var Y=function(){try{ce=K.target.responseText}catch{ce=X}var te=new Error(ce);te.code=K.target.status,te.response=X,d(te)};b.status===0?setTimeout(function(){_||Y()}):Y()}}catch(te){d(te)}},b.ontimeout=function(K){_=!0;var ee=new Error("Request timed out");ee.code=K.target.status,d(ee)},typeof g.config=="function"&&(b=g.config(b,g,p)||b,b!==V&&(H=b.abort,b.abort=function(){S=!0,H.call(this)})),E==null?b.send():typeof g.serialize=="function"?b.send(g.serialize(E)):E instanceof t.FormData||E instanceof t.URLSearchParams?b.send(E):b.send(JSON.stringify(E))}),jsonp:h(function(p,g,w,d){var R=g.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+l++,E=t.document.createElement("script");t[R]=function(P){delete t[R],E.parentNode.removeChild(E),w(P)},E.onerror=function(){delete t[R],E.parentNode.removeChild(E),d(new Error("JSONP request failed"))},E.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(g.callbackKey||"callback")+"="+encodeURIComponent(R),t.document.documentElement.appendChild(E)})}},cr=Ie.exports,fr=it,or=sr(typeof window<"u"?window:null,cr,fr.redraw),Ve,wt;function zt(){if(wt)return Ve;wt=1;function t(n){try{return decodeURIComponent(n)}catch{return n}}return Ve=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),l={},c={},h=0;h<a.length;h++){var o=a[h].split("="),p=t(o[0]),g=o.length===2?t(o[1]):"";g==="true"?g=!0:g==="false"&&(g=!1);var w=p.split(/\]\[?|\[/),d=c;p.indexOf("[")>-1&&w.pop();for(var R=0;R<w.length;R++){var E=w[R],P=w[R+1],O=P==""||!isNaN(parseInt(P,10));if(E===""){var p=w.slice(0,R).join();l[p]==null&&(l[p]=Array.isArray(d)?d.length:0),E=l[p]++}else if(E==="__proto__")break;if(R===w.length-1)d[E]=g;else{var b=Object.getOwnPropertyDescriptor(d,E);b!=null&&(b=b.value),b==null&&(d[E]=b=O?[]:{}),d=b}}}return c},Ve}var We,bt;function ut(){if(bt)return We;bt=1;var t=zt();return We=function(n){var a=n.indexOf("?"),l=n.indexOf("#"),c=l<0?n.length:l,h=a<0?c:a,o=n.slice(0,h).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:a<0?{}:t(n.slice(a+1,c))}},We}var Ze,vt;function hr(){if(vt)return Ze;vt=1;var t=ut();return Ze=function(n){var a=t(n),l=Object.keys(a.params),c=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,p,g){return p==null?"\\"+o:(c.push({k:p,r:g==="..."}),g==="..."?"(.*)":g==="."?"([^/]+)\\.":"([^/]+)"+(g||""))})+"$");return function(o){for(var p=0;p<l.length;p++)if(a.params[l[p]]!==o.params[l[p]])return!1;if(!c.length)return h.test(o.path);var g=h.exec(o.path);if(g==null)return!1;for(var p=0;p<c.length;p++)o.params[c[p].k]=c[p].r?g[p+1]:decodeURIComponent(g[p+1]);return!0}},Ze}var Qe,xt;function Bt(){if(xt)return Qe;xt=1;var t=Oe,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Qe=function(a,l){var c={};if(l!=null)for(var h in a)t.call(a,h)&&!n.test(h)&&l.indexOf(h)<0&&(c[h]=a[h]);else for(var h in a)t.call(a,h)&&!n.test(h)&&(c[h]=a[h]);return c},Qe}var Xe,Mt;function pr(){if(Mt)return Xe;Mt=1;var t=me(),n=Ot,a=Ie.exports,l=at(),c=ut(),h=hr(),o=Lt(),p=Bt(),g={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Xe=function(d,R){var E=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,P=a.resolve(),O=!1,b=!1,S=0,_,V,H=g,fe,ie,K,ee,X={onbeforeupdate:function(){return S=S?2:1,!(!S||g===H)},onremove:function(){d.removeEventListener("popstate",te,!1),d.removeEventListener("hashchange",Y,!1)},view:function(){if(!(!S||g===H)){var s=[t(fe,ie.key,ie)];return H&&(s=H.render(s[0])),s}}},ce=$.SKIP={};function Y(){O=!1;var s=d.location.hash;$.prefix[0]!=="#"&&(s=d.location.search+s,$.prefix[0]!=="?"&&(s=d.location.pathname+s,s[0]!=="/"&&(s="/"+s)));var u=s.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice($.prefix.length),v=c(u);o(v.params,d.history.state);function C(x){console.error(x),ue(V,null,{replace:!0})}T(0);function T(x){for(;x<_.length;x++)if(_[x].check(v)){var I=_[x].component,A=_[x].route,j=I,W=ee=function(z){if(W===ee){if(z===ce)return T(x+1);fe=z!=null&&(typeof z.view=="function"||typeof z=="function")?z:"div",ie=v.params,K=u,ee=null,H=I.render?I:null,S===2?R.redraw():(S=2,R.redraw.sync())}};I.view||typeof I=="function"?(I={},W(j)):I.onmatch?P.then(function(){return I.onmatch(v.params,u,A)}).then(W,u===V?null:C):W("div");return}if(u===V)throw new Error("Could not resolve default route "+V+".");ue(V,null,{replace:!0})}}function te(){O||(O=!0,E(Y))}function ue(s,u,v){if(s=l(s,u),b){te();var C=v?v.state:null,T=v?v.title:null;v&&v.replace?d.history.replaceState(C,T,$.prefix+s):d.history.pushState(C,T,$.prefix+s)}else d.location.href=$.prefix+s}function $(s,u,v){if(!s)throw new TypeError("DOM element being rendered to does not exist.");if(_=Object.keys(v).map(function(T){if(T[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(T))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:T,component:v[T],check:h(T)}}),V=u,u!=null){var C=c(u);if(!_.some(function(T){return T.check(C)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",te,!1):$.prefix[0]==="#"&&d.addEventListener("hashchange",Y,!1),b=!0,R.mount(s,X),Y()}return $.set=function(s,u,v){ee!=null&&(v=v||{},v.replace=!0),ee=null,ue(s,u,v)},$.get=function(){return K},$.prefix="#!",$.Link={view:function(s){var u=n(s.attrs.selector||"a",p(s.attrs,["options","params","selector","onclick"]),s.children),v,C,T;return(u.attrs.disabled=Boolean(u.attrs.disabled))?(u.attrs.href=null,u.attrs["aria-disabled"]="true"):(v=s.attrs.options,C=s.attrs.onclick,T=l(u.attrs.href,s.attrs.params),u.attrs.href=$.prefix+T,u.attrs.onclick=function(x){var I;typeof C=="function"?I=C.call(x.currentTarget,x):C==null||typeof C!="object"||typeof C.handleEvent=="function"&&C.handleEvent(x),I!==!1&&!x.defaultPrevented&&(x.button===0||x.which===0||x.which===1)&&(!x.currentTarget.target||x.currentTarget.target==="_self")&&!x.ctrlKey&&!x.metaKey&&!x.shiftKey&&!x.altKey&&(x.preventDefault(),x.redraw=!1,$.set(T,null,v))}),u}},$.param=function(s){return ie&&s!=null?ie[s]:ie},$},Xe}var Ye,Ct;function mr(){if(Ct)return Ye;Ct=1;var t=it;return Ye=pr()(typeof window<"u"?window:null,t),Ye}var Se=nr,jt=or,kt=it,Q=function(){return Se.apply(this,arguments)};Q.m=Se;Q.trust=Se.trust;Q.fragment=Se.fragment;Q.Fragment="[";Q.mount=kt.mount;Q.route=mr();Q.render=At();Q.redraw=kt.redraw;Q.request=jt.request;Q.jsonp=jt.jsonp;Q.parseQueryString=zt();Q.buildQueryString=qt();Q.parsePathname=ut();Q.buildPathname=at();Q.vnode=me();Q.PromisePolyfill=St();Q.censor=Bt();var D=Q;L.SKIP={};L.lift=dr;L.scan=gr;L.merge=Ft;L.combine=Ae;L.scanMerge=yr;L["fantasy-land/of"]=L;var Tt=!1;Object.defineProperty(L,"HALT",{get:function(){return Tt||console.log("HALT is deprecated and has been renamed to SKIP"),Tt=!0,L.SKIP}});function L(t){var n=[],a=[];function l(o){return arguments.length&&o!==L.SKIP&&(t=o,Et(l)&&(l.changing(),l.state="active",n.forEach(function(p,g){p(a[g](t))}))),t}l.constructor=L,l.state=arguments.length&&t!==L.SKIP?"active":"pending",l.parents=[],l.changing=function(){Et(l)&&(l.state="changing"),n.forEach(function(o){o.changing()})},l.map=function(o,p){var g=l.state==="active"&&p!==L.SKIP?L(o(t)):L();return g.parents.push(l),n.push(g),a.push(o),g};var c;function h(){return c=L(),c.map(function(o){return o===!0&&(l.parents.forEach(function(p){p.unregisterChild(l)}),l.state="ended",l.parents.length=n.length=a.length=0),o}),c}return l.toJSON=function(){return t!=null&&typeof t.toJSON=="function"?t.toJSON():t},l["fantasy-land/map"]=l.map,l["fantasy-land/ap"]=function(o){return Ae(function(p,g){return p()(g())},[o,l])},l.unregisterChild=function(o){var p=n.indexOf(o);p!==-1&&(n.splice(p,1),a.splice(p,1))},Object.defineProperty(l,"end",{get:function(){return c||h()}}),l}function Ae(t,n){var a=n.every(function(p){if(p.constructor!==L)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return p.state==="active"}),l=a?L(t.apply(null,n.concat([n]))):L(),c=[],h=n.map(function(p){return p.map(function(g){return c.push(p),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,l(t.apply(null,n.concat([c]))),c=[]),g},L.SKIP)}),o=l.end.map(function(p){p===!0&&(h.forEach(function(g){g.end(!0)}),o.end(!0))});return l}function Ft(t){return Ae(function(){return t.map(function(n){return n()})},t)}function gr(t,n,a){var l=a.map(function(c){var h=t(n,c);return h!==L.SKIP&&(n=h),h});return l(n),l}function yr(t,n){var a=t.map(function(c){return c[0]}),l=Ae(function(){var c=arguments[arguments.length-1];return a.forEach(function(h,o){c.indexOf(h)>-1&&(n=t[o][1](n,h()))}),n},a);return l(n),l}function dr(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);return Ft(n).map(function(a){return t.apply(void 0,a)})}function Et(t){return t.state==="pending"||t.state==="active"||t.state==="changing"}var Pe={};(function t(n,a,l,c){var h=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function o(){}function p(s){var u=a.exports.Promise,v=u!==void 0?u:n.Promise;return typeof v=="function"?new v(s):(s(o,o),null)}var g=function(){var s=Math.floor(16.666666666666668),u,v,C={},T=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function(x){var I=Math.random();return C[I]=requestAnimationFrame(function A(j){T===j||T+s-1<j?(T=j,delete C[I],x()):C[I]=requestAnimationFrame(A)}),I},v=function(x){C[x]&&cancelAnimationFrame(C[x])}):(u=function(x){return setTimeout(x,s)},v=function(x){return clearTimeout(x)}),{frame:u,cancel:v}}(),w=function(){var s,u,v={};function C(T){function x(I,A){T.postMessage({options:I||{},callback:A})}T.init=function(A){var j=A.transferControlToOffscreen();T.postMessage({canvas:j},[j])},T.fire=function(A,j,W){if(u)return x(A,null),u;var z=Math.random().toString(36).slice(2);return u=p(function(le){function ae(k){k.data.callback===z&&(delete v[z],T.removeEventListener("message",ae),u=null,W(),le())}T.addEventListener("message",ae),x(A,z),v[z]=ae.bind(null,{data:{callback:z}})}),u},T.reset=function(){T.postMessage({reset:!0});for(var A in v)v[A](),delete v[A]}}return function(){if(s)return s;if(!l&&h){var T=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{s=new Worker(URL.createObjectURL(new Blob([T])))}catch(x){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",x),null}C(s)}return s}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function R(s,u){return u?u(s):s}function E(s){return s!=null}function P(s,u,v){return R(s&&E(s[u])?s[u]:d[u],v)}function O(s){return s<0?0:Math.floor(s)}function b(s,u){return Math.floor(Math.random()*(u-s))+s}function S(s){return parseInt(s,16)}function _(s){return s.map(V)}function V(s){var u=String(s).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:S(u.substring(0,2)),g:S(u.substring(2,4)),b:S(u.substring(4,6))}}function H(s){var u=P(s,"origin",Object);return u.x=P(u,"x",Number),u.y=P(u,"y",Number),u}function fe(s){s.width=document.documentElement.clientWidth,s.height=document.documentElement.clientHeight}function ie(s){var u=s.getBoundingClientRect();s.width=u.width,s.height=u.height}function K(s){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=s,u}function ee(s,u,v,C,T,x,I,A,j){s.save(),s.translate(u,v),s.rotate(x),s.scale(C,T),s.arc(0,0,1,I,A,j),s.restore()}function X(s){var u=s.angle*(Math.PI/180),v=s.spread*(Math.PI/180);return{x:s.x,y:s.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:s.startVelocity*.5+Math.random()*s.startVelocity,angle2D:-u+(.5*v-Math.random()*v),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:s.color,shape:s.shape,tick:0,totalTicks:s.ticks,decay:s.decay,drift:s.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:s.gravity*3,ovalScalar:.6,scalar:s.scalar}}function ce(s,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.wobble+=u.wobbleSpeed,u.velocity*=u.decay,u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble);var v=u.tick++/u.totalTicks,C=u.x+u.random*u.tiltCos,T=u.y+u.random*u.tiltSin,x=u.wobbleX+u.random*u.tiltCos,I=u.wobbleY+u.random*u.tiltSin;if(s.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-v)+")",s.beginPath(),u.shape==="circle")s.ellipse?s.ellipse(u.x,u.y,Math.abs(x-C)*u.ovalScalar,Math.abs(I-T)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):ee(s,u.x,u.y,Math.abs(x-C)*u.ovalScalar,Math.abs(I-T)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var A=Math.PI/2*3,j=4*u.scalar,W=8*u.scalar,z=u.x,le=u.y,ae=5,k=Math.PI/ae;ae--;)z=u.x+Math.cos(A)*W,le=u.y+Math.sin(A)*W,s.lineTo(z,le),A+=k,z=u.x+Math.cos(A)*j,le=u.y+Math.sin(A)*j,s.lineTo(z,le),A+=k;else s.moveTo(Math.floor(u.x),Math.floor(u.y)),s.lineTo(Math.floor(u.wobbleX),Math.floor(T)),s.lineTo(Math.floor(x),Math.floor(I)),s.lineTo(Math.floor(C),Math.floor(u.wobbleY));return s.closePath(),s.fill(),u.tick<u.totalTicks}function Y(s,u,v,C,T){var x=u.slice(),I=s.getContext("2d"),A,j,W=p(function(z){function le(){A=j=null,I.clearRect(0,0,C.width,C.height),T(),z()}function ae(){l&&!(C.width===c.width&&C.height===c.height)&&(C.width=s.width=c.width,C.height=s.height=c.height),!C.width&&!C.height&&(v(s),C.width=s.width,C.height=s.height),I.clearRect(0,0,C.width,C.height),x=x.filter(function(k){return ce(I,k)}),x.length?A=g.frame(ae):le()}A=g.frame(ae),j=le});return{addFettis:function(z){return x=x.concat(z),W},canvas:s,promise:W,reset:function(){A&&g.cancel(A),j&&j()}}}function te(s,u){var v=!s,C=!!P(u||{},"resize"),T=P(u,"disableForReducedMotion",Boolean),x=h&&!!P(u||{},"useWorker"),I=x?w():null,A=v?fe:ie,j=s&&I?!!s.__confetti_initialized:!1,W=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function le(k,ge,ye){for(var oe=P(k,"particleCount",O),de=P(k,"angle",Number),he=P(k,"spread",Number),se=P(k,"startVelocity",Number),Me=P(k,"decay",Number),Re=P(k,"gravity",Number),Ce=P(k,"drift",Number),we=P(k,"colors",_),qe=P(k,"ticks",Number),pe=P(k,"shapes"),r=P(k,"scalar"),e=H(k),i=oe,f=[],m=s.width*e.x,y=s.height*e.y;i--;)f.push(X({x:m,y,angle:de,spread:he,startVelocity:se,color:we[i%we.length],shape:pe[b(0,pe.length)],ticks:qe,decay:Me,gravity:Re,drift:Ce,scalar:r}));return z?z.addFettis(f):(z=Y(s,f,A,ge,ye),z.promise)}function ae(k){var ge=T||P(k,"disableForReducedMotion",Boolean),ye=P(k,"zIndex",Number);if(ge&&W)return p(function(se){se()});v&&z?s=z.canvas:v&&!s&&(s=K(ye),document.body.appendChild(s)),C&&!j&&A(s);var oe={width:s.width,height:s.height};I&&!j&&I.init(s),j=!0,I&&(s.__confetti_initialized=!0);function de(){if(I){var se={getBoundingClientRect:function(){if(!v)return s.getBoundingClientRect()}};A(se),I.postMessage({resize:{width:se.width,height:se.height}});return}oe.width=oe.height=null}function he(){z=null,C&&n.removeEventListener("resize",de),v&&s&&(document.body.removeChild(s),s=null,j=!1)}return C&&n.addEventListener("resize",de,!1),I?I.fire(k,oe,he):le(k,oe,he)}return ae.reset=function(){I&&I.reset(),z&&z.reset()},ae}var ue;function $(){return ue||(ue=te(null,{useWorker:!0,resize:!0})),ue}a.exports=function(){return $().apply(this,arguments)},a.exports.reset=function(){$().reset()},a.exports.create=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Pe,!1);const It=Pe.exports;Pe.exports.create;const wr=()=>({cell:{size:L(0)},blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[]},state:{status:L("select"),hiddenBlock:L(null),direction:L("horizontal"),size:L(0),levels:{Easy:{count:10,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:L(null)},img:{search:L(null),src:L(null),srcs:L(null),width:L(0),height:L(0),zIndex:L(0),display:L(!0)}}),Pt=(t,n)=>Array.from({length:Math.ceil(t.length/n)},(l,c)=>c*n).map(l=>t.slice(l,l+n)),br=t=>(t.blocks=[],t.img.src(null),t.img.search(null),t.img.width(0),t.img.height(0),t.img.zIndex(0),t.img.display(!0),t.state.hiddenBlock(null),t.state.direction("horizontal"),t.state.level(null),t.swap.isDragging=!1,t.swap.src={coords:null,idx:null,id:null,dom:null,img:null},t.swap.target={coords:null,idx:null,id:null,dom:null,img:null},t.swap.swapBlockIds=[],t.swap.history=[],t.cell.size(0),t);window.log=t=>n=>(console.log(t,n),n);const vr=[100,101],xr=(t,n)=>{const a=t.offsetTop,l=t.offsetLeft,c=n.offsetTop,h=n.offsetLeft,o=a-c,p=l-h;return Math.sqrt(o*o+p*p)},Mr=()=>"xxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)}),Cr=(t,n)=>({img:t,idx:n,id:Mr(),coords:{}}),Tr=(t,n)=>{const a=Array.from(n.parentNode.children),l=a.find(h=>h.id==t);l.style.backgroundImage="";const c=h=>vr.includes(xr(l,h));return a.filter(c).map(h=>h.id)},Er=(t,n)=>{const a=n.width,l=n.height,c=Math.ceil(a/16),h=[];for(let p=0;p<a;p+=c){const g=document.createElement("canvas"),w=g.getContext("2d");g.width=c,g.height=l,w.drawImage(n,p,0,c,l,0,0,c,l),h.push(g.toDataURL())}const o=h.map(Cr);t.blocks=structuredClone(o),t.img.display(!1)},Ir=(t,n)=>{t.state.level(n),t.state.status("select square")},Pr=t=>({target:{files:n}})=>(t.file=n[0],Promise.resolve(t.img.src(URL.createObjectURL(t.file)))),Rr=t=>{const n=JSON.parse(t.originals).map(l=>JSON.stringify(l.coords)),a=t.blocks.map(l=>JSON.stringify(l.coords));return n.map((l,c)=>l==a[c]).reduce((l,c)=>c?l:l+1,0)},Ge=(t,n)=>({target:a})=>(t.swap.history.push(n),t.state.hiddenBlock(n),t.swap.swapBlockIds=Tr(n,a),t.state.status()=="ready"&&Rr(t)==0&&(t.state.status("completed"),t.img.display(!0),Or()),t),et=(t,n)=>t.swap.swapBlockIds.includes(n.id),tt=(t,n)=>n.id==t.state.hiddenBlock(),Nr=(t,n)=>t.swap.isDragging?tt(t,n):et(t,n)||tt(t,n),Dt=(t,n)=>{if(!t.swap.swapBlockIds.includes(n.id))return;const a=t.state.hiddenBlock(),l=t.blocks.find(o=>o.id==a),c=l.dom,h=l.coords;l.coords=n.coords,$t(t,n,c),t.swap.dragging=!1,n.coords=h,Ge(t,n.id)({target:n.dom})},$t=(t,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(t.img.src())})`,a.style.backgroundSize=`${t.img.width()}px ${t.img.height()}px`,a.style.backgroundPosition=`${t.img.coords.left-n.coords.left}px ${t.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},rt=(t,n,a)=>({target:l})=>{if(a>=t.state.levels[t.state.level()].count)return t.state.status("ready"),Ar(t),t;if(a==0)return Ge(t,n.id)({target:l}),rt(t,n,a+1)({target:l});if(a>0){Ge(t,n.id)({target:l});const c=t.swap.swapBlockIds[Math.floor(Math.random()*t.swap.swapBlockIds.length)],h=t.blocks.find(p=>p.id==c),o=n.dom;return Dt(t,h),rt(t,h,a+1)({target:o})}},Or=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function l(h,o){return Math.random()*(o-h)+h}const c=setInterval(function(){const h=n-Date.now();if(h<=0)return clearInterval(c);const o=50*(h/15e3);It(Object.assign({},a,{particleCount:o,origin:{x:l(.1,.3),y:Math.random()-.2}})),It(Object.assign({},a,{particleCount:o,origin:{x:l(.7,.9),y:Math.random()-.2}}))},250)},Sr=t=>t.swap.history.length-t.state.levels[t.state.level()].subtract,Ar=t=>{const n=JSON.parse(t.originals).map(o=>JSON.stringify(o.coords)),a=t.blocks.map(o=>JSON.stringify(o.coords)),l=Pt(n.map((o,p)=>p),4),c=Pt(n.map(o=>a.indexOf(o)),4),h=t.blocks.map(o=>o.id).indexOf(t.state.hiddenBlock());minSwaps(c,h),console.log(l,c,h)},qr={view:({attrs:{mdl:t}})=>D(".col ",D("code.text",{style:{letterSpacing:"3px",fontSize:"2rem"}},"PHOTO SCRAMBLE!"),t.img.src()&&D("button.btn",{onclick:()=>br(t)},"New"))},Lr=()=>({oncreate:({dom:t,attrs:{mdl:n,block:a}})=>{const l=n.blocks.find(h=>h.id==a.id),c=t.getBoundingClientRect();a.coords=c,l.coords=c,a.dom=t,l.dom=t,$t(n,a,t)},view:({attrs:{mdl:t,block:n}})=>D(".block",{id:n.id,disabled:t.state.status()=="completed",class:tt(t,n)?"isSwapBlock hiddenBlock":et(t,n)?"point isSwapBlock":t.state.status()=="select square"&&"point",onclick:t.state.hiddenBlock()?()=>Dt(t,n):t.state.level()&&t.state.status()!=="completed"&&rt(t,n,0),draggable:Nr(t,n),style:{border:t.state.status()=="select square"||et(t,n)&&t.state.status()!=="completed"?"2px solid var(--hilight)":""}})}),zr=()=>({onupdate:({attrs:{mdl:t}})=>{if(t.state.status()=="select square")return t.originals=JSON.stringify(t.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:t}})=>D(".grid#map",t.blocks.map((n,a)=>D(Lr,{idx:a,mdl:t,block:n})))}),Br={view:({attrs:{mdl:t}})=>D("img#img",{onload:({target:n})=>{t.img.width(n.width),t.img.height(n.height),t.img.coords=n.getBoundingClientRect(),Er(t,n)},src:t.img.src(),style:{opacity:t.img.display()?1:.1}})},jr={view:({attrs:{mdl:t}})=>D("label.col.point",D("code.text",{for:"upload"},"Upload an Image."),D("input.btn",{name:"upload",onchange:n=>Pr(t)(n).then(()=>t.state.status("select level")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},kr=t=>({view:()=>D("#app.col",D(qr,{mdl:t}),t.swap.history.length?D("pre.text",`Moves: ${Sr(t)}`):t.img.src()&&t.state.status()=="select level"&&D(".col",D("code.text","Select a level"),D(".row",Object.keys(t.state.levels).map(n=>D("button.btn",{style:{border:"2px solid var(--hilight)"},onclick:()=>Ir(t,n)},n)))),t.img.src()&&t.state.status()=="select square"&&[D("button.btn",{onclick:()=>{t.state.level(null),t.state.status("select level")}},"change level"),D("code.text","Select a boring square to hide")],t.img.src()?D("#viewer.row",[t.state.status()!=="completed"&&D(zr,{mdl:t})],D(Br,{mdl:t})):D(jr,{mdl:t}))});D.mount(document.body,kr(wr()))});export default Fr();
