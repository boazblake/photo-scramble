var Ut=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Dr=Ut((_r,Pe)=>{const Ht=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))s(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const o of h.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerpolicy&&(h.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?h.credentials="include":f.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(f){if(f.ep)return;f.ep=!0;const h=a(f);fetch(f.href,h)}};Ht();var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De,ft;function me(){if(ft)return De;ft=1;function t(n,a,s,f,h,o){return{tag:n,key:a,attrs:s,children:f,text:h,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return t.normalize=function(n){return Array.isArray(n)?t("[",void 0,void 0,t.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:t("#",void 0,void 0,String(n),void 0,void 0)},t.normalizeChildren=function(n){var a=[];if(n.length){for(var s=n[0]!=null&&n[0].key!=null,f=1;f<n.length;f++)if((n[f]!=null&&n[f].key!=null)!==s)throw new TypeError(s&&(n[f]!=null||typeof n[f]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var f=0;f<n.length;f++)a[f]=t.normalize(n[f])}return a},De=t,De}var Jt=me(),Rt=function(){var t=arguments[this],n=this+1,a;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Jt("",t.key,t,a)},Ie={}.hasOwnProperty,Kt=me(),Vt=Rt,Me=Ie,Wt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ot={};function lt(t){for(var n in t)if(Me.call(t,n))return!1;return!0}function Zt(t){for(var n,a="div",s=[],f={};n=Wt.exec(t);){var h=n[1],o=n[2];if(h===""&&o!=="")a=o;else if(h==="#")f.id=o;else if(h===".")s.push(o);else if(n[3][0]==="["){var p=n[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?s.push(p):f[n[4]]=p===""?p:p||!0}}return s.length>0&&(f.className=s.join(" ")),Ot[t]={tag:a,attrs:f}}function Qt(t,n){var a=n.attrs,s=Me.call(a,"class"),f=s?a.class:a.className;if(n.tag=t.tag,n.attrs={},!lt(t.attrs)&&!lt(a)){var h={};for(var o in a)Me.call(a,o)&&(h[o]=a[o]);a=h}for(var o in t.attrs)Me.call(t.attrs,o)&&o!=="className"&&!Me.call(a,o)&&(a[o]=t.attrs[o]);(f!=null||t.attrs.className!=null)&&(a.className=f!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(f):f:t.attrs.className!=null?t.attrs.className:null),s&&(a.class=null);for(var o in a)if(Me.call(a,o)&&o!=="key"){n.attrs=a;break}return n}function Xt(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var n=Vt.apply(1,arguments);return typeof t=="string"&&(n.children=Kt.normalizeChildren(n.children),t!=="[")?Qt(Ot[t]||Zt(t),n):(n.tag=t,n)}var It=Xt,Yt=me(),Gt=function(t){return t==null&&(t=""),Yt("<",void 0,void 0,t,void 0,void 0)},er=me(),tr=Rt,rr=function(){var t=tr.apply(0,arguments);return t.tag="[",t.children=er.normalizeChildren(t.children),t},nt=It;nt.trust=Gt;nt.fragment=rr;var nr=nt,Ne={exports:{}},$e,ct;function St(){if(ct)return $e;ct=1;var t=function(n){if(!(this instanceof t))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,s=[],f=[],h=w(s,!0),o=w(f,!1),p=a._instance={resolvers:s,rejectors:f},m=typeof setImmediate=="function"?setImmediate:setTimeout;function w(x,N){return function R(I){var b;try{if(N&&I!=null&&(typeof I=="object"||typeof I=="function")&&typeof(b=I.then)=="function"){if(I===a)throw new TypeError("Promise can't be resolved with itself.");y(b.bind(I))}else m(function(){!N&&x.length===0&&console.error("Possible unhandled promise rejection:",I);for(var S=0;S<x.length;S++)x[S](I);s.length=0,f.length=0,p.state=N,p.retry=function(){R(I)}})}catch(S){o(S)}}}function y(x){var N=0;function R(b){return function(S){N++>0||b(S)}}var I=R(o);try{x(R(h),I)}catch(b){I(b)}}y(n)};return t.prototype.then=function(n,a){var s=this,f=s._instance;function h(w,y,x,N){y.push(function(R){if(typeof w!="function")x(R);else try{o(w(R))}catch(I){p&&p(I)}}),typeof f.retry=="function"&&N===f.state&&f.retry()}var o,p,m=new t(function(w,y){o=w,p=y});return h(n,f.resolvers,o,!0),h(a,f.rejectors,p,!1),m},t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(n){return this.then(function(a){return t.resolve(n()).then(function(){return a})},function(a){return t.resolve(n()).then(function(){return t.reject(a)})})},t.resolve=function(n){return n instanceof t?n:new t(function(a){a(n)})},t.reject=function(n){return new t(function(a,s){s(n)})},t.all=function(n){return new t(function(a,s){var f=n.length,h=0,o=[];if(n.length===0)a([]);else for(var p=0;p<n.length;p++)(function(m){function w(y){h++,o[m]=y,h===f&&a(o)}n[m]!=null&&(typeof n[m]=="object"||typeof n[m]=="function")&&typeof n[m].then=="function"?n[m].then(w,s):w(n[m])})(p)})},t.race=function(n){return new t(function(a,s){for(var f=0;f<n.length;f++)n[f].then(a,s)})},$e=t,$e}var Ee=St();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Ee:window.Promise.prototype.finally||(window.Promise.prototype.finally=Ee.prototype.finally),Ne.exports=window.Promise):typeof ve<"u"?(typeof ve.Promise>"u"?ve.Promise=Ee:ve.Promise.prototype.finally||(ve.Promise.prototype.finally=Ee.prototype.finally),Ne.exports=ve.Promise):Ne.exports=Ee;var _e,ot;function ir(){if(ot)return _e;ot=1;var t=me();return _e=function(n){var a=n&&n.document,s,f={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function h(r){return r.attrs&&r.attrs.xmlns||f[r.tag]}function o(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function p(r){var e=r.state;try{return this.apply(e,arguments)}finally{o(r,e)}}function m(){try{return a.activeElement}catch{return null}}function w(r,e,i,c,g,d,O){for(var q=i;q<c;q++){var C=e[q];C!=null&&y(r,C,g,O,d)}}function y(r,e,i,c,g){var d=e.tag;if(typeof d=="string")switch(e.state={},e.attrs!=null&&Ce(e.attrs,e,i),d){case"#":x(r,e,g);break;case"<":R(r,e,c,g);break;case"[":I(r,e,i,c,g);break;default:b(r,e,i,c,g)}else _(r,e,i,c,g)}function x(r,e,i){e.dom=a.createTextNode(e.children),u(r,e.dom,i)}var N={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function R(r,e,i,c){var g=e.children.match(/^\s*?<(\w+)/im)||[],d=a.createElement(N[g[1]]||"div");i==="http://www.w3.org/2000/svg"?(d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",d=d.firstChild):d.innerHTML=e.children,e.dom=d.firstChild,e.domSize=d.childNodes.length,e.instance=[];for(var O=a.createDocumentFragment(),q;q=d.firstChild;)e.instance.push(q),O.appendChild(q);u(r,O,c)}function I(r,e,i,c,g){var d=a.createDocumentFragment();if(e.children!=null){var O=e.children;w(d,O,0,O.length,i,null,c)}e.dom=d.firstChild,e.domSize=d.childNodes.length,u(r,d,g)}function b(r,e,i,c,g){var d=e.tag,O=e.attrs,q=O&&O.is;c=h(e)||c;var C=c?q?a.createElementNS(c,d,{is:q}):a.createElementNS(c,d):q?a.createElement(d,{is:q}):a.createElement(d);if(e.dom=C,O!=null&&j(e,O,c),u(r,C,g),!v(e)&&e.children!=null){var B=e.children;w(C,B,0,B.length,i,null,c),e.tag==="select"&&O!=null&&se(e,O)}}function S(r,e){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ce(r.state,r,e),r.attrs!=null&&Ce(r.attrs,r,e),r.instance=t.normalize(p.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function _(r,e,i,c,g){S(e,i),e.instance!=null?(y(r,e.instance,i,c,g),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function V(r,e,i,c,g,d){if(!(e===i||e==null&&i==null))if(e==null||e.length===0)w(r,i,0,i.length,c,g,d);else if(i==null||i.length===0)T(r,e,0,e.length);else{var O=e[0]!=null&&e[0].key!=null,q=i[0]!=null&&i[0].key!=null,C=0,B=0;if(!O)for(;B<e.length&&e[B]==null;)B++;if(!q)for(;C<i.length&&i[C]==null;)C++;if(O!==q)T(r,e,B,e.length),w(r,i,C,i.length,c,g,d);else if(q){for(var re=e.length-1,Z=i.length-1,Oe,ne,J,G,F,ze;re>=B&&Z>=C&&(G=e[re],F=i[Z],G.key===F.key);)G!==F&&H(r,G,F,c,g,d),F.dom!=null&&(g=F.dom),re--,Z--;for(;re>=B&&Z>=C&&(ne=e[B],J=i[C],ne.key===J.key);)B++,C++,ne!==J&&H(r,ne,J,c,ue(e,B,g),d);for(;re>=B&&Z>=C&&!(C===Z||ne.key!==F.key||G.key!==J.key);)ze=ue(e,B,g),$(r,G,ze),G!==J&&H(r,G,J,c,ze,d),++C<=--Z&&$(r,ne,g),ne!==F&&H(r,ne,F,c,g,d),F.dom!=null&&(g=F.dom),B++,re--,G=e[re],F=i[Z],ne=e[B],J=i[C];for(;re>=B&&Z>=C&&G.key===F.key;)G!==F&&H(r,G,F,c,g,d),F.dom!=null&&(g=F.dom),re--,Z--,G=e[re],F=i[Z];if(C>Z)T(r,e,B,re+1);else if(B>re)w(r,i,C,Z+1,c,g,d);else{var _t=g,st=Z-C+1,Te=new Array(st),Be=0,U=0,je=2147483647,ke=0,Oe,Fe;for(U=0;U<st;U++)Te[U]=-1;for(U=Z;U>=C;U--){Oe==null&&(Oe=le(e,B,re+1)),F=i[U];var be=Oe[F.key];be!=null&&(je=be<je?be:-1,Te[U-C]=be,G=e[be],e[be]=null,G!==F&&H(r,G,F,c,g,d),F.dom!=null&&(g=F.dom),ke++)}if(g=_t,ke!==re-B+1&&T(r,e,B,re+1),ke===0)w(r,i,C,Z+1,c,g,d);else if(je===-1)for(Fe=te(Te),Be=Fe.length-1,U=Z;U>=C;U--)J=i[U],Te[U-C]===-1?y(r,J,c,d,g):Fe[Be]===U-C?Be--:$(r,J,g),J.dom!=null&&(g=i[U].dom);else for(U=Z;U>=C;U--)J=i[U],Te[U-C]===-1&&y(r,J,c,d,g),J.dom!=null&&(g=i[U].dom)}}else{var Le=e.length<i.length?e.length:i.length;for(C=C<B?C:B;C<Le;C++)ne=e[C],J=i[C],!(ne===J||ne==null&&J==null)&&(ne==null?y(r,J,c,d,ue(e,C+1,g)):J==null?E(r,ne):H(r,ne,J,c,ue(e,C+1,g),d));e.length>Le&&T(r,e,C,e.length),i.length>Le&&w(r,i,C,i.length,c,g,d)}}}function H(r,e,i,c,g,d){var O=e.tag,q=i.tag;if(O===q){if(i.state=e.state,i.events=e.events,qe(i,e))return;if(typeof O=="string")switch(i.attrs!=null&&we(i.attrs,i,c),O){case"#":ce(e,i);break;case"<":ie(r,e,i,d,g);break;case"[":K(r,e,i,c,g,d);break;default:ee(e,i,c,d)}else X(r,e,i,c,g,d)}else E(r,e),y(r,i,c,d,g)}function ce(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function ie(r,e,i,c,g){e.children!==i.children?(M(r,e),R(r,i,c,g)):(i.dom=e.dom,i.domSize=e.domSize,i.instance=e.instance)}function K(r,e,i,c,g,d){V(r,e.children,i.children,c,g,d);var O=0,q=i.children;if(i.dom=null,q!=null){for(var C=0;C<q.length;C++){var B=q[C];B!=null&&B.dom!=null&&(i.dom==null&&(i.dom=B.dom),O+=B.domSize||1)}O!==1&&(i.domSize=O)}}function ee(r,e,i,c){var g=e.dom=r.dom;c=h(e)||c,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),ae(e,r.attrs,e.attrs,c),v(e)||V(g,r.children,e.children,i,null,c)}function X(r,e,i,c,g,d){if(i.instance=t.normalize(p.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");we(i.state,i,c),i.attrs!=null&&we(i.attrs,i,c),i.instance!=null?(e.instance==null?y(r,i.instance,c,d,g):H(r,e.instance,i.instance,c,g,d),i.dom=i.instance.dom,i.domSize=i.instance.domSize):e.instance!=null?(E(r,e.instance),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function le(r,e,i){for(var c=Object.create(null);e<i;e++){var g=r[e];if(g!=null){var d=g.key;d!=null&&(c[d]=e)}}return c}var Y=[];function te(r){for(var e=[0],i=0,c=0,g=0,d=Y.length=r.length,g=0;g<d;g++)Y[g]=r[g];for(var g=0;g<d;++g)if(r[g]!==-1){var O=e[e.length-1];if(r[O]<r[g]){Y[g]=O,e.push(g);continue}for(i=0,c=e.length-1;i<c;){var q=(i>>>1)+(c>>>1)+(i&c&1);r[e[q]]<r[g]?i=q+1:c=q}r[g]<r[e[i]]&&(i>0&&(Y[g]=e[i-1]),e[i]=g)}for(i=e.length,c=e[i-1];i-- >0;)e[i]=c,c=Y[c];return Y.length=0,e}function ue(r,e,i){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return i}function $(r,e,i){var c=a.createDocumentFragment();l(r,c,e),u(r,c,i)}function l(r,e,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var c=0;c<i.instance.length;c++)e.appendChild(i.instance[c]);else if(i.tag!=="[")e.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var c=0;c<i.children.length;c++){var g=i.children[c];g!=null&&l(r,e,g)}break}}function u(r,e,i){i!=null?r.insertBefore(e,i):r.appendChild(e)}function v(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var i=e[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function T(r,e,i,c){for(var g=i;g<c;g++){var d=e[g];d!=null&&E(r,d)}}function E(r,e){var i=0,c=e.state,g,d;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var O=p.call(e.state.onbeforeremove,e);O!=null&&typeof O.then=="function"&&(i=1,g=O)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var O=p.call(e.attrs.onbeforeremove,e);O!=null&&typeof O.then=="function"&&(i|=2,d=O)}if(o(e,c),!i)A(e),P(r,e);else{if(g!=null){var q=function(){i&1&&(i&=2,i||C())};g.then(q,q)}if(d!=null){var q=function(){i&2&&(i&=1,i||C())};d.then(q,q)}}function C(){o(e,c),A(e),P(r,e)}}function M(r,e){for(var i=0;i<e.instance.length;i++)r.removeChild(e.instance[i])}function P(r,e){for(;e.dom!=null&&e.dom.parentNode===r;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")M(r,e);else{if(e.tag!=="["&&(r.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var i=0;i<e.children.length;i++){var c=e.children[i];c!=null&&P(r,c)}}break}}function A(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&p.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&p.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&A(r.instance);else{var e=r.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var c=e[i];c!=null&&A(c)}}}function j(r,e,i){r.tag==="input"&&e.type!=null&&r.dom.setAttribute("type",e.type);var c=e!=null&&r.tag==="input"&&e.type==="file";for(var g in e)W(r,g,null,e[g],i,c)}function W(r,e,i,c,g,d){if(!(e==="key"||e==="is"||c==null||ge(e)||i===c&&!k(r,e)&&typeof c!="object"||e==="type"&&r.tag==="input")){if(e[0]==="o"&&e[1]==="n")return Re(r,e,c);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),c);else if(e==="style")fe(r.dom,i,c);else if(ye(r,e,g)){if(e==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+c&&(d||r.dom===m())||r.tag==="select"&&i!==null&&r.dom.value===""+c||r.tag==="option"&&i!==null&&r.dom.value===""+c)return;if(d&&""+c!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[e]=c}else typeof c=="boolean"?c?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,c)}}function z(r,e,i,c){if(!(e==="key"||e==="is"||i==null||ge(e)))if(e[0]==="o"&&e[1]==="n")Re(r,e,void 0);else if(e==="style")fe(r.dom,i,null);else if(ye(r,e,c)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===m()))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var g=e.indexOf(":");g!==-1&&(e=e.slice(g+1)),i!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function se(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+e.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in e&&W(r,"selectedIndex",null,e.selectedIndex,void 0)}function ae(r,e,i,c){if(e&&e===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var g=r.tag==="input"&&i.type==="file";for(var d in i)W(r,d,e&&e[d],i[d],c,g)}var O;if(e!=null)for(var d in e)(O=e[d])!=null&&(i==null||i[d]==null)&&z(r,d,O,c)}function k(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===m()||r.tag==="option"&&r.dom.parentNode===a.activeElement}function ge(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,e,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}var oe=/[A-Z]/g;function de(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(oe,de)}function fe(r,e,i){if(e!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(e==null||typeof e!="object"){r.style.cssText="";for(var c in i){var g=i[c];g!=null&&r.style.setProperty(he(c),String(g))}}else{for(var c in i){var g=i[c];g!=null&&(g=String(g))!==String(e[c])&&r.style.setProperty(he(c),g)}for(var c in e)e[c]!=null&&i[c]==null&&r.style.removeProperty(he(c))}}function xe(){this._=s}xe.prototype=Object.create(null),xe.prototype.handleEvent=function(r){var e=this["on"+r.type],i;typeof e=="function"?i=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Re(r,e,i){if(r.events!=null){if(r.events._=s,r.events[e]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new xe,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i)}function Ce(r,e,i){typeof r.oninit=="function"&&p.call(r.oninit,e),typeof r.oncreate=="function"&&i.push(p.bind(r.oncreate,e))}function we(r,e,i){typeof r.onupdate=="function"&&i.push(p.bind(r.onupdate,e))}function qe(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=p.call(r.attrs.onbeforeupdate,r,e);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=p.call(r.state.onbeforeupdate,r,e);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var pe;return function(r,e,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&r.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var c=s,g=pe,d=[],O=m(),q=r.namespaceURI;pe=r,s=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),e=t.normalizeChildren(Array.isArray(e)?e:[e]),V(r,r.vnodes,e,d,null,q==="http://www.w3.org/1999/xhtml"?void 0:q),r.vnodes=e,O!=null&&m()!==O&&typeof O.focus=="function"&&O.focus();for(var C=0;C<d.length;C++)d[C]()}finally{s=c,pe=g}}},_e}var Ue,ht;function At(){return ht||(ht=1,Ue=ir()(typeof window<"u"?window:null)),Ue}var pt=me(),ar=function(t,n,a){var s=[],f=!1,h=-1;function o(){for(h=0;h<s.length;h+=2)try{t(s[h],pt(s[h+1]),p)}catch(w){a.error(w)}h=-1}function p(){f||(f=!0,n(function(){f=!1,o()}))}p.sync=o;function m(w,y){if(y!=null&&y.view==null&&typeof y!="function")throw new TypeError("m.mount expects a component, not a vnode.");var x=s.indexOf(w);x>=0&&(s.splice(x,2),x<=h&&(h-=2),t(w,[])),y!=null&&(s.push(w,y),t(w,pt(y),p))}return{mount:m,redraw:p}},ur=At(),it=ar(ur,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),He,mt;function qt(){return mt||(mt=1,He=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var n=[];for(var a in t)s(a,t[a]);return n.join("&");function s(f,h){if(Array.isArray(h))for(var o=0;o<h.length;o++)s(f+"["+o+"]",h[o]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var o in h)s(f+"["+o+"]",h[o]);else n.push(encodeURIComponent(f)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}),He}var Je,gt;function Lt(){if(gt)return Je;gt=1;var t=Ie;return Je=Object.assign||function(n,a){for(var s in a)t.call(a,s)&&(n[s]=a[s])},Je}var Ke,yt;function at(){if(yt)return Ke;yt=1;var t=qt(),n=Lt();return Ke=function(a,s){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(s==null)return a;var f=a.indexOf("?"),h=a.indexOf("#"),o=h<0?a.length:h,p=f<0?o:f,m=a.slice(0,p),w={};n(w,s);var y=m.replace(/:([^\/\.-]+)(\.{3})?/g,function(_,V,H){return delete w[V],s[V]==null?_:H?s[V]:encodeURIComponent(String(s[V]))}),x=y.indexOf("?"),N=y.indexOf("#"),R=N<0?y.length:N,I=x<0?R:x,b=y.slice(0,I);f>=0&&(b+=a.slice(f,o)),x>=0&&(b+=(f<0?"?":"&")+y.slice(x,R));var S=t(w);return S&&(b+=(f<0&&x<0?"?":"&")+S),h>=0&&(b+=a.slice(h)),N>=0&&(b+=(h<0?"":"&")+y.slice(N)),b},Ke}var sr=at(),dt=Ie,fr=function(t,n,a){var s=0;function f(p){return new n(p)}f.prototype=n.prototype,f.__proto__=n;function h(p){return function(m,w){typeof m!="string"?(w=m,m=m.url):w==null&&(w={});var y=new n(function(I,b){p(sr(m,w.params),w,function(S){if(typeof w.type=="function")if(Array.isArray(S))for(var _=0;_<S.length;_++)S[_]=new w.type(S[_]);else S=new w.type(S);I(S)},b)});if(w.background===!0)return y;var x=0;function N(){--x===0&&typeof a=="function"&&a()}return R(y);function R(I){var b=I.then;return I.constructor=f,I.then=function(){x++;var S=b.apply(I,arguments);return S.then(N,function(_){if(N(),x===0)throw _}),R(S)},I}}}function o(p,m){for(var w in p.headers)if(dt.call(p.headers,w)&&w.toLowerCase()===m)return!0;return!1}return{request:h(function(p,m,w,y){var x=m.method!=null?m.method.toUpperCase():"GET",N=m.body,R=(m.serialize==null||m.serialize===JSON.serialize)&&!(N instanceof t.FormData||N instanceof t.URLSearchParams),I=m.responseType||(typeof m.extract=="function"?"":"json"),b=new t.XMLHttpRequest,S=!1,_=!1,V=b,H,ce=b.abort;b.abort=function(){S=!0,ce.call(this)},b.open(x,p,m.async!==!1,typeof m.user=="string"?m.user:void 0,typeof m.password=="string"?m.password:void 0),R&&N!=null&&!o(m,"content-type")&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof m.deserialize!="function"&&!o(m,"accept")&&b.setRequestHeader("Accept","application/json, text/*"),m.withCredentials&&(b.withCredentials=m.withCredentials),m.timeout&&(b.timeout=m.timeout),b.responseType=I;for(var ie in m.headers)dt.call(m.headers,ie)&&b.setRequestHeader(ie,m.headers[ie]);b.onreadystatechange=function(K){if(!S&&K.target.readyState===4)try{var ee=K.target.status>=200&&K.target.status<300||K.target.status===304||/^file:\/\//i.test(p),X=K.target.response,le;if(I==="json"){if(!K.target.responseType&&typeof m.extract!="function")try{X=JSON.parse(K.target.responseText)}catch{X=null}}else(!I||I==="text")&&X==null&&(X=K.target.responseText);if(typeof m.extract=="function"?(X=m.extract(K.target,m),ee=!0):typeof m.deserialize=="function"&&(X=m.deserialize(X)),ee)w(X);else{var Y=function(){try{le=K.target.responseText}catch{le=X}var te=new Error(le);te.code=K.target.status,te.response=X,y(te)};b.status===0?setTimeout(function(){_||Y()}):Y()}}catch(te){y(te)}},b.ontimeout=function(K){_=!0;var ee=new Error("Request timed out");ee.code=K.target.status,y(ee)},typeof m.config=="function"&&(b=m.config(b,m,p)||b,b!==V&&(H=b.abort,b.abort=function(){S=!0,H.call(this)})),N==null?b.send():typeof m.serialize=="function"?b.send(m.serialize(N)):N instanceof t.FormData||N instanceof t.URLSearchParams?b.send(N):b.send(JSON.stringify(N))}),jsonp:h(function(p,m,w,y){var x=m.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+s++,N=t.document.createElement("script");t[x]=function(R){delete t[x],N.parentNode.removeChild(N),w(R)},N.onerror=function(){delete t[x],N.parentNode.removeChild(N),y(new Error("JSONP request failed"))},N.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(m.callbackKey||"callback")+"="+encodeURIComponent(x),t.document.documentElement.appendChild(N)})}},lr=Ne.exports,cr=it,or=fr(typeof window<"u"?window:null,lr,cr.redraw),Ve,wt;function zt(){if(wt)return Ve;wt=1;function t(n){try{return decodeURIComponent(n)}catch{return n}}return Ve=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),s={},f={},h=0;h<a.length;h++){var o=a[h].split("="),p=t(o[0]),m=o.length===2?t(o[1]):"";m==="true"?m=!0:m==="false"&&(m=!1);var w=p.split(/\]\[?|\[/),y=f;p.indexOf("[")>-1&&w.pop();for(var x=0;x<w.length;x++){var N=w[x],R=w[x+1],I=R==""||!isNaN(parseInt(R,10));if(N===""){var p=w.slice(0,x).join();s[p]==null&&(s[p]=Array.isArray(y)?y.length:0),N=s[p]++}else if(N==="__proto__")break;if(x===w.length-1)y[N]=m;else{var b=Object.getOwnPropertyDescriptor(y,N);b!=null&&(b=b.value),b==null&&(y[N]=b=I?[]:{}),y=b}}}return f},Ve}var We,bt;function ut(){if(bt)return We;bt=1;var t=zt();return We=function(n){var a=n.indexOf("?"),s=n.indexOf("#"),f=s<0?n.length:s,h=a<0?f:a,o=n.slice(0,h).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:a<0?{}:t(n.slice(a+1,f))}},We}var Ze,vt;function hr(){if(vt)return Ze;vt=1;var t=ut();return Ze=function(n){var a=t(n),s=Object.keys(a.params),f=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,p,m){return p==null?"\\"+o:(f.push({k:p,r:m==="..."}),m==="..."?"(.*)":m==="."?"([^/]+)\\.":"([^/]+)"+(m||""))})+"$");return function(o){for(var p=0;p<s.length;p++)if(a.params[s[p]]!==o.params[s[p]])return!1;if(!f.length)return h.test(o.path);var m=h.exec(o.path);if(m==null)return!1;for(var p=0;p<f.length;p++)o.params[f[p].k]=f[p].r?m[p+1]:decodeURIComponent(m[p+1]);return!0}},Ze}var Qe,Mt;function Bt(){if(Mt)return Qe;Mt=1;var t=Ie,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Qe=function(a,s){var f={};if(s!=null)for(var h in a)t.call(a,h)&&!n.test(h)&&s.indexOf(h)<0&&(f[h]=a[h]);else for(var h in a)t.call(a,h)&&!n.test(h)&&(f[h]=a[h]);return f},Qe}var Xe,xt;function pr(){if(xt)return Xe;xt=1;var t=me(),n=It,a=Ne.exports,s=at(),f=ut(),h=hr(),o=Lt(),p=Bt(),m={};function w(y){try{return decodeURIComponent(y)}catch{return y}}return Xe=function(y,x){var N=y==null?null:typeof y.setImmediate=="function"?y.setImmediate:y.setTimeout,R=a.resolve(),I=!1,b=!1,S=0,_,V,H=m,ce,ie,K,ee,X={onbeforeupdate:function(){return S=S?2:1,!(!S||m===H)},onremove:function(){y.removeEventListener("popstate",te,!1),y.removeEventListener("hashchange",Y,!1)},view:function(){if(!(!S||m===H)){var l=[t(ce,ie.key,ie)];return H&&(l=H.render(l[0])),l}}},le=$.SKIP={};function Y(){I=!1;var l=y.location.hash;$.prefix[0]!=="#"&&(l=y.location.search+l,$.prefix[0]!=="?"&&(l=y.location.pathname+l,l[0]!=="/"&&(l="/"+l)));var u=l.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice($.prefix.length),v=f(u);o(v.params,y.history.state);function T(M){console.error(M),ue(V,null,{replace:!0})}E(0);function E(M){for(;M<_.length;M++)if(_[M].check(v)){var P=_[M].component,A=_[M].route,j=P,W=ee=function(z){if(W===ee){if(z===le)return E(M+1);ce=z!=null&&(typeof z.view=="function"||typeof z=="function")?z:"div",ie=v.params,K=u,ee=null,H=P.render?P:null,S===2?x.redraw():(S=2,x.redraw.sync())}};P.view||typeof P=="function"?(P={},W(j)):P.onmatch?R.then(function(){return P.onmatch(v.params,u,A)}).then(W,u===V?null:T):W("div");return}if(u===V)throw new Error("Could not resolve default route "+V+".");ue(V,null,{replace:!0})}}function te(){I||(I=!0,N(Y))}function ue(l,u,v){if(l=s(l,u),b){te();var T=v?v.state:null,E=v?v.title:null;v&&v.replace?y.history.replaceState(T,E,$.prefix+l):y.history.pushState(T,E,$.prefix+l)}else y.location.href=$.prefix+l}function $(l,u,v){if(!l)throw new TypeError("DOM element being rendered to does not exist.");if(_=Object.keys(v).map(function(E){if(E[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(E))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:E,component:v[E],check:h(E)}}),V=u,u!=null){var T=f(u);if(!_.some(function(E){return E.check(T)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof y.history.pushState=="function"?y.addEventListener("popstate",te,!1):$.prefix[0]==="#"&&y.addEventListener("hashchange",Y,!1),b=!0,x.mount(l,X),Y()}return $.set=function(l,u,v){ee!=null&&(v=v||{},v.replace=!0),ee=null,ue(l,u,v)},$.get=function(){return K},$.prefix="#!",$.Link={view:function(l){var u=n(l.attrs.selector||"a",p(l.attrs,["options","params","selector","onclick"]),l.children),v,T,E;return(u.attrs.disabled=Boolean(u.attrs.disabled))?(u.attrs.href=null,u.attrs["aria-disabled"]="true"):(v=l.attrs.options,T=l.attrs.onclick,E=s(u.attrs.href,l.attrs.params),u.attrs.href=$.prefix+E,u.attrs.onclick=function(M){var P;typeof T=="function"?P=T.call(M.currentTarget,M):T==null||typeof T!="object"||typeof T.handleEvent=="function"&&T.handleEvent(M),P!==!1&&!M.defaultPrevented&&(M.button===0||M.which===0||M.which===1)&&(!M.currentTarget.target||M.currentTarget.target==="_self")&&!M.ctrlKey&&!M.metaKey&&!M.shiftKey&&!M.altKey&&(M.preventDefault(),M.redraw=!1,$.set(E,null,v))}),u}},$.param=function(l){return ie&&l!=null?ie[l]:ie},$},Xe}var Ye,Ct;function mr(){if(Ct)return Ye;Ct=1;var t=it;return Ye=pr()(typeof window<"u"?window:null,t),Ye}var Se=nr,jt=or,kt=it,Q=function(){return Se.apply(this,arguments)};Q.m=Se;Q.trust=Se.trust;Q.fragment=Se.fragment;Q.Fragment="[";Q.mount=kt.mount;Q.route=mr();Q.render=At();Q.redraw=kt.redraw;Q.request=jt.request;Q.jsonp=jt.jsonp;Q.parseQueryString=zt();Q.buildQueryString=qt();Q.parsePathname=ut();Q.buildPathname=at();Q.vnode=me();Q.PromisePolyfill=St();Q.censor=Bt();var D=Q;L.SKIP={};L.lift=dr;L.scan=gr;L.merge=Ft;L.combine=Ae;L.scanMerge=yr;L["fantasy-land/of"]=L;var Tt=!1;Object.defineProperty(L,"HALT",{get:function(){return Tt||console.log("HALT is deprecated and has been renamed to SKIP"),Tt=!0,L.SKIP}});function L(t){var n=[],a=[];function s(o){return arguments.length&&o!==L.SKIP&&(t=o,Et(s)&&(s.changing(),s.state="active",n.forEach(function(p,m){p(a[m](t))}))),t}s.constructor=L,s.state=arguments.length&&t!==L.SKIP?"active":"pending",s.parents=[],s.changing=function(){Et(s)&&(s.state="changing"),n.forEach(function(o){o.changing()})},s.map=function(o,p){var m=s.state==="active"&&p!==L.SKIP?L(o(t)):L();return m.parents.push(s),n.push(m),a.push(o),m};var f;function h(){return f=L(),f.map(function(o){return o===!0&&(s.parents.forEach(function(p){p.unregisterChild(s)}),s.state="ended",s.parents.length=n.length=a.length=0),o}),f}return s.toJSON=function(){return t!=null&&typeof t.toJSON=="function"?t.toJSON():t},s["fantasy-land/map"]=s.map,s["fantasy-land/ap"]=function(o){return Ae(function(p,m){return p()(m())},[o,s])},s.unregisterChild=function(o){var p=n.indexOf(o);p!==-1&&(n.splice(p,1),a.splice(p,1))},Object.defineProperty(s,"end",{get:function(){return f||h()}}),s}function Ae(t,n){var a=n.every(function(p){if(p.constructor!==L)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return p.state==="active"}),s=a?L(t.apply(null,n.concat([n]))):L(),f=[],h=n.map(function(p){return p.map(function(m){return f.push(p),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,s(t.apply(null,n.concat([f]))),f=[]),m},L.SKIP)}),o=s.end.map(function(p){p===!0&&(h.forEach(function(m){m.end(!0)}),o.end(!0))});return s}function Ft(t){return Ae(function(){return t.map(function(n){return n()})},t)}function gr(t,n,a){var s=a.map(function(f){var h=t(n,f);return h!==L.SKIP&&(n=h),h});return s(n),s}function yr(t,n){var a=t.map(function(f){return f[0]}),s=Ae(function(){var f=arguments[arguments.length-1];return a.forEach(function(h,o){f.indexOf(h)>-1&&(n=t[o][1](n,h()))}),n},a);return s(n),s}function dr(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);return Ft(n).map(function(a){return t.apply(void 0,a)})}function Et(t){return t.state==="pending"||t.state==="active"||t.state==="changing"}var Pe={};(function t(n,a,s,f){var h=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function o(){}function p(l){var u=a.exports.Promise,v=u!==void 0?u:n.Promise;return typeof v=="function"?new v(l):(l(o,o),null)}var m=function(){var l=Math.floor(16.666666666666668),u,v,T={},E=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function(M){var P=Math.random();return T[P]=requestAnimationFrame(function A(j){E===j||E+l-1<j?(E=j,delete T[P],M()):T[P]=requestAnimationFrame(A)}),P},v=function(M){T[M]&&cancelAnimationFrame(T[M])}):(u=function(M){return setTimeout(M,l)},v=function(M){return clearTimeout(M)}),{frame:u,cancel:v}}(),w=function(){var l,u,v={};function T(E){function M(P,A){E.postMessage({options:P||{},callback:A})}E.init=function(A){var j=A.transferControlToOffscreen();E.postMessage({canvas:j},[j])},E.fire=function(A,j,W){if(u)return M(A,null),u;var z=Math.random().toString(36).slice(2);return u=p(function(se){function ae(k){k.data.callback===z&&(delete v[z],E.removeEventListener("message",ae),u=null,W(),se())}E.addEventListener("message",ae),M(A,z),v[z]=ae.bind(null,{data:{callback:z}})}),u},E.reset=function(){E.postMessage({reset:!0});for(var A in v)v[A](),delete v[A]}}return function(){if(l)return l;if(!s&&h){var E=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{l=new Worker(URL.createObjectURL(new Blob([E])))}catch(M){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",M),null}T(l)}return l}}(),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(l,u){return u?u(l):l}function N(l){return l!=null}function R(l,u,v){return x(l&&N(l[u])?l[u]:y[u],v)}function I(l){return l<0?0:Math.floor(l)}function b(l,u){return Math.floor(Math.random()*(u-l))+l}function S(l){return parseInt(l,16)}function _(l){return l.map(V)}function V(l){var u=String(l).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:S(u.substring(0,2)),g:S(u.substring(2,4)),b:S(u.substring(4,6))}}function H(l){var u=R(l,"origin",Object);return u.x=R(u,"x",Number),u.y=R(u,"y",Number),u}function ce(l){l.width=document.documentElement.clientWidth,l.height=document.documentElement.clientHeight}function ie(l){var u=l.getBoundingClientRect();l.width=u.width,l.height=u.height}function K(l){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=l,u}function ee(l,u,v,T,E,M,P,A,j){l.save(),l.translate(u,v),l.rotate(M),l.scale(T,E),l.arc(0,0,1,P,A,j),l.restore()}function X(l){var u=l.angle*(Math.PI/180),v=l.spread*(Math.PI/180);return{x:l.x,y:l.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:l.startVelocity*.5+Math.random()*l.startVelocity,angle2D:-u+(.5*v-Math.random()*v),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:l.color,shape:l.shape,tick:0,totalTicks:l.ticks,decay:l.decay,drift:l.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:l.gravity*3,ovalScalar:.6,scalar:l.scalar}}function le(l,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.wobble+=u.wobbleSpeed,u.velocity*=u.decay,u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble);var v=u.tick++/u.totalTicks,T=u.x+u.random*u.tiltCos,E=u.y+u.random*u.tiltSin,M=u.wobbleX+u.random*u.tiltCos,P=u.wobbleY+u.random*u.tiltSin;if(l.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-v)+")",l.beginPath(),u.shape==="circle")l.ellipse?l.ellipse(u.x,u.y,Math.abs(M-T)*u.ovalScalar,Math.abs(P-E)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):ee(l,u.x,u.y,Math.abs(M-T)*u.ovalScalar,Math.abs(P-E)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var A=Math.PI/2*3,j=4*u.scalar,W=8*u.scalar,z=u.x,se=u.y,ae=5,k=Math.PI/ae;ae--;)z=u.x+Math.cos(A)*W,se=u.y+Math.sin(A)*W,l.lineTo(z,se),A+=k,z=u.x+Math.cos(A)*j,se=u.y+Math.sin(A)*j,l.lineTo(z,se),A+=k;else l.moveTo(Math.floor(u.x),Math.floor(u.y)),l.lineTo(Math.floor(u.wobbleX),Math.floor(E)),l.lineTo(Math.floor(M),Math.floor(P)),l.lineTo(Math.floor(T),Math.floor(u.wobbleY));return l.closePath(),l.fill(),u.tick<u.totalTicks}function Y(l,u,v,T,E){var M=u.slice(),P=l.getContext("2d"),A,j,W=p(function(z){function se(){A=j=null,P.clearRect(0,0,T.width,T.height),E(),z()}function ae(){s&&!(T.width===f.width&&T.height===f.height)&&(T.width=l.width=f.width,T.height=l.height=f.height),!T.width&&!T.height&&(v(l),T.width=l.width,T.height=l.height),P.clearRect(0,0,T.width,T.height),M=M.filter(function(k){return le(P,k)}),M.length?A=m.frame(ae):se()}A=m.frame(ae),j=se});return{addFettis:function(z){return M=M.concat(z),W},canvas:l,promise:W,reset:function(){A&&m.cancel(A),j&&j()}}}function te(l,u){var v=!l,T=!!R(u||{},"resize"),E=R(u,"disableForReducedMotion",Boolean),M=h&&!!R(u||{},"useWorker"),P=M?w():null,A=v?ce:ie,j=l&&P?!!l.__confetti_initialized:!1,W=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function se(k,ge,ye){for(var oe=R(k,"particleCount",I),de=R(k,"angle",Number),he=R(k,"spread",Number),fe=R(k,"startVelocity",Number),xe=R(k,"decay",Number),Re=R(k,"gravity",Number),Ce=R(k,"drift",Number),we=R(k,"colors",_),qe=R(k,"ticks",Number),pe=R(k,"shapes"),r=R(k,"scalar"),e=H(k),i=oe,c=[],g=l.width*e.x,d=l.height*e.y;i--;)c.push(X({x:g,y:d,angle:de,spread:he,startVelocity:fe,color:we[i%we.length],shape:pe[b(0,pe.length)],ticks:qe,decay:xe,gravity:Re,drift:Ce,scalar:r}));return z?z.addFettis(c):(z=Y(l,c,A,ge,ye),z.promise)}function ae(k){var ge=E||R(k,"disableForReducedMotion",Boolean),ye=R(k,"zIndex",Number);if(ge&&W)return p(function(fe){fe()});v&&z?l=z.canvas:v&&!l&&(l=K(ye),document.body.appendChild(l)),T&&!j&&A(l);var oe={width:l.width,height:l.height};P&&!j&&P.init(l),j=!0,P&&(l.__confetti_initialized=!0);function de(){if(P){var fe={getBoundingClientRect:function(){if(!v)return l.getBoundingClientRect()}};A(fe),P.postMessage({resize:{width:fe.width,height:fe.height}});return}oe.width=oe.height=null}function he(){z=null,T&&n.removeEventListener("resize",de),v&&l&&(document.body.removeChild(l),l=null,j=!1)}return T&&n.addEventListener("resize",de,!1),P?P.fire(k,oe,he):se(k,oe,he)}return ae.reset=function(){P&&P.reset(),z&&z.reset()},ae}var ue;function $(){return ue||(ue=te(null,{useWorker:!0,resize:!0})),ue}a.exports=function(){return $().apply(this,arguments)},a.exports.reset=function(){$().reset()},a.exports.create=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Pe,!1);const Nt=Pe.exports;Pe.exports.create;const wr=()=>({cell:{size:L(0)},blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[]},state:{status:L("select"),hiddenBlock:L(null),direction:L("horizontal"),size:L(0),levels:{Easy:{count:10,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:L(null)},img:{search:L(null),src:L(null),srcs:L(null),width:L(0),height:L(0),zIndex:L(0),display:L(!0)}}),Pt=(t,n)=>Array.from({length:Math.ceil(t.length/n)},(s,f)=>f*n).map(s=>t.slice(s,s+n)),br=t=>(t.blocks=[],t.img.src(null),t.img.search(null),t.img.width(0),t.img.height(0),t.img.zIndex(0),t.img.display(!0),t.state.hiddenBlock(null),t.state.direction("horizontal"),t.state.level(null),t.swap.isDragging=!1,t.swap.src={coords:null,idx:null,id:null,dom:null,img:null},t.swap.target={coords:null,idx:null,id:null,dom:null,img:null},t.swap.swapBlockIds=[],t.swap.history=[],t.cell.size(0),t),vr=[100,101],Mr=(t,n)=>{const a=t.offsetTop,s=t.offsetLeft,f=n.offsetTop,h=n.offsetLeft,o=a-f,p=s-h;return Math.sqrt(o*o+p*p)},xr=()=>"xxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)}),Cr=(t,n)=>({img:t,idx:n,id:xr(),coords:{}}),Tr=(t,n)=>{const a=Array.from(n.parentNode.children),s=a.find(h=>h.id==t);s.style.backgroundImage="";const f=h=>vr.includes(Mr(s,h));return a.filter(f).map(h=>h.id)},Er=(t,n)=>{const a=n.width,s=n.height,f=Math.ceil(a/16),h=[];for(let p=0;p<a;p+=f){const m=document.createElement("canvas"),w=m.getContext("2d");m.width=f,m.height=s,w.drawImage(n,p,0,f,s,0,0,f,s),h.push(m.toDataURL())}const o=h.map(Cr);t.blocks=structuredClone(o),t.img.display(!1)},Nr=(t,n)=>{t.state.level(n),t.state.status("select square")},Pr=t=>({target:{files:n}})=>(t.file=n[0],Promise.resolve(t.img.src(URL.createObjectURL(t.file)))),Rr=t=>{const n=JSON.parse(t.originals).map(s=>JSON.stringify(s.coords)),a=t.blocks.map(s=>JSON.stringify(s.coords));return n.map((s,f)=>s==a[f]).reduce((s,f)=>f?s:s+1,0)},Ge=(t,n)=>({target:a})=>(t.swap.history.push(n),t.state.hiddenBlock(n),t.swap.swapBlockIds=Tr(n,a),t.state.status()=="ready"&&Rr(t)==0&&(t.state.status("completed"),t.img.display(!0),Ir()),t),et=(t,n)=>t.swap.swapBlockIds.includes(n.id),tt=(t,n)=>n.id==t.state.hiddenBlock(),Or=(t,n)=>t.swap.isDragging?tt(t,n):et(t,n)||tt(t,n),Dt=(t,n)=>{if(!t.swap.swapBlockIds.includes(n.id))return;const a=t.state.hiddenBlock(),s=t.blocks.find(o=>o.id==a),f=s.dom,h=s.coords;s.coords=n.coords,$t(t,n,f),t.swap.dragging=!1,n.coords=h,Ge(t,n.id)({target:n.dom})},$t=(t,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(t.img.src())})`,a.style.backgroundSize=`${t.img.width()}px ${t.img.height()}px`,a.style.backgroundPosition=`${t.img.coords.left-n.coords.left}px ${t.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},rt=(t,n,a)=>({target:s})=>{if(a>=t.state.levels[t.state.level()].count)return t.state.status("ready"),Ar(t),t;if(a==0)return Ge(t,n.id)({target:s}),rt(t,n,a+1)({target:s});if(a>0){Ge(t,n.id)({target:s});const f=t.swap.swapBlockIds[Math.floor(Math.random()*t.swap.swapBlockIds.length)],h=t.blocks.find(p=>p.id==f),o=n.dom;return Dt(t,h),rt(t,h,a+1)({target:o})}},Ir=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function s(h,o){return Math.random()*(o-h)+h}const f=setInterval(function(){const h=n-Date.now();if(h<=0)return clearInterval(f);const o=50*(h/15e3);Nt(Object.assign({},a,{particleCount:o,origin:{x:s(.1,.3),y:Math.random()-.2}})),Nt(Object.assign({},a,{particleCount:o,origin:{x:s(.7,.9),y:Math.random()-.2}}))},250)},Sr=t=>t.swap.history.length-t.state.levels[t.state.level()].subtract,Ar=t=>{const n=JSON.parse(t.originals).map(o=>JSON.stringify(o.coords)),a=t.blocks.map(o=>JSON.stringify(o.coords)),s=Pt(n.map((o,p)=>p),4),f=Pt(n.map(o=>a.indexOf(o)),4),h=t.blocks.map(o=>o.id).indexOf(t.state.hiddenBlock());console.log(s,f,h,qr(f,h))};function qr(t,n){t.length;const a=t[0].length,s=Math.floor(n/a),f=n%a;let h=0,o=0,p=0,m=0;t.map((y,x)=>{x<s?h+=s-x:x>s&&(o+=x-s)}),t[0].map((y,x)=>{x<f?m+=f-x:x>f&&(p+=x-f)});const w=[];for(let y=0;y<h;y++)w.push("N");for(let y=0;y<o;y++)w.push("S");for(let y=0;y<p;y++)w.push("E");for(let y=0;y<m;y++)w.push("W");return w}const Lr={view:({attrs:{mdl:t}})=>D(".col ",D("code.text",{style:{letterSpacing:"3px",fontSize:"2rem"}},"PHOTO SCRAMBLE!"),t.img.src()&&D("button.btn",{onclick:()=>br(t)},"New"))},zr=()=>({oncreate:({dom:t,attrs:{mdl:n,block:a}})=>{const s=n.blocks.find(h=>h.id==a.id),f=t.getBoundingClientRect();a.coords=f,s.coords=f,a.dom=t,s.dom=t,$t(n,a,t)},view:({attrs:{mdl:t,block:n}})=>D(".block",{id:n.id,disabled:t.state.status()=="completed",class:tt(t,n)?"isSwapBlock hiddenBlock":et(t,n)?"point isSwapBlock":t.state.status()=="select square"&&"point",onclick:t.state.hiddenBlock()?()=>Dt(t,n):t.state.level()&&t.state.status()!=="completed"&&rt(t,n,0),draggable:Or(t,n),style:{border:t.state.status()=="select square"||et(t,n)&&t.state.status()!=="completed"?"2px solid var(--hilight)":""}})}),Br=()=>({onupdate:({attrs:{mdl:t}})=>{if(t.state.status()=="select square")return t.originals=JSON.stringify(t.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:t}})=>D(".grid#map",t.blocks.map((n,a)=>D(zr,{idx:a,mdl:t,block:n})))}),jr={view:({attrs:{mdl:t}})=>D("img#img",{onload:({target:n})=>{t.img.width(n.width),t.img.height(n.height),t.img.coords=n.getBoundingClientRect(),Er(t,n)},src:t.img.src(),style:{opacity:t.img.display()?1:.1}})},kr={view:({attrs:{mdl:t}})=>D("label.col.point",D("code.text",{for:"upload"},"Upload an Image."),D("input.btn",{name:"upload",onchange:n=>Pr(t)(n).then(()=>t.state.status("select level")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},Fr=t=>({view:()=>D("#app.col",D(Lr,{mdl:t}),t.swap.history.length?D("pre.text",`Moves: ${Sr(t)}`):t.img.src()&&t.state.status()=="select level"&&D(".col",D("code.text","Select a level"),D(".row",Object.keys(t.state.levels).map(n=>D("button.btn",{onclick:()=>Nr(t,n)},n)))),t.img.src()&&t.state.status()=="select square"&&[D("button.btn",{onclick:()=>{t.state.level(null),t.state.status("select level")}},"change level"),D("code.text","Select a boring square to hide")],t.img.src()?D("#viewer.row",[t.state.status()!=="completed"&&D(Br,{mdl:t})],D(jr,{mdl:t})):D(kr,{mdl:t}))});D.mount(document.body,Fr(wr()))});export default Dr();
