const Kt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function a(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerpolicy&&(f.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?f.credentials="include":c.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=a(c);fetch(c.href,f)}};Kt();var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De,ot;function ge(){if(ot)return De;ot=1;function e(n,a,o,c,f,h){return{tag:n,key:a,attrs:o,children:c,text:f,dom:h,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return e.normalize=function(n){return Array.isArray(n)?e("[",void 0,void 0,e.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:e("#",void 0,void 0,String(n),void 0,void 0)},e.normalizeChildren=function(n){var a=[];if(n.length){for(var o=n[0]!=null&&n[0].key!=null,c=1;c<n.length;c++)if((n[c]!=null&&n[c].key!=null)!==o)throw new TypeError(o&&(n[c]!=null||typeof n[c]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var c=0;c<n.length;c++)a[c]=e.normalize(n[c])}return a},De=e,De}var Vt=ge(),St=function(){var e=arguments[this],n=this+1,a;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Vt("",e.key,e,a)},Pe={}.hasOwnProperty,Wt=ge(),Jt=St,Ee=Pe,Qt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,It={};function ct(e){for(var n in e)if(Ee.call(e,n))return!1;return!0}function Yt(e){for(var n,a="div",o=[],c={};n=Qt.exec(e);){var f=n[1],h=n[2];if(f===""&&h!=="")a=h;else if(f==="#")c.id=h;else if(f===".")o.push(h);else if(n[3][0]==="["){var p=n[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?o.push(p):c[n[4]]=p===""?p:p||!0}}return o.length>0&&(c.className=o.join(" ")),It[e]={tag:a,attrs:c}}function Gt(e,n){var a=n.attrs,o=Ee.call(a,"class"),c=o?a.class:a.className;if(n.tag=e.tag,n.attrs={},!ct(e.attrs)&&!ct(a)){var f={};for(var h in a)Ee.call(a,h)&&(f[h]=a[h]);a=f}for(var h in e.attrs)Ee.call(e.attrs,h)&&h!=="className"&&!Ee.call(a,h)&&(a[h]=e.attrs[h]);(c!=null||e.attrs.className!=null)&&(a.className=c!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(c):c:e.attrs.className!=null?e.attrs.className:null),o&&(a.class=null);for(var h in a)if(Ee.call(a,h)&&h!=="key"){n.attrs=a;break}return n}function Zt(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var n=Jt.apply(1,arguments);return typeof e=="string"&&(n.children=Wt.normalizeChildren(n.children),e!=="[")?Gt(It[e]||Yt(e),n):(n.tag=e,n)}var Lt=Zt,Xt=ge(),er=function(e){return e==null&&(e=""),Xt("<",void 0,void 0,e,void 0,void 0)},tr=ge(),rr=St,nr=function(){var e=rr.apply(0,arguments);return e.tag="[",e.children=tr.normalizeChildren(e.children),e},et=Lt;et.trust=er;et.fragment=nr;var ir=et,Se={exports:{}},je,ut;function Pt(){if(ut)return je;ut=1;var e=function(n){if(!(this instanceof e))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,o=[],c=[],f=w(o,!0),h=w(c,!1),p=a._instance={resolvers:o,rejectors:c},g=typeof setImmediate=="function"?setImmediate:setTimeout;function w(I,M){return function P(N){var b;try{if(M&&N!=null&&(typeof N=="object"||typeof N=="function")&&typeof(b=N.then)=="function"){if(N===a)throw new TypeError("Promise can't be resolved with itself.");d(b.bind(N))}else g(function(){!M&&I.length===0&&console.error("Possible unhandled promise rejection:",N);for(var A=0;A<I.length;A++)I[A](N);o.length=0,c.length=0,p.state=M,p.retry=function(){P(N)}})}catch(A){h(A)}}}function d(I){var M=0;function P(b){return function(A){M++>0||b(A)}}var N=P(h);try{I(P(f),N)}catch(b){N(b)}}d(n)};return e.prototype.then=function(n,a){var o=this,c=o._instance;function f(w,d,I,M){d.push(function(P){if(typeof w!="function")I(P);else try{h(w(P))}catch(N){p&&p(N)}}),typeof c.retry=="function"&&M===c.state&&c.retry()}var h,p,g=new e(function(w,d){h=w,p=d});return f(n,c.resolvers,h,!0),f(a,c.rejectors,p,!1),g},e.prototype.catch=function(n){return this.then(null,n)},e.prototype.finally=function(n){return this.then(function(a){return e.resolve(n()).then(function(){return a})},function(a){return e.resolve(n()).then(function(){return e.reject(a)})})},e.resolve=function(n){return n instanceof e?n:new e(function(a){a(n)})},e.reject=function(n){return new e(function(a,o){o(n)})},e.all=function(n){return new e(function(a,o){var c=n.length,f=0,h=[];if(n.length===0)a([]);else for(var p=0;p<n.length;p++)(function(g){function w(d){f++,h[g]=d,f===c&&a(h)}n[g]!=null&&(typeof n[g]=="object"||typeof n[g]=="function")&&typeof n[g].then=="function"?n[g].then(w,o):w(n[g])})(p)})},e.race=function(n){return new e(function(a,o){for(var c=0;c<n.length;c++)n[c].then(a,o)})},je=e,je}var Me=Pt();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Me:window.Promise.prototype.finally||(window.Promise.prototype.finally=Me.prototype.finally),Se.exports=window.Promise):typeof be<"u"?(typeof be.Promise>"u"?be.Promise=Me:be.Promise.prototype.finally||(be.Promise.prototype.finally=Me.prototype.finally),Se.exports=be.Promise):Se.exports=Me;var Fe,ft;function ar(){if(ft)return Fe;ft=1;var e=ge();return Fe=function(n){var a=n&&n.document,o,c={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function f(r){return r.attrs&&r.attrs.xmlns||c[r.tag]}function h(r,t){if(r.state!==t)throw new Error("'vnode.state' must not be modified.")}function p(r){var t=r.state;try{return this.apply(t,arguments)}finally{h(r,t)}}function g(){try{return a.activeElement}catch{return null}}function w(r,t,i,l,m,y,R){for(var H=i;H<l;H++){var C=t[H];C!=null&&d(r,C,m,R,y)}}function d(r,t,i,l,m){var y=t.tag;if(typeof y=="string")switch(t.state={},t.attrs!=null&&Ce(t.attrs,t,i),y){case"#":I(r,t,m);break;case"<":P(r,t,l,m);break;case"[":N(r,t,i,l,m);break;default:b(r,t,i,l,m)}else _(r,t,i,l,m)}function I(r,t,i){t.dom=a.createTextNode(t.children),s(r,t.dom,i)}var M={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function P(r,t,i,l){var m=t.children.match(/^\s*?<(\w+)/im)||[],y=a.createElement(M[m[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",y=y.firstChild):y.innerHTML=t.children,t.dom=y.firstChild,t.domSize=y.childNodes.length,t.instance=[];for(var R=a.createDocumentFragment(),H;H=y.firstChild;)t.instance.push(H),R.appendChild(H);s(r,R,l)}function N(r,t,i,l,m){var y=a.createDocumentFragment();if(t.children!=null){var R=t.children;w(y,R,0,R.length,i,null,l)}t.dom=y.firstChild,t.domSize=y.childNodes.length,s(r,y,m)}function b(r,t,i,l,m){var y=t.tag,R=t.attrs,H=R&&R.is;l=f(t)||l;var C=l?H?a.createElementNS(l,y,{is:H}):a.createElementNS(l,y):H?a.createElement(y,{is:H}):a.createElement(y);if(t.dom=C,R!=null&&k(t,R,l),s(r,C,m),!E(t)&&t.children!=null){var q=t.children;w(C,q,0,q.length,i,null,l),t.tag==="select"&&R!=null&&oe(t,R)}}function A(r,t){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ce(r.state,r,t),r.attrs!=null&&Ce(r.attrs,r,t),r.instance=e.normalize(p.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function _(r,t,i,l,m){A(t,i),t.instance!=null?(d(r,t.instance,i,l,m),t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0):t.domSize=0}function W(r,t,i,l,m,y){if(!(t===i||t==null&&i==null))if(t==null||t.length===0)w(r,i,0,i.length,l,m,y);else if(i==null||i.length===0)x(r,t,0,t.length);else{var R=t[0]!=null&&t[0].key!=null,H=i[0]!=null&&i[0].key!=null,C=0,q=0;if(!R)for(;q<t.length&&t[q]==null;)q++;if(!H)for(;C<i.length&&i[C]==null;)C++;if(R!==H)x(r,t,q,t.length),w(r,i,C,i.length,l,m,y);else if(H){for(var re=t.length-1,Q=i.length-1,Le,ne,K,X,j,ze;re>=q&&Q>=C&&(X=t[re],j=i[Q],X.key===j.key);)X!==j&&$(r,X,j,l,m,y),j.dom!=null&&(m=j.dom),re--,Q--;for(;re>=q&&Q>=C&&(ne=t[q],K=i[C],ne.key===K.key);)q++,C++,ne!==K&&$(r,ne,K,l,se(t,q,m),y);for(;re>=q&&Q>=C&&!(C===Q||ne.key!==j.key||X.key!==K.key);)ze=se(t,q,m),F(r,X,ze),X!==K&&$(r,X,K,l,ze,y),++C<=--Q&&F(r,ne,m),ne!==j&&$(r,ne,j,l,m,y),j.dom!=null&&(m=j.dom),q++,re--,X=t[re],j=i[Q],ne=t[q],K=i[C];for(;re>=q&&Q>=C&&X.key===j.key;)X!==j&&$(r,X,j,l,m,y),j.dom!=null&&(m=j.dom),re--,Q--,X=t[re],j=i[Q];if(C>Q)x(r,t,q,re+1);else if(q>re)w(r,i,C,Q+1,l,m,y);else{var $t=m,st=Q-C+1,xe=new Array(st),He=0,U=0,Be=2147483647,qe=0,Le,ke;for(U=0;U<st;U++)xe[U]=-1;for(U=Q;U>=C;U--){Le==null&&(Le=ue(t,q,re+1)),j=i[U];var ve=Le[j.key];ve!=null&&(Be=ve<Be?ve:-1,xe[U-C]=ve,X=t[ve],t[ve]=null,X!==j&&$(r,X,j,l,m,y),j.dom!=null&&(m=j.dom),qe++)}if(m=$t,qe!==re-q+1&&x(r,t,q,re+1),qe===0)w(r,i,C,Q+1,l,m,y);else if(Be===-1)for(ke=te(xe),He=ke.length-1,U=Q;U>=C;U--)K=i[U],xe[U-C]===-1?d(r,K,l,y,m):ke[He]===U-C?He--:F(r,K,m),K.dom!=null&&(m=i[U].dom);else for(U=Q;U>=C;U--)K=i[U],xe[U-C]===-1&&d(r,K,l,y,m),K.dom!=null&&(m=i[U].dom)}}else{var Ae=t.length<i.length?t.length:i.length;for(C=C<q?C:q;C<Ae;C++)ne=t[C],K=i[C],!(ne===K||ne==null&&K==null)&&(ne==null?d(r,K,l,y,se(t,C+1,m)):K==null?S(r,ne):$(r,ne,K,l,se(t,C+1,m),y));t.length>Ae&&x(r,t,C,t.length),i.length>Ae&&w(r,i,C,i.length,l,m,y)}}}function $(r,t,i,l,m,y){var R=t.tag,H=i.tag;if(R===H){if(i.state=t.state,i.events=t.events,Ne(i,t))return;if(typeof R=="string")switch(i.attrs!=null&&we(i.attrs,i,l),R){case"#":fe(t,i);break;case"<":ie(r,t,i,y,m);break;case"[":V(r,t,i,l,m,y);break;default:ee(t,i,l,y)}else G(r,t,i,l,m,y)}else S(r,t),d(r,i,l,y,m)}function fe(r,t){r.children.toString()!==t.children.toString()&&(r.dom.nodeValue=t.children),t.dom=r.dom}function ie(r,t,i,l,m){t.children!==i.children?(T(r,t),P(r,i,l,m)):(i.dom=t.dom,i.domSize=t.domSize,i.instance=t.instance)}function V(r,t,i,l,m,y){W(r,t.children,i.children,l,m,y);var R=0,H=i.children;if(i.dom=null,H!=null){for(var C=0;C<H.length;C++){var q=H[C];q!=null&&q.dom!=null&&(i.dom==null&&(i.dom=q.dom),R+=q.domSize||1)}R!==1&&(i.domSize=R)}}function ee(r,t,i,l){var m=t.dom=r.dom;l=f(t)||l,t.tag==="textarea"&&t.attrs==null&&(t.attrs={}),ae(t,r.attrs,t.attrs,l),E(t)||W(m,r.children,t.children,i,null,l)}function G(r,t,i,l,m,y){if(i.instance=e.normalize(p.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");we(i.state,i,l),i.attrs!=null&&we(i.attrs,i,l),i.instance!=null?(t.instance==null?d(r,i.instance,l,y,m):$(r,t.instance,i.instance,l,m,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):t.instance!=null?(S(r,t.instance),i.dom=void 0,i.domSize=0):(i.dom=t.dom,i.domSize=t.domSize)}function ue(r,t,i){for(var l=Object.create(null);t<i;t++){var m=r[t];if(m!=null){var y=m.key;y!=null&&(l[y]=t)}}return l}var Z=[];function te(r){for(var t=[0],i=0,l=0,m=0,y=Z.length=r.length,m=0;m<y;m++)Z[m]=r[m];for(var m=0;m<y;++m)if(r[m]!==-1){var R=t[t.length-1];if(r[R]<r[m]){Z[m]=R,t.push(m);continue}for(i=0,l=t.length-1;i<l;){var H=(i>>>1)+(l>>>1)+(i&l&1);r[t[H]]<r[m]?i=H+1:l=H}r[m]<r[t[i]]&&(i>0&&(Z[m]=t[i-1]),t[i]=m)}for(i=t.length,l=t[i-1];i-- >0;)t[i]=l,l=Z[l];return Z.length=0,t}function se(r,t,i){for(;t<r.length;t++)if(r[t]!=null&&r[t].dom!=null)return r[t].dom;return i}function F(r,t,i){var l=a.createDocumentFragment();u(r,l,t),s(r,l,i)}function u(r,t,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var l=0;l<i.instance.length;l++)t.appendChild(i.instance[l]);else if(i.tag!=="[")t.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var l=0;l<i.children.length;l++){var m=i.children[l];m!=null&&u(r,t,m)}break}}function s(r,t,i){i!=null?r.insertBefore(t,i):r.appendChild(t)}function E(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var t=r.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var i=t[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function x(r,t,i,l){for(var m=i;m<l;m++){var y=t[m];y!=null&&S(r,y)}}function S(r,t){var i=0,l=t.state,m,y;if(typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"){var R=p.call(t.state.onbeforeremove,t);R!=null&&typeof R.then=="function"&&(i=1,m=R)}if(t.attrs&&typeof t.attrs.onbeforeremove=="function"){var R=p.call(t.attrs.onbeforeremove,t);R!=null&&typeof R.then=="function"&&(i|=2,y=R)}if(h(t,l),!i)z(t),L(r,t);else{if(m!=null){var H=function(){i&1&&(i&=2,i||C())};m.then(H,H)}if(y!=null){var H=function(){i&2&&(i&=1,i||C())};y.then(H,H)}}function C(){h(t,l),z(t),L(r,t)}}function T(r,t){for(var i=0;i<t.instance.length;i++)r.removeChild(t.instance[i])}function L(r,t){for(;t.dom!=null&&t.dom.parentNode===r;){if(typeof t.tag!="string"){if(t=t.instance,t!=null)continue}else if(t.tag==="<")T(r,t);else{if(t.tag!=="["&&(r.removeChild(t.dom),!Array.isArray(t.children)))break;if(t.children.length===1){if(t=t.children[0],t!=null)continue}else for(var i=0;i<t.children.length;i++){var l=t.children[i];l!=null&&L(r,l)}}break}}function z(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&p.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&p.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&z(r.instance);else{var t=r.children;if(Array.isArray(t))for(var i=0;i<t.length;i++){var l=t[i];l!=null&&z(l)}}}function k(r,t,i){r.tag==="input"&&t.type!=null&&r.dom.setAttribute("type",t.type);var l=t!=null&&r.tag==="input"&&t.type==="file";for(var m in t)J(r,m,null,t[m],i,l)}function J(r,t,i,l,m,y){if(!(t==="key"||t==="is"||l==null||me(t)||i===l&&!D(r,t)&&typeof l!="object"||t==="type"&&r.tag==="input")){if(t[0]==="o"&&t[1]==="n")return Ie(r,t,l);if(t.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),l);else if(t==="style")ce(r.dom,i,l);else if(ye(r,t,m)){if(t==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+l&&(y||r.dom===g())||r.tag==="select"&&i!==null&&r.dom.value===""+l||r.tag==="option"&&i!==null&&r.dom.value===""+l)return;if(y&&""+l!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[t]=l}else typeof l=="boolean"?l?r.dom.setAttribute(t,""):r.dom.removeAttribute(t):r.dom.setAttribute(t==="className"?"class":t,l)}}function B(r,t,i,l){if(!(t==="key"||t==="is"||i==null||me(t)))if(t[0]==="o"&&t[1]==="n")Ie(r,t,void 0);else if(t==="style")ce(r.dom,i,null);else if(ye(r,t,l)&&t!=="className"&&t!=="title"&&!(t==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===g()))&&!(r.tag==="input"&&t==="type"))r.dom[t]=null;else{var m=t.indexOf(":");m!==-1&&(t=t.slice(m+1)),i!==!1&&r.dom.removeAttribute(t==="className"?"class":t)}}function oe(r,t){if("value"in t)if(t.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+t.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in t&&J(r,"selectedIndex",null,t.selectedIndex,void 0)}function ae(r,t,i,l){if(t&&t===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var m=r.tag==="input"&&i.type==="file";for(var y in i)J(r,y,t&&t[y],i[y],l,m)}var R;if(t!=null)for(var y in t)(R=t[y])!=null&&(i==null||i[y]==null)&&B(r,y,R,l)}function D(r,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&r.dom===g()||r.tag==="option"&&r.dom.parentNode===a.activeElement}function me(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,t,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in r.dom}var le=/[A-Z]/g;function de(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(le,de)}function ce(r,t,i){if(t!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(t==null||typeof t!="object"){r.style.cssText="";for(var l in i){var m=i[l];m!=null&&r.style.setProperty(he(l),String(m))}}else{for(var l in i){var m=i[l];m!=null&&(m=String(m))!==String(t[l])&&r.style.setProperty(he(l),m)}for(var l in t)t[l]!=null&&i[l]==null&&r.style.removeProperty(he(l))}}function Te(){this._=o}Te.prototype=Object.create(null),Te.prototype.handleEvent=function(r){var t=this["on"+r.type],i;typeof t=="function"?i=t.call(r.currentTarget,r):typeof t.handleEvent=="function"&&t.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Ie(r,t,i){if(r.events!=null){if(r.events._=o,r.events[t]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[t]==null&&r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i):(r.events[t]!=null&&r.dom.removeEventListener(t.slice(2),r.events,!1),r.events[t]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new Te,r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i)}function Ce(r,t,i){typeof r.oninit=="function"&&p.call(r.oninit,t),typeof r.oncreate=="function"&&i.push(p.bind(r.oncreate,t))}function we(r,t,i){typeof r.onupdate=="function"&&i.push(p.bind(r.onupdate,t))}function Ne(r,t){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=p.call(r.attrs.onbeforeupdate,r,t);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=p.call(r.state.onbeforeupdate,r,t);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=t.dom,r.domSize=t.domSize,r.instance=t.instance,r.attrs=t.attrs,r.children=t.children,r.text=t.text,!0}var pe;return function(r,t,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&r.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var l=o,m=pe,y=[],R=g(),H=r.namespaceURI;pe=r,o=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),t=e.normalizeChildren(Array.isArray(t)?t:[t]),W(r,r.vnodes,t,y,null,H==="http://www.w3.org/1999/xhtml"?void 0:H),r.vnodes=t,R!=null&&g()!==R&&typeof R.focus=="function"&&R.focus();for(var C=0;C<y.length;C++)y[C]()}finally{o=l,pe=m}}},Fe}var _e,lt;function Rt(){return lt||(lt=1,_e=ar()(typeof window<"u"?window:null)),_e}var ht=ge(),sr=function(e,n,a){var o=[],c=!1,f=-1;function h(){for(f=0;f<o.length;f+=2)try{e(o[f],ht(o[f+1]),p)}catch(w){a.error(w)}f=-1}function p(){c||(c=!0,n(function(){c=!1,h()}))}p.sync=h;function g(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var I=o.indexOf(w);I>=0&&(o.splice(I,2),I<=f&&(f-=2),e(w,[])),d!=null&&(o.push(w,d),e(w,ht(d),p))}return{mount:g,redraw:p}},or=Rt(),tt=sr(or,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Ue,pt;function Ot(){return pt||(pt=1,Ue=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var n=[];for(var a in e)o(a,e[a]);return n.join("&");function o(c,f){if(Array.isArray(f))for(var h=0;h<f.length;h++)o(c+"["+h+"]",f[h]);else if(Object.prototype.toString.call(f)==="[object Object]")for(var h in f)o(c+"["+h+"]",f[h]);else n.push(encodeURIComponent(c)+(f!=null&&f!==""?"="+encodeURIComponent(f):""))}}),Ue}var $e,gt;function Nt(){if(gt)return $e;gt=1;var e=Pe;return $e=Object.assign||function(n,a){for(var o in a)e.call(a,o)&&(n[o]=a[o])},$e}var Ke,mt;function rt(){if(mt)return Ke;mt=1;var e=Ot(),n=Nt();return Ke=function(a,o){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(o==null)return a;var c=a.indexOf("?"),f=a.indexOf("#"),h=f<0?a.length:f,p=c<0?h:c,g=a.slice(0,p),w={};n(w,o);var d=g.replace(/:([^\/\.-]+)(\.{3})?/g,function(_,W,$){return delete w[W],o[W]==null?_:$?o[W]:encodeURIComponent(String(o[W]))}),I=d.indexOf("?"),M=d.indexOf("#"),P=M<0?d.length:M,N=I<0?P:I,b=d.slice(0,N);c>=0&&(b+=a.slice(c,h)),I>=0&&(b+=(c<0?"?":"&")+d.slice(I,P));var A=e(w);return A&&(b+=(c<0&&I<0?"?":"&")+A),f>=0&&(b+=a.slice(f)),M>=0&&(b+=(f<0?"":"&")+d.slice(M)),b},Ke}var cr=rt(),yt=Pe,ur=function(e,n,a){var o=0;function c(p){return new n(p)}c.prototype=n.prototype,c.__proto__=n;function f(p){return function(g,w){typeof g!="string"?(w=g,g=g.url):w==null&&(w={});var d=new n(function(N,b){p(cr(g,w.params),w,function(A){if(typeof w.type=="function")if(Array.isArray(A))for(var _=0;_<A.length;_++)A[_]=new w.type(A[_]);else A=new w.type(A);N(A)},b)});if(w.background===!0)return d;var I=0;function M(){--I===0&&typeof a=="function"&&a()}return P(d);function P(N){var b=N.then;return N.constructor=c,N.then=function(){I++;var A=b.apply(N,arguments);return A.then(M,function(_){if(M(),I===0)throw _}),P(A)},N}}}function h(p,g){for(var w in p.headers)if(yt.call(p.headers,w)&&w.toLowerCase()===g)return!0;return!1}return{request:f(function(p,g,w,d){var I=g.method!=null?g.method.toUpperCase():"GET",M=g.body,P=(g.serialize==null||g.serialize===JSON.serialize)&&!(M instanceof e.FormData||M instanceof e.URLSearchParams),N=g.responseType||(typeof g.extract=="function"?"":"json"),b=new e.XMLHttpRequest,A=!1,_=!1,W=b,$,fe=b.abort;b.abort=function(){A=!0,fe.call(this)},b.open(I,p,g.async!==!1,typeof g.user=="string"?g.user:void 0,typeof g.password=="string"?g.password:void 0),P&&M!=null&&!h(g,"content-type")&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof g.deserialize!="function"&&!h(g,"accept")&&b.setRequestHeader("Accept","application/json, text/*"),g.withCredentials&&(b.withCredentials=g.withCredentials),g.timeout&&(b.timeout=g.timeout),b.responseType=N;for(var ie in g.headers)yt.call(g.headers,ie)&&b.setRequestHeader(ie,g.headers[ie]);b.onreadystatechange=function(V){if(!A&&V.target.readyState===4)try{var ee=V.target.status>=200&&V.target.status<300||V.target.status===304||/^file:\/\//i.test(p),G=V.target.response,ue;if(N==="json"){if(!V.target.responseType&&typeof g.extract!="function")try{G=JSON.parse(V.target.responseText)}catch{G=null}}else(!N||N==="text")&&G==null&&(G=V.target.responseText);if(typeof g.extract=="function"?(G=g.extract(V.target,g),ee=!0):typeof g.deserialize=="function"&&(G=g.deserialize(G)),ee)w(G);else{var Z=function(){try{ue=V.target.responseText}catch{ue=G}var te=new Error(ue);te.code=V.target.status,te.response=G,d(te)};b.status===0?setTimeout(function(){_||Z()}):Z()}}catch(te){d(te)}},b.ontimeout=function(V){_=!0;var ee=new Error("Request timed out");ee.code=V.target.status,d(ee)},typeof g.config=="function"&&(b=g.config(b,g,p)||b,b!==W&&($=b.abort,b.abort=function(){A=!0,$.call(this)})),M==null?b.send():typeof g.serialize=="function"?b.send(g.serialize(M)):M instanceof e.FormData||M instanceof e.URLSearchParams?b.send(M):b.send(JSON.stringify(M))}),jsonp:f(function(p,g,w,d){var I=g.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+o++,M=e.document.createElement("script");e[I]=function(P){delete e[I],M.parentNode.removeChild(M),w(P)},M.onerror=function(){delete e[I],M.parentNode.removeChild(M),d(new Error("JSONP request failed"))},M.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(g.callbackKey||"callback")+"="+encodeURIComponent(I),e.document.documentElement.appendChild(M)})}},fr=Se.exports,lr=tt,hr=ur(typeof window<"u"?window:null,fr,lr.redraw),Ve,dt;function At(){if(dt)return Ve;dt=1;function e(n){try{return decodeURIComponent(n)}catch{return n}}return Ve=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),o={},c={},f=0;f<a.length;f++){var h=a[f].split("="),p=e(h[0]),g=h.length===2?e(h[1]):"";g==="true"?g=!0:g==="false"&&(g=!1);var w=p.split(/\]\[?|\[/),d=c;p.indexOf("[")>-1&&w.pop();for(var I=0;I<w.length;I++){var M=w[I],P=w[I+1],N=P==""||!isNaN(parseInt(P,10));if(M===""){var p=w.slice(0,I).join();o[p]==null&&(o[p]=Array.isArray(d)?d.length:0),M=o[p]++}else if(M==="__proto__")break;if(I===w.length-1)d[M]=g;else{var b=Object.getOwnPropertyDescriptor(d,M);b!=null&&(b=b.value),b==null&&(d[M]=b=N?[]:{}),d=b}}}return c},Ve}var We,wt;function nt(){if(wt)return We;wt=1;var e=At();return We=function(n){var a=n.indexOf("?"),o=n.indexOf("#"),c=o<0?n.length:o,f=a<0?c:a,h=n.slice(0,f).replace(/\/{2,}/g,"/");return h?(h[0]!=="/"&&(h="/"+h),h.length>1&&h[h.length-1]==="/"&&(h=h.slice(0,-1))):h="/",{path:h,params:a<0?{}:e(n.slice(a+1,c))}},We}var Je,vt;function pr(){if(vt)return Je;vt=1;var e=nt();return Je=function(n){var a=e(n),o=Object.keys(a.params),c=[],f=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(h,p,g){return p==null?"\\"+h:(c.push({k:p,r:g==="..."}),g==="..."?"(.*)":g==="."?"([^/]+)\\.":"([^/]+)"+(g||""))})+"$");return function(h){for(var p=0;p<o.length;p++)if(a.params[o[p]]!==h.params[o[p]])return!1;if(!c.length)return f.test(h.path);var g=f.exec(h.path);if(g==null)return!1;for(var p=0;p<c.length;p++)h.params[c[p].k]=c[p].r?g[p+1]:decodeURIComponent(g[p+1]);return!0}},Je}var Qe,bt;function zt(){if(bt)return Qe;bt=1;var e=Pe,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Qe=function(a,o){var c={};if(o!=null)for(var f in a)e.call(a,f)&&!n.test(f)&&o.indexOf(f)<0&&(c[f]=a[f]);else for(var f in a)e.call(a,f)&&!n.test(f)&&(c[f]=a[f]);return c},Qe}var Ye,Et;function gr(){if(Et)return Ye;Et=1;var e=ge(),n=Lt,a=Se.exports,o=rt(),c=nt(),f=pr(),h=Nt(),p=zt(),g={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Ye=function(d,I){var M=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,P=a.resolve(),N=!1,b=!1,A=0,_,W,$=g,fe,ie,V,ee,G={onbeforeupdate:function(){return A=A?2:1,!(!A||g===$)},onremove:function(){d.removeEventListener("popstate",te,!1),d.removeEventListener("hashchange",Z,!1)},view:function(){if(!(!A||g===$)){var u=[e(fe,ie.key,ie)];return $&&(u=$.render(u[0])),u}}},ue=F.SKIP={};function Z(){N=!1;var u=d.location.hash;F.prefix[0]!=="#"&&(u=d.location.search+u,F.prefix[0]!=="?"&&(u=d.location.pathname+u,u[0]!=="/"&&(u="/"+u)));var s=u.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice(F.prefix.length),E=c(s);h(E.params,d.history.state);function x(T){console.error(T),se(W,null,{replace:!0})}S(0);function S(T){for(;T<_.length;T++)if(_[T].check(E)){var L=_[T].component,z=_[T].route,k=L,J=ee=function(B){if(J===ee){if(B===ue)return S(T+1);fe=B!=null&&(typeof B.view=="function"||typeof B=="function")?B:"div",ie=E.params,V=s,ee=null,$=L.render?L:null,A===2?I.redraw():(A=2,I.redraw.sync())}};L.view||typeof L=="function"?(L={},J(k)):L.onmatch?P.then(function(){return L.onmatch(E.params,s,z)}).then(J,s===W?null:x):J("div");return}if(s===W)throw new Error("Could not resolve default route "+W+".");se(W,null,{replace:!0})}}function te(){N||(N=!0,M(Z))}function se(u,s,E){if(u=o(u,s),b){te();var x=E?E.state:null,S=E?E.title:null;E&&E.replace?d.history.replaceState(x,S,F.prefix+u):d.history.pushState(x,S,F.prefix+u)}else d.location.href=F.prefix+u}function F(u,s,E){if(!u)throw new TypeError("DOM element being rendered to does not exist.");if(_=Object.keys(E).map(function(S){if(S[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(S))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:S,component:E[S],check:f(S)}}),W=s,s!=null){var x=c(s);if(!_.some(function(S){return S.check(x)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",te,!1):F.prefix[0]==="#"&&d.addEventListener("hashchange",Z,!1),b=!0,I.mount(u,G),Z()}return F.set=function(u,s,E){ee!=null&&(E=E||{},E.replace=!0),ee=null,se(u,s,E)},F.get=function(){return V},F.prefix="#!",F.Link={view:function(u){var s=n(u.attrs.selector||"a",p(u.attrs,["options","params","selector","onclick"]),u.children),E,x,S;return(s.attrs.disabled=Boolean(s.attrs.disabled))?(s.attrs.href=null,s.attrs["aria-disabled"]="true"):(E=u.attrs.options,x=u.attrs.onclick,S=o(s.attrs.href,u.attrs.params),s.attrs.href=F.prefix+S,s.attrs.onclick=function(T){var L;typeof x=="function"?L=x.call(T.currentTarget,T):x==null||typeof x!="object"||typeof x.handleEvent=="function"&&x.handleEvent(T),L!==!1&&!T.defaultPrevented&&(T.button===0||T.which===0||T.which===1)&&(!T.currentTarget.target||T.currentTarget.target==="_self")&&!T.ctrlKey&&!T.metaKey&&!T.shiftKey&&!T.altKey&&(T.preventDefault(),T.redraw=!1,F.set(S,null,E))}),s}},F.param=function(u){return ie&&u!=null?ie[u]:ie},F},Ye}var Ge,Tt;function mr(){if(Tt)return Ge;Tt=1;var e=tt;return Ge=gr()(typeof window<"u"?window:null,e),Ge}var Re=ir,Ht=hr,Bt=tt,Y=function(){return Re.apply(this,arguments)};Y.m=Re;Y.trust=Re.trust;Y.fragment=Re.fragment;Y.Fragment="[";Y.mount=Bt.mount;Y.route=mr();Y.render=Rt();Y.redraw=Bt.redraw;Y.request=Ht.request;Y.jsonp=Ht.jsonp;Y.parseQueryString=At();Y.buildQueryString=Ot();Y.parsePathname=nt();Y.buildPathname=rt();Y.vnode=ge();Y.PromisePolyfill=Pt();Y.censor=zt();var v=Y;O.SKIP={};O.lift=wr;O.scan=yr;O.merge=qt;O.combine=Oe;O.scanMerge=dr;O["fantasy-land/of"]=O;var Ct=!1;Object.defineProperty(O,"HALT",{get:function(){return Ct||console.log("HALT is deprecated and has been renamed to SKIP"),Ct=!0,O.SKIP}});function O(e){var n=[],a=[];function o(h){return arguments.length&&h!==O.SKIP&&(e=h,xt(o)&&(o.changing(),o.state="active",n.forEach(function(p,g){p(a[g](e))}))),e}o.constructor=O,o.state=arguments.length&&e!==O.SKIP?"active":"pending",o.parents=[],o.changing=function(){xt(o)&&(o.state="changing"),n.forEach(function(h){h.changing()})},o.map=function(h,p){var g=o.state==="active"&&p!==O.SKIP?O(h(e)):O();return g.parents.push(o),n.push(g),a.push(h),g};var c;function f(){return c=O(),c.map(function(h){return h===!0&&(o.parents.forEach(function(p){p.unregisterChild(o)}),o.state="ended",o.parents.length=n.length=a.length=0),h}),c}return o.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},o["fantasy-land/map"]=o.map,o["fantasy-land/ap"]=function(h){return Oe(function(p,g){return p()(g())},[h,o])},o.unregisterChild=function(h){var p=n.indexOf(h);p!==-1&&(n.splice(p,1),a.splice(p,1))},Object.defineProperty(o,"end",{get:function(){return c||f()}}),o}function Oe(e,n){var a=n.every(function(p){if(p.constructor!==O)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return p.state==="active"}),o=a?O(e.apply(null,n.concat([n]))):O(),c=[],f=n.map(function(p){return p.map(function(g){return c.push(p),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,o(e.apply(null,n.concat([c]))),c=[]),g},O.SKIP)}),h=o.end.map(function(p){p===!0&&(f.forEach(function(g){g.end(!0)}),h.end(!0))});return o}function qt(e){return Oe(function(){return e.map(function(n){return n()})},e)}function yr(e,n,a){var o=a.map(function(c){var f=e(n,c);return f!==O.SKIP&&(n=f),f});return o(n),o}function dr(e,n){var a=e.map(function(c){return c[0]}),o=Oe(function(){var c=arguments[arguments.length-1];return a.forEach(function(f,h){c.indexOf(f)>-1&&(n=e[h][1](n,f()))}),n},a);return o(n),o}function wr(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1);return qt(n).map(function(a){return e.apply(void 0,a)})}function xt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}var it={};(function e(n,a,o,c){var f=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function h(){}function p(u){var s=a.exports.Promise,E=s!==void 0?s:n.Promise;return typeof E=="function"?new E(u):(u(h,h),null)}var g=function(){var u=Math.floor(16.666666666666668),s,E,x={},S=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(s=function(T){var L=Math.random();return x[L]=requestAnimationFrame(function z(k){S===k||S+u-1<k?(S=k,delete x[L],T()):x[L]=requestAnimationFrame(z)}),L},E=function(T){x[T]&&cancelAnimationFrame(x[T])}):(s=function(T){return setTimeout(T,u)},E=function(T){return clearTimeout(T)}),{frame:s,cancel:E}}(),w=function(){var u,s,E={};function x(S){function T(L,z){S.postMessage({options:L||{},callback:z})}S.init=function(z){var k=z.transferControlToOffscreen();S.postMessage({canvas:k},[k])},S.fire=function(z,k,J){if(s)return T(z,null),s;var B=Math.random().toString(36).slice(2);return s=p(function(oe){function ae(D){D.data.callback===B&&(delete E[B],S.removeEventListener("message",ae),s=null,J(),oe())}S.addEventListener("message",ae),T(z,B),E[B]=ae.bind(null,{data:{callback:B}})}),s},S.reset=function(){S.postMessage({reset:!0});for(var z in E)E[z](),delete E[z]}}return function(){if(u)return u;if(!o&&f){var S=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{u=new Worker(URL.createObjectURL(new Blob([S])))}catch(T){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",T),null}x(u)}return u}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function I(u,s){return s?s(u):u}function M(u){return u!=null}function P(u,s,E){return I(u&&M(u[s])?u[s]:d[s],E)}function N(u){return u<0?0:Math.floor(u)}function b(u,s){return Math.floor(Math.random()*(s-u))+u}function A(u){return parseInt(u,16)}function _(u){return u.map(W)}function W(u){var s=String(u).replace(/[^0-9a-f]/gi,"");return s.length<6&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:A(s.substring(0,2)),g:A(s.substring(2,4)),b:A(s.substring(4,6))}}function $(u){var s=P(u,"origin",Object);return s.x=P(s,"x",Number),s.y=P(s,"y",Number),s}function fe(u){u.width=document.documentElement.clientWidth,u.height=document.documentElement.clientHeight}function ie(u){var s=u.getBoundingClientRect();u.width=s.width,u.height=s.height}function V(u){var s=document.createElement("canvas");return s.style.position="fixed",s.style.top="0px",s.style.left="0px",s.style.pointerEvents="none",s.style.zIndex=u,s}function ee(u,s,E,x,S,T,L,z,k){u.save(),u.translate(s,E),u.rotate(T),u.scale(x,S),u.arc(0,0,1,L,z,k),u.restore()}function G(u){var s=u.angle*(Math.PI/180),E=u.spread*(Math.PI/180);return{x:u.x,y:u.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:u.startVelocity*.5+Math.random()*u.startVelocity,angle2D:-s+(.5*E-Math.random()*E),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:u.color,shape:u.shape,tick:0,totalTicks:u.ticks,decay:u.decay,drift:u.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:u.gravity*3,ovalScalar:.6,scalar:u.scalar}}function ue(u,s){s.x+=Math.cos(s.angle2D)*s.velocity+s.drift,s.y+=Math.sin(s.angle2D)*s.velocity+s.gravity,s.wobble+=s.wobbleSpeed,s.velocity*=s.decay,s.tiltAngle+=.1,s.tiltSin=Math.sin(s.tiltAngle),s.tiltCos=Math.cos(s.tiltAngle),s.random=Math.random()+2,s.wobbleX=s.x+10*s.scalar*Math.cos(s.wobble),s.wobbleY=s.y+10*s.scalar*Math.sin(s.wobble);var E=s.tick++/s.totalTicks,x=s.x+s.random*s.tiltCos,S=s.y+s.random*s.tiltSin,T=s.wobbleX+s.random*s.tiltCos,L=s.wobbleY+s.random*s.tiltSin;if(u.fillStyle="rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+(1-E)+")",u.beginPath(),s.shape==="circle")u.ellipse?u.ellipse(s.x,s.y,Math.abs(T-x)*s.ovalScalar,Math.abs(L-S)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI):ee(u,s.x,s.y,Math.abs(T-x)*s.ovalScalar,Math.abs(L-S)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI);else if(s.shape==="star")for(var z=Math.PI/2*3,k=4*s.scalar,J=8*s.scalar,B=s.x,oe=s.y,ae=5,D=Math.PI/ae;ae--;)B=s.x+Math.cos(z)*J,oe=s.y+Math.sin(z)*J,u.lineTo(B,oe),z+=D,B=s.x+Math.cos(z)*k,oe=s.y+Math.sin(z)*k,u.lineTo(B,oe),z+=D;else u.moveTo(Math.floor(s.x),Math.floor(s.y)),u.lineTo(Math.floor(s.wobbleX),Math.floor(S)),u.lineTo(Math.floor(T),Math.floor(L)),u.lineTo(Math.floor(x),Math.floor(s.wobbleY));return u.closePath(),u.fill(),s.tick<s.totalTicks}function Z(u,s,E,x,S){var T=s.slice(),L=u.getContext("2d"),z,k,J=p(function(B){function oe(){z=k=null,L.clearRect(0,0,x.width,x.height),S(),B()}function ae(){o&&!(x.width===c.width&&x.height===c.height)&&(x.width=u.width=c.width,x.height=u.height=c.height),!x.width&&!x.height&&(E(u),x.width=u.width,x.height=u.height),L.clearRect(0,0,x.width,x.height),T=T.filter(function(D){return ue(L,D)}),T.length?z=g.frame(ae):oe()}z=g.frame(ae),k=oe});return{addFettis:function(B){return T=T.concat(B),J},canvas:u,promise:J,reset:function(){z&&g.cancel(z),k&&k()}}}function te(u,s){var E=!u,x=!!P(s||{},"resize"),S=P(s,"disableForReducedMotion",Boolean),T=f&&!!P(s||{},"useWorker"),L=T?w():null,z=E?fe:ie,k=u&&L?!!u.__confetti_initialized:!1,J=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,B;function oe(D,me,ye){for(var le=P(D,"particleCount",N),de=P(D,"angle",Number),he=P(D,"spread",Number),ce=P(D,"startVelocity",Number),Te=P(D,"decay",Number),Ie=P(D,"gravity",Number),Ce=P(D,"drift",Number),we=P(D,"colors",_),Ne=P(D,"ticks",Number),pe=P(D,"shapes"),r=P(D,"scalar"),t=$(D),i=le,l=[],m=u.width*t.x,y=u.height*t.y;i--;)l.push(G({x:m,y,angle:de,spread:he,startVelocity:ce,color:we[i%we.length],shape:pe[b(0,pe.length)],ticks:Ne,decay:Te,gravity:Ie,drift:Ce,scalar:r}));return B?B.addFettis(l):(B=Z(u,l,z,me,ye),B.promise)}function ae(D){var me=S||P(D,"disableForReducedMotion",Boolean),ye=P(D,"zIndex",Number);if(me&&J)return p(function(ce){ce()});E&&B?u=B.canvas:E&&!u&&(u=V(ye),document.body.appendChild(u)),x&&!k&&z(u);var le={width:u.width,height:u.height};L&&!k&&L.init(u),k=!0,L&&(u.__confetti_initialized=!0);function de(){if(L){var ce={getBoundingClientRect:function(){if(!E)return u.getBoundingClientRect()}};z(ce),L.postMessage({resize:{width:ce.width,height:ce.height}});return}le.width=le.height=null}function he(){B=null,x&&n.removeEventListener("resize",de),E&&u&&(document.body.removeChild(u),u=null,k=!1)}return x&&n.addEventListener("resize",de,!1),L?L.fire(D,le,he):oe(D,le,he)}return ae.reset=function(){L&&L.reset(),B&&B.reset()},ae}var se;function F(){return se||(se=te(null,{useWorker:!0,resize:!0})),se}a.exports=function(){return F().apply(this,arguments)},a.exports.reset=function(){F().reset()},a.exports.create=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),it,!1);const Mt=it.exports;it.exports.create;window.log=e=>n=>(console.log(e,n),n);const vr=e=>{let n=window.innerWidth;const a=c=>c<600?"PHONE":c<920?"TABLET":"DESKTOP",o=c=>{const f=window.innerWidth;if(c!==f){c=f;let h=e.state.screenSize();e.state.screenSize(a(f)),h!=e.state.screenSize()&&v.redraw()}return requestAnimationFrame(o)};e.state.screenSize(a(n)),o(n)},br=e=>vr(e),Er=e=>e[Math.floor(Math.random()*e.length)],Tr=(e,n)=>{const a=e.offsetTop,o=e.offsetLeft,c=n.offsetTop,f=n.offsetLeft,h=a-c,p=o-f;return Math.sqrt(h*h+p*p)},Cr=()=>"xxxxxxxx".replace(/[xy]/g,e=>{let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)}),xr=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function o(f,h){return Math.random()*(h-f)+f}const c=setInterval(function(){const f=n-Date.now();if(f<=0)return clearInterval(c);const h=50*(f/15e3);Mt(Object.assign({},a,{particleCount:h,origin:{x:o(.1,.3),y:Math.random()-.2}})),Mt(Object.assign({},a,{particleCount:h,origin:{x:o(.7,.9),y:Math.random()-.2}}))},250)},Mr=()=>({chunks:[],blocks:[],originals:[],help:{toggles:[{isDisabled:e=>e.state.showHint()||e.state.showOriginalImage(),id:"showHint",label:"Show Hint",action:e=>e.state.showHint(!e.state.showHint())},{isDisabled:e=>e.state.showHiddenImage()&&e.state.showHint(),id:"originalimage",label:"Show Original Image",action:e=>{e.img.display(!e.img.display()),e.state.showOriginalImage(!e.state.showOriginalImage())}}]},swap:{isDragging:!1,swapBlockIds:[],history:[],path:[]},state:{showHelp:O(!1),screenSize:O("PHONE"),showOriginalImage:O(!1),showHiddenImage:O(!1),showHint:O(!1),hintUsed:O(0),userMoves:O(0),status:O("SELECT_IMG"),hiddenBlock:O(null),direction:O("horizontal"),size:O(0),levels:{Easy:{count:25,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:O(null)},img:{src:O(null),srcs:O(null),width:O(0),height:O(0),zIndex:O(0),display:O(!0)}}),Sr=[100,101],Ir=e=>(e.blocks=[],e.img.src(null),e.img.width(0),e.img.height(0),e.img.zIndex(0),e.img.display(!0),e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.showHint(!1),e.state.showOriginalImage(!1),e.state.showHiddenImage(!1),e.state.showHelp(!1),e.state.hintUsed(0),e.state.level(null),e.state.userMoves(0),e.state.status("SELECT_IMG"),e.swap.isDragging=!1,e.swap.src={coords:null,idx:null,id:null,dom:null,img:null},e.swap.target={coords:null,idx:null,id:null,dom:null,img:null},e.swap.swapBlockIds=[],e.swap.history=[],e.swap.path=[],e),Lr=(e,n)=>({img:e,idx:n,id:Cr(),coords:{}}),Pr=(e,n)=>{const a=Array.from(n.parentNode.children),o=a.find(f=>f.id==e);o.style.backgroundImage="";const c=f=>Sr.includes(Tr(o,f));return a.filter(c).map(f=>f.id)},Rr=(e,n)=>{const a=n.width,o=n.height,c=Math.ceil(a/16),f=[];for(let p=0;p<a;p+=c){const g=document.createElement("canvas"),w=g.getContext("2d");g.width=c,g.height=o,w.drawImage(n,p,0,c,o,0,0,c,o),w.clip(),f.push(g.toDataURL()),e.chunks.push(g)}const h=f.map(Lr);e.blocks=structuredClone(h),e.img.display(!1)},Or=(e,n)=>{e.state.level(n),e.state.status("SELECT_SQR")},kt=e=>({target:{files:n}})=>(e.file=n[0],Promise.resolve(e.img.src(URL.createObjectURL(e.file)))),Nr=e=>{e.swap.history=[],e.swap.path=[],e.swap.swapBlockIds=[],e.swap.history=[],e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.level(null),e.state.showHint(!1),e.state.showOriginalImage(!1),e.state.showHiddenImage(!1),e.state.showHelp(!1),e.state.hintUsed(0),e.state.userMoves(0),e.blocks=[],e.originals=[],e.img.display(!0),kt(e)({target:{files:[e.file]}}).then(()=>e.state.status("SELECT_LEVEL"))},Ar=e=>{const n=JSON.parse(e.originals).map(o=>JSON.stringify(o.coords)),a=e.blocks.map(o=>JSON.stringify(o.coords));return n.map((o,c)=>o==a[c]).reduce((o,c)=>c?o:o+1,0)},Dt=(e,n,a)=>({target:o})=>(a&&e.swap.history.slice(-2)[0]==n?e.swap.history.pop():e.swap.history.push(n),a&&e.state.userMoves(e.state.userMoves()+1),e.state.hiddenBlock(n),e.swap.swapBlockIds=Pr(n,o),e.state.status()=="READY"&&Ar(e)==0&&(e.state.status("COMPLETED"),e.img.display(!0),xr()),e),at=(e,n)=>e.swap.swapBlockIds.includes(n.id),Xe=(e,n)=>n.id==e.state.hiddenBlock(),zr=(e,n)=>e.swap.history.slice(-2)[0]==n.id,Hr=(e,n)=>e.swap.isDragging?Xe(e,n):at(e,n)||Xe(e,n),jt=(e,n,a)=>{if(!e.swap.swapBlockIds.includes(n.id))return;e.state.showHint()&&e.state.hintUsed(e.state.hintUsed()+1);let o=document.getElementById("showHint");o&&(o.checked=!1,e.state.showHint(!1));const c=e.state.hiddenBlock(),f=e.blocks.find(g=>g.id==c),h=f.dom,p=f.coords;f.coords=n.coords,Ft(e,n,h),e.swap.dragging=!1,n.coords=p,Dt(e,n.id,a)({target:n.dom})},Ft=(e,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(e.img.src())})`,a.style.backgroundSize=`${e.img.width()}px ${e.img.height()}px`,a.style.backgroundPosition=`${e.img.coords.left-n.coords.left}px ${e.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},Ze=(e,n,a,o)=>setTimeout(()=>{_t(e,n,a)({target:o}),v.redraw()},10),_t=(e,n,a)=>({target:o})=>{if(a==e.state.levels[e.state.level()].count)return e.state.status("READY"),e.swap.path=[...e.swap.history],e;if(a==0)return e.state.status("SHUFFLING"),Dt(e,n.id)({target:o}),Ze(e,n,a+1,o);if(a>0){const c=e.swap.history.slice(-2)[0];let f=e.swap.swapBlockIds.filter(w=>w!==c);const h=Er(f);h||(a=e.state.levels[e.state.level()].count,Ze(e,n,a,n.dom));const p=e.blocks.find(w=>w.id==h),g=n.dom;return jt(e,p),Ze(e,n,a+1,g)}},Br=(e,n)=>e.state.status()=="SELECT_SQR"||at(e,n)&&e.state.status()!=="COMPLETED"?zr(e,n)&&e.state.showHint()?"3px solid var(--hint)":"3px solid var(--hilight)":"",qr=(e,n)=>Xe(e,n)?"isSwapBlock":at(e,n)?"point isSwapBlock":e.state.status()=="SELECT_SQR"&&"point",kr=(e,n)=>e.state.hiddenBlock()?()=>jt(e,n,!0):e.state.level()&&e.state.status()!=="COMPLETED"&&_t(e,n,0),Dr=e=>e.img.src()&&e.state.screenSize()=="TABLET"?"row":"col",jr=e=>e.img.src()&&e.state.screenSize()=="TABLET"&&{justifyContent:"space-between"},Fr=(e,n)=>{switch(e){case"PHONE":return"33dvh";case"TABLET":return n?"100dvh":"33dvh";case"DESKTOP":return"30dvh"}},_r=e=>{switch(e.state.screenSize()){case"PHONE":return"space-around";case"TABLET":return e.img.src(),"space-evenly";case"DESKTOP":return e.img.src(),"space-evenly"}},Ur=e=>({height:Fr(e.state.screenSize(),e.img.src()),justifyContent:_r(e)}),$r=e=>({left:e.state.screenSize()=="TABLET"&&e.img.src()?0:"inherit",fontSize:"3rem"}),Kr=e=>({justifyContent:e.state.screenSize()=="TABLET"&&!e.img.src()?"center":"flex-start"}),Vr=e=>({cursor:e?"not-allowed":"pointer"}),Wr=e=>{const n=document.createElement("canvas"),a=n.getContext("2d"),o=new Image;o.src=e.img.src(),o.onload=()=>{e.blocks.forEach(({coords:f},h)=>{const p=e.img.coords.left-f.left,g=e.img.coords.top-f.top,w=h%4*f.width,d=Math.floor(h/4)*f.height;a.drawImage(o,p,g,f.width,f.height,w,d,f.width,f.height);const I=n.toDataURL(),M=document.createElement("a");M.href=I,M.download="image.png",M.click()});const c=document.createElement("a");c.href=e.img.src(),c.download="image.png",c.click()}},Jr=""+new URL("photo-scramble-logo.fa6de4a3.png",import.meta.url).href,Qr=""+new URL("logo-loader.2f4fdfa8.gif",import.meta.url).href,Ut={view:({attrs:{mdl:e}})=>v(".row ",e.img.src()&&v("button.btn",{onclick:()=>Ir(e)},"New Image"),e.state.status()=="SELECT_SQR"&&v("button.btn",{onclick:()=>{e.state.level(null),e.state.status("SELECT_LEVEL")}},"Change Level"),e.state.status()=="READY"&&v(".row",v("button.btn",{onclick:()=>Nr(e)},"Restart"),v("button.btn",{onclick:()=>e.state.help.open?e.state.help.closeModal():e.state.help.showModal()},"Help")))},Yr=()=>({oncreate:({dom:e,attrs:{mdl:n,block:a}})=>{const o=n.blocks.find(f=>f.id==a.id),c=e.getBoundingClientRect();a.coords=c,o.coords=c,a.dom=e,o.dom=e,Ft(n,a,e),v.redraw()},view:({attrs:{mdl:e,block:n}})=>v(".block",{["data-coords"]:JSON.stringify(n.coords),id:n.id,disabled:e.state.status()=="COMPLETED",class:qr(e,n),onclick:kr(e,n),draggable:Hr(e,n),style:{border:Br(e,n)}})}),Gr={view:({attrs:{mdl:e,label:n,id:a,action:o,isDisabled:c}})=>v("label.row",{style:{width:"100%",justifyContent:"space-between",lineHeight:"3rem"}},v("code",n),v("label.switchContainer",v(`input.switch#${a}`,{disabled:c(e),type:"checkbox",onchange:()=>o(e)}),v(".slider.round",{style:Vr(c(e))})))},Zr=()=>({oncreate:({attrs:{mdl:e},dom:n})=>e.state.help=n,view:({attrs:{mdl:e}})=>v("dialog#dialog",{onclick:n=>{n.target.id=="dialog"&&e.state.help.close()},open:!1},v("form.col",e.help.toggles.map(({label:n,id:a,action:o,isDisabled:c})=>v(Gr,{mdl:e,label:n,id:a,action:o,isDisabled:c})),v("button.btn",{onclick:n=>{n.preventDefault(),Wr(e)}},"Share")))}),Xr=()=>({onupdate:({attrs:{mdl:e}})=>{if(e.state.status()=="SELECT_SQR")return e.originals=JSON.stringify(e.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:e}})=>v(".grid#map",e.blocks.map(n=>v(Yr,{mdl:e,block:n})))}),en={view:({attrs:{mdl:e}})=>v("img#img",{onload:({target:n})=>{e.img.width(n.width),e.img.height(n.height),e.img.coords=n.getBoundingClientRect(),Rr(e,n)},src:e.img.src(),style:{width:"var(--size)",height:"var(--size)",zIndex:e.img.display()?1e3:0,opacity:e.state.showHiddenImage()?0:e.img.display()?1:.2}})},tn={view:({attrs:{mdl:e}})=>v("fieldset.col",v("legend.text",v("code","Select a level")),v(".row",Object.keys(e.state.levels).map(n=>v("button.btn",{style:{border:"2px solid var(--hilight)"},onclick:()=>Or(e,n)},n))))},rn={view:({attrs:{mdl:e}})=>v("fieldset.col.point",v("legend.text",v("code.text",v("label",{for:"upload"},"Upload an Image."))),v("input.btn",{style:{width:"80lvw",top:"250px"},name:"upload",onchange:n=>kt(e)(n).then(()=>e.state.status("SELECT_LEVEL")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},nn={view:({attrs:{mdl:e}})=>v("section#header.col",{style:Ur(e)},v("code#title.text.row",{style:$r(e)},"PHOTO",v("img#logo-still",{src:Jr}),"SCRAMBLE!"),e.img.src()&&v(".row",e.state.status()=="SELECT_LEVEL"&&v(tn,{mdl:e}),e.state.status()=="SELECT_SQR"&&v("code.text","Next, select a boring square on the grid to hide")),e.swap.history.length>0&&v("section.col#user-info",v("code.text",`Moves Made: ${e.state.userMoves()}`),e.state.hintUsed()>0&&v("code.text",{style:{color:"var(--hint)"}},`Moves With Hint: ${e.state.hintUsed()}`),v("code.text",`Perfect Score Is: ${e.state.levels[e.state.level()].count-1}`)),e.state.screenSize()=="TABLET"&&v(Ut,{mdl:e}))},an=e=>(br(e),{view:()=>v("#app",{style:jr(e),class:Dr(e)},v(nn,{mdl:e}),e.img.src()?v("section.col#image-viewer",v("#viewer.row",e.state.status()!=="COMPLETED"&&v(Xr,{mdl:e}),v(en,{mdl:e})),e.state.screenSize()!=="TABLET"&&v(Ut,{mdl:e})):v("section.col",{style:Kr(e)},v("#logo-anim",v("img",{src:Qr})),v("#input-anim",v(rn,{mdl:e}))),v(Zr,{mdl:e}))});v.mount(document.body,an(Mr()));
