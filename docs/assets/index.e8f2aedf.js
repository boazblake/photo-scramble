var kt=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports);var Lr=kt((zr,Pe)=>{const Ft=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const o of h.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerpolicy&&(h.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?h.credentials="include":s.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(s){if(s.ep)return;s.ep=!0;const h=a(s);fetch(s.href,h)}};Ft();var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe,ut;function pe(){if(ut)return Fe;ut=1;function r(n,a,l,s,h,o){return{tag:n,key:a,attrs:l,children:s,text:h,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return r.normalize=function(n){return Array.isArray(n)?r("[",void 0,void 0,r.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:r("#",void 0,void 0,String(n),void 0,void 0)},r.normalizeChildren=function(n){var a=[];if(n.length){for(var l=n[0]!=null&&n[0].key!=null,s=1;s<n.length;s++)if((n[s]!=null&&n[s].key!=null)!==l)throw new TypeError(l&&(n[s]!=null||typeof n[s]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var s=0;s<n.length;s++)a[s]=r.normalize(n[s])}return a},Fe=r,Fe}var Dt=pe(),Mt=function(){var r=arguments[this],n=this+1,a;if(r==null?r={}:(typeof r!="object"||r.tag!=null||Array.isArray(r))&&(r={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Dt("",r.key,r,a)},Oe={}.hasOwnProperty,$t=pe(),_t=Mt,be=Oe,Ut=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Tt={};function ft(r){for(var n in r)if(be.call(r,n))return!1;return!0}function Ht(r){for(var n,a="div",l=[],s={};n=Ut.exec(r);){var h=n[1],o=n[2];if(h===""&&o!=="")a=o;else if(h==="#")s.id=o;else if(h===".")l.push(o);else if(n[3][0]==="["){var g=n[6];g&&(g=g.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?l.push(g):s[n[4]]=g===""?g:g||!0}}return l.length>0&&(s.className=l.join(" ")),Tt[r]={tag:a,attrs:s}}function Kt(r,n){var a=n.attrs,l=be.call(a,"class"),s=l?a.class:a.className;if(n.tag=r.tag,n.attrs={},!ft(r.attrs)&&!ft(a)){var h={};for(var o in a)be.call(a,o)&&(h[o]=a[o]);a=h}for(var o in r.attrs)be.call(r.attrs,o)&&o!=="className"&&!be.call(a,o)&&(a[o]=r.attrs[o]);(s!=null||r.attrs.className!=null)&&(a.className=s!=null?r.attrs.className!=null?String(r.attrs.className)+" "+String(s):s:r.attrs.className!=null?r.attrs.className:null),l&&(a.class=null);for(var o in a)if(be.call(a,o)&&o!=="key"){n.attrs=a;break}return n}function Vt(r){if(r==null||typeof r!="string"&&typeof r!="function"&&typeof r.view!="function")throw Error("The selector must be either a string or a component.");var n=_t.apply(1,arguments);return typeof r=="string"&&(n.children=$t.normalizeChildren(n.children),r!=="[")?Kt(Tt[r]||Ht(r),n):(n.tag=r,n)}var Et=Vt,Jt=pe(),Wt=function(r){return r==null&&(r=""),Jt("<",void 0,void 0,r,void 0,void 0)},Zt=pe(),Qt=Mt,Xt=function(){var r=Qt.apply(0,arguments);return r.tag="[",r.children=Zt.normalizeChildren(r.children),r},tt=Et;tt.trust=Wt;tt.fragment=Xt;var Yt=tt,Ee={exports:{}},De,lt;function Pt(){if(lt)return De;lt=1;var r=function(n){if(!(this instanceof r))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,l=[],s=[],h=w(l,!0),o=w(s,!1),g=a._instance={resolvers:l,rejectors:s},m=typeof setImmediate=="function"?setImmediate:setTimeout;function w(N,T){return function R(O){var x;try{if(T&&O!=null&&(typeof O=="object"||typeof O=="function")&&typeof(x=O.then)=="function"){if(O===a)throw new TypeError("Promise can't be resolved with itself.");d(x.bind(O))}else m(function(){!T&&N.length===0&&console.error("Possible unhandled promise rejection:",O);for(var S=0;S<N.length;S++)N[S](O);l.length=0,s.length=0,g.state=T,g.retry=function(){R(O)}})}catch(S){o(S)}}}function d(N){var T=0;function R(x){return function(S){T++>0||x(S)}}var O=R(o);try{N(R(h),O)}catch(x){O(x)}}d(n)};return r.prototype.then=function(n,a){var l=this,s=l._instance;function h(w,d,N,T){d.push(function(R){if(typeof w!="function")N(R);else try{o(w(R))}catch(O){g&&g(O)}}),typeof s.retry=="function"&&T===s.state&&s.retry()}var o,g,m=new r(function(w,d){o=w,g=d});return h(n,s.resolvers,o,!0),h(a,s.rejectors,g,!1),m},r.prototype.catch=function(n){return this.then(null,n)},r.prototype.finally=function(n){return this.then(function(a){return r.resolve(n()).then(function(){return a})},function(a){return r.resolve(n()).then(function(){return r.reject(a)})})},r.resolve=function(n){return n instanceof r?n:new r(function(a){a(n)})},r.reject=function(n){return new r(function(a,l){l(n)})},r.all=function(n){return new r(function(a,l){var s=n.length,h=0,o=[];if(n.length===0)a([]);else for(var g=0;g<n.length;g++)(function(m){function w(d){h++,o[m]=d,h===s&&a(o)}n[m]!=null&&(typeof n[m]=="object"||typeof n[m]=="function")&&typeof n[m].then=="function"?n[m].then(w,l):w(n[m])})(g)})},r.race=function(n){return new r(function(a,l){for(var s=0;s<n.length;s++)n[s].then(a,l)})},De=r,De}var Te=Pt();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Te:window.Promise.prototype.finally||(window.Promise.prototype.finally=Te.prototype.finally),Ee.exports=window.Promise):typeof we<"u"?(typeof we.Promise>"u"?we.Promise=Te:we.Promise.prototype.finally||(we.Promise.prototype.finally=Te.prototype.finally),Ee.exports=we.Promise):Ee.exports=Te;var $e=pe(),Gt=function(r){var n=r&&r.document,a,l={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(t){return t.attrs&&t.attrs.xmlns||l[t.tag]}function h(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function o(t){var e=t.state;try{return this.apply(e,arguments)}finally{h(t,e)}}function g(){try{return n.activeElement}catch{return null}}function m(t,e,i,c,p,y,P){for(var A=i;A<c;A++){var C=e[A];C!=null&&w(t,C,p,P,y)}}function w(t,e,i,c,p){var y=e.tag;if(typeof y=="string")switch(e.state={},e.attrs!=null&&xe(e.attrs,e,i),y){case"#":d(t,e,p);break;case"<":T(t,e,c,p);break;case"[":R(t,e,i,c,p);break;default:O(t,e,i,c,p)}else S(t,e,i,c,p)}function d(t,e,i){e.dom=n.createTextNode(e.children),f(t,e.dom,i)}var N={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function T(t,e,i,c){var p=e.children.match(/^\s*?<(\w+)/im)||[],y=n.createElement(N[p[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",y=y.firstChild):y.innerHTML=e.children,e.dom=y.firstChild,e.domSize=y.childNodes.length,e.instance=[];for(var P=n.createDocumentFragment(),A;A=y.firstChild;)e.instance.push(A),P.appendChild(A);f(t,P,c)}function R(t,e,i,c,p){var y=n.createDocumentFragment();if(e.children!=null){var P=e.children;m(y,P,0,P.length,i,null,c)}e.dom=y.firstChild,e.domSize=y.childNodes.length,f(t,y,p)}function O(t,e,i,c,p){var y=e.tag,P=e.attrs,A=P&&P.is;c=s(e)||c;var C=c?A?n.createElementNS(c,y,{is:A}):n.createElementNS(c,y):A?n.createElement(y,{is:A}):n.createElement(y);if(e.dom=C,P!=null&&q(e,P,c),f(t,C,p),!u(e)&&e.children!=null){var j=e.children;m(C,j,0,j.length,i,null,c),e.tag==="select"&&P!=null&&z(e,P)}}function x(t,e){var i;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),i=t.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(t.state=void 0,i=t.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(xe(t.state,t,e),t.attrs!=null&&xe(t.attrs,t,e),t.instance=$e.normalize(o.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function S(t,e,i,c,p){x(e,i),e.instance!=null?(w(t,e.instance,i,c,p),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function F(t,e,i,c,p,y){if(!(e===i||e==null&&i==null))if(e==null||e.length===0)m(t,i,0,i.length,c,p,y);else if(i==null||i.length===0)b(t,e,0,e.length);else{var P=e[0]!=null&&e[0].key!=null,A=i[0]!=null&&i[0].key!=null,C=0,j=0;if(!P)for(;j<e.length&&e[j]==null;)j++;if(!A)for(;C<i.length&&i[C]==null;)C++;if(P!==A)b(t,e,j,e.length),m(t,i,C,i.length,c,p,y);else if(A){for(var ee=e.length-1,W=i.length-1,Re,te,K,Y,$,qe;ee>=j&&W>=C&&(Y=e[ee],$=i[W],Y.key===$.key);)Y!==$&&D(t,Y,$,c,p,y),$.dom!=null&&(p=$.dom),ee--,W--;for(;ee>=j&&W>=C&&(te=e[j],K=i[C],te.key===K.key);)j++,C++,te!==K&&D(t,te,K,c,J(e,j,p),y);for(;ee>=j&&W>=C&&!(C===W||te.key!==$.key||Y.key!==K.key);)qe=J(e,j,p),fe(t,Y,qe),Y!==K&&D(t,Y,K,c,qe,y),++C<=--W&&fe(t,te,p),te!==$&&D(t,te,$,c,p,y),$.dom!=null&&(p=$.dom),j++,ee--,Y=e[ee],$=i[W],te=e[j],K=i[C];for(;ee>=j&&W>=C&&Y.key===$.key;)Y!==$&&D(t,Y,$,c,p,y),$.dom!=null&&(p=$.dom),ee--,W--,Y=e[ee],$=i[W];if(C>W)b(t,e,j,ee+1);else if(j>ee)m(t,i,C,W+1,c,p,y);else{var Bt=p,at=W-C+1,Me=new Array(at),ze=0,H=0,je=2147483647,Be=0,Re,ke;for(H=0;H<at;H++)Me[H]=-1;for(H=W;H>=C;H--){Re==null&&(Re=Q(e,j,ee+1)),$=i[H];var de=Re[$.key];de!=null&&(je=de<je?de:-1,Me[H-C]=de,Y=e[de],e[de]=null,Y!==$&&D(t,Y,$,c,p,y),$.dom!=null&&(p=$.dom),Be++)}if(p=Bt,Be!==ee-j+1&&b(t,e,j,ee+1),Be===0)m(t,i,C,W+1,c,p,y);else if(je===-1)for(ke=le(Me),ze=ke.length-1,H=W;H>=C;H--)K=i[H],Me[H-C]===-1?w(t,K,c,y,p):ke[ze]===H-C?ze--:fe(t,K,p),K.dom!=null&&(p=i[H].dom);else for(H=W;H>=C;H--)K=i[H],Me[H-C]===-1&&w(t,K,c,y,p),K.dom!=null&&(p=i[H].dom)}}else{var Le=e.length<i.length?e.length:i.length;for(C=C<j?C:j;C<Le;C++)te=e[C],K=i[C],!(te===K||te==null&&K==null)&&(te==null?w(t,K,c,y,J(e,C+1,p)):K==null?M(t,te):D(t,te,K,c,J(e,C+1,p),y));e.length>Le&&b(t,e,C,e.length),i.length>Le&&m(t,i,C,i.length,c,p,y)}}}function D(t,e,i,c,p,y){var P=e.tag,A=i.tag;if(P===A){if(i.state=e.state,i.events=e.events,Ne(i,e))return;if(typeof P=="string")switch(i.attrs!=null&&Ce(i.attrs,i,c),P){case"#":re(e,i);break;case"<":ce(t,e,i,y,p);break;case"[":ne(t,e,i,c,p,y);break;default:V(e,i,c,y)}else G(t,e,i,c,p,y)}else M(t,e),w(t,i,c,y,p)}function re(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function ce(t,e,i,c,p){e.children!==i.children?(I(t,e),T(t,i,c,p)):(i.dom=e.dom,i.domSize=e.domSize,i.instance=e.instance)}function ne(t,e,i,c,p,y){F(t,e.children,i.children,c,p,y);var P=0,A=i.children;if(i.dom=null,A!=null){for(var C=0;C<A.length;C++){var j=A[C];j!=null&&j.dom!=null&&(i.dom==null&&(i.dom=j.dom),P+=j.domSize||1)}P!==1&&(i.domSize=P)}}function V(t,e,i,c){var p=e.dom=t.dom;c=s(e)||c,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),ue(e,t.attrs,e.attrs,c),u(e)||F(p,t.children,e.children,i,null,c)}function G(t,e,i,c,p,y){if(i.instance=$e.normalize(o.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");Ce(i.state,i,c),i.attrs!=null&&Ce(i.attrs,i,c),i.instance!=null?(e.instance==null?w(t,i.instance,c,y,p):D(t,e.instance,i.instance,c,p,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):e.instance!=null?(M(t,e.instance),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function Q(t,e,i){for(var c=Object.create(null);e<i;e++){var p=t[e];if(p!=null){var y=p.key;y!=null&&(c[y]=e)}}return c}var ie=[];function le(t){for(var e=[0],i=0,c=0,p=0,y=ie.length=t.length,p=0;p<y;p++)ie[p]=t[p];for(var p=0;p<y;++p)if(t[p]!==-1){var P=e[e.length-1];if(t[P]<t[p]){ie[p]=P,e.push(p);continue}for(i=0,c=e.length-1;i<c;){var A=(i>>>1)+(c>>>1)+(i&c&1);t[e[A]]<t[p]?i=A+1:c=A}t[p]<t[e[i]]&&(i>0&&(ie[p]=e[i-1]),e[i]=p)}for(i=e.length,c=e[i-1];i-- >0;)e[i]=c,c=ie[c];return ie.length=0,e}function J(t,e,i){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return i}function fe(t,e,i){var c=n.createDocumentFragment();U(t,c,e),f(t,c,i)}function U(t,e,i){for(;i.dom!=null&&i.dom.parentNode===t;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var c=0;c<i.instance.length;c++)e.appendChild(i.instance[c]);else if(i.tag!=="[")e.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var c=0;c<i.children.length;c++){var p=i.children[c];p!=null&&U(t,e,p)}break}}function f(t,e,i){i!=null?t.insertBefore(e,i):t.appendChild(e)}function u(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var i=e[0].children;t.dom.innerHTML!==i&&(t.dom.innerHTML=i)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function b(t,e,i,c){for(var p=i;p<c;p++){var y=e[p];y!=null&&M(t,y)}}function M(t,e){var i=0,c=e.state,p,y;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var P=o.call(e.state.onbeforeremove,e);P!=null&&typeof P.then=="function"&&(i=1,p=P)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var P=o.call(e.attrs.onbeforeremove,e);P!=null&&typeof P.then=="function"&&(i|=2,y=P)}if(h(e,c),!i)E(e),v(t,e);else{if(p!=null){var A=function(){i&1&&(i&=2,i||C())};p.then(A,A)}if(y!=null){var A=function(){i&2&&(i&=1,i||C())};y.then(A,A)}}function C(){h(e,c),E(e),v(t,e)}}function I(t,e){for(var i=0;i<e.instance.length;i++)t.removeChild(e.instance[i])}function v(t,e){for(;e.dom!=null&&e.dom.parentNode===t;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")I(t,e);else{if(e.tag!=="["&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var i=0;i<e.children.length;i++){var c=e.children[i];c!=null&&v(t,c)}}break}}function E(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&o.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&o.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&E(t.instance);else{var e=t.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var c=e[i];c!=null&&E(c)}}}function q(t,e,i){t.tag==="input"&&e.type!=null&&t.dom.setAttribute("type",e.type);var c=e!=null&&t.tag==="input"&&e.type==="file";for(var p in e)B(t,p,null,e[p],i,c)}function B(t,e,i,c,p,y){if(!(e==="key"||e==="is"||c==null||k(e)||i===c&&!ae(t,e)&&typeof c!="object"||e==="type"&&t.tag==="input")){if(e[0]==="o"&&e[1]==="n")return Ie(t,e,c);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),c);else if(e==="style")me(t.dom,i,c);else if(ye(t,e,p)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+c&&(y||t.dom===g())||t.tag==="select"&&i!==null&&t.dom.value===""+c||t.tag==="option"&&i!==null&&t.dom.value===""+c)return;if(y&&""+c!=""){console.error("`value` is read-only on file inputs!");return}}t.dom[e]=c}else typeof c=="boolean"?c?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,c)}}function X(t,e,i,c){if(!(e==="key"||e==="is"||i==null||k(e)))if(e[0]==="o"&&e[1]==="n")Ie(t,e,void 0);else if(e==="style")me(t.dom,i,null);else if(ye(t,e,c)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===g()))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var p=e.indexOf(":");p!==-1&&(e=e.slice(p+1)),i!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function z(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var i=""+e.value;(t.dom.value!==i||t.dom.selectedIndex===-1)&&(t.dom.value=i)}"selectedIndex"in e&&B(t,"selectedIndex",null,e.selectedIndex,void 0)}function ue(t,e,i,c){if(e&&e===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){t.tag==="input"&&i.type!=null&&t.dom.setAttribute("type",i.type);var p=t.tag==="input"&&i.type==="file";for(var y in i)B(t,y,e&&e[y],i[y],c,p)}var P;if(e!=null)for(var y in e)(P=e[y])!=null&&(i==null||i[y]==null)&&X(t,y,P,c)}function ae(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&t.dom===g()||t.tag==="option"&&t.dom.parentNode===n.activeElement}function k(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function ye(t,e,i){return i===void 0&&(t.tag.indexOf("-")>-1||t.attrs!=null&&t.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}var ve=/[A-Z]/g;function oe(t){return"-"+t.toLowerCase()}function he(t){return t[0]==="-"&&t[1]==="-"?t:t==="cssFloat"?"float":t.replace(ve,oe)}function me(t,e,i){if(e!==i)if(i==null)t.style.cssText="";else if(typeof i!="object")t.style.cssText=i;else if(e==null||typeof e!="object"){t.style.cssText="";for(var c in i){var p=i[c];p!=null&&t.style.setProperty(he(c),String(p))}}else{for(var c in i){var p=i[c];p!=null&&(p=String(p))!==String(e[c])&&t.style.setProperty(he(c),p)}for(var c in e)e[c]!=null&&i[c]==null&&t.style.removeProperty(he(c))}}function se(){this._=a}se.prototype=Object.create(null),se.prototype.handleEvent=function(t){var e=this["on"+t.type],i;typeof e=="function"?i=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t),this._&&t.redraw!==!1&&(0,this._)(),i===!1&&(t.preventDefault(),t.stopPropagation())};function Ie(t,e,i){if(t.events!=null){if(t.events._=a,t.events[e]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=i):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(t.events=new se,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=i)}function xe(t,e,i){typeof t.oninit=="function"&&o.call(t.oninit,e),typeof t.oncreate=="function"&&i.push(o.bind(t.oncreate,e))}function Ce(t,e,i){typeof t.onupdate=="function"&&i.push(o.bind(t.onupdate,e))}function Ne(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var i=o.call(t.attrs.onbeforeupdate,t,e);if(i!==void 0&&!i)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var i=o.call(t.state.onbeforeupdate,t,e);if(i!==void 0&&!i)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var ge;return function(t,e,i){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(ge!=null&&t.contains(ge))throw new TypeError("Node is currently being rendered to and thus is locked.");var c=a,p=ge,y=[],P=g(),A=t.namespaceURI;ge=t,a=typeof i=="function"?i:void 0;try{t.vnodes==null&&(t.textContent=""),e=$e.normalizeChildren(Array.isArray(e)?e:[e]),F(t,t.vnodes,e,y,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),t.vnodes=e,P!=null&&g()!==P&&typeof P.focus=="function"&&P.focus();for(var C=0;C<y.length;C++)y[C]()}finally{a=c,ge=p}}},It=Gt(typeof window<"u"?window:null),st=pe(),er=function(r,n,a){var l=[],s=!1,h=-1;function o(){for(h=0;h<l.length;h+=2)try{r(l[h],st(l[h+1]),g)}catch(w){a.error(w)}h=-1}function g(){s||(s=!0,n(function(){s=!1,o()}))}g.sync=o;function m(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var N=l.indexOf(w);N>=0&&(l.splice(N,2),N<=h&&(h-=2),r(w,[])),d!=null&&(l.push(w,d),r(w,st(d),g))}return{mount:m,redraw:g}},tr=It,rt=er(tr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),_e,ct;function Nt(){return ct||(ct=1,_e=function(r){if(Object.prototype.toString.call(r)!=="[object Object]")return"";var n=[];for(var a in r)l(a,r[a]);return n.join("&");function l(s,h){if(Array.isArray(h))for(var o=0;o<h.length;o++)l(s+"["+o+"]",h[o]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var o in h)l(s+"["+o+"]",h[o]);else n.push(encodeURIComponent(s)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}),_e}var Ue,ot;function Rt(){if(ot)return Ue;ot=1;var r=Oe;return Ue=Object.assign||function(n,a){for(var l in a)r.call(a,l)&&(n[l]=a[l])},Ue}var He,ht;function nt(){if(ht)return He;ht=1;var r=Nt(),n=Rt();return He=function(a,l){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(l==null)return a;var s=a.indexOf("?"),h=a.indexOf("#"),o=h<0?a.length:h,g=s<0?o:s,m=a.slice(0,g),w={};n(w,l);var d=m.replace(/:([^\/\.-]+)(\.{3})?/g,function(F,D,re){return delete w[D],l[D]==null?F:re?l[D]:encodeURIComponent(String(l[D]))}),N=d.indexOf("?"),T=d.indexOf("#"),R=T<0?d.length:T,O=N<0?R:N,x=d.slice(0,O);s>=0&&(x+=a.slice(s,o)),N>=0&&(x+=(s<0?"?":"&")+d.slice(N,R));var S=r(w);return S&&(x+=(s<0&&N<0?"?":"&")+S),h>=0&&(x+=a.slice(h)),T>=0&&(x+=(h<0?"":"&")+d.slice(T)),x},He}var rr=nt(),pt=Oe,nr=function(r,n,a){var l=0;function s(g){return new n(g)}s.prototype=n.prototype,s.__proto__=n;function h(g){return function(m,w){typeof m!="string"?(w=m,m=m.url):w==null&&(w={});var d=new n(function(O,x){g(rr(m,w.params),w,function(S){if(typeof w.type=="function")if(Array.isArray(S))for(var F=0;F<S.length;F++)S[F]=new w.type(S[F]);else S=new w.type(S);O(S)},x)});if(w.background===!0)return d;var N=0;function T(){--N===0&&typeof a=="function"&&a()}return R(d);function R(O){var x=O.then;return O.constructor=s,O.then=function(){N++;var S=x.apply(O,arguments);return S.then(T,function(F){if(T(),N===0)throw F}),R(S)},O}}}function o(g,m){for(var w in g.headers)if(pt.call(g.headers,w)&&w.toLowerCase()===m)return!0;return!1}return{request:h(function(g,m,w,d){var N=m.method!=null?m.method.toUpperCase():"GET",T=m.body,R=(m.serialize==null||m.serialize===JSON.serialize)&&!(T instanceof r.FormData||T instanceof r.URLSearchParams),O=m.responseType||(typeof m.extract=="function"?"":"json"),x=new r.XMLHttpRequest,S=!1,F=!1,D=x,re,ce=x.abort;x.abort=function(){S=!0,ce.call(this)},x.open(N,g,m.async!==!1,typeof m.user=="string"?m.user:void 0,typeof m.password=="string"?m.password:void 0),R&&T!=null&&!o(m,"content-type")&&x.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof m.deserialize!="function"&&!o(m,"accept")&&x.setRequestHeader("Accept","application/json, text/*"),m.withCredentials&&(x.withCredentials=m.withCredentials),m.timeout&&(x.timeout=m.timeout),x.responseType=O;for(var ne in m.headers)pt.call(m.headers,ne)&&x.setRequestHeader(ne,m.headers[ne]);x.onreadystatechange=function(V){if(!S&&V.target.readyState===4)try{var G=V.target.status>=200&&V.target.status<300||V.target.status===304||/^file:\/\//i.test(g),Q=V.target.response,ie;if(O==="json"){if(!V.target.responseType&&typeof m.extract!="function")try{Q=JSON.parse(V.target.responseText)}catch{Q=null}}else(!O||O==="text")&&Q==null&&(Q=V.target.responseText);if(typeof m.extract=="function"?(Q=m.extract(V.target,m),G=!0):typeof m.deserialize=="function"&&(Q=m.deserialize(Q)),G)w(Q);else{var le=function(){try{ie=V.target.responseText}catch{ie=Q}var J=new Error(ie);J.code=V.target.status,J.response=Q,d(J)};x.status===0?setTimeout(function(){F||le()}):le()}}catch(J){d(J)}},x.ontimeout=function(V){F=!0;var G=new Error("Request timed out");G.code=V.target.status,d(G)},typeof m.config=="function"&&(x=m.config(x,m,g)||x,x!==D&&(re=x.abort,x.abort=function(){S=!0,re.call(this)})),T==null?x.send():typeof m.serialize=="function"?x.send(m.serialize(T)):T instanceof r.FormData||T instanceof r.URLSearchParams?x.send(T):x.send(JSON.stringify(T))}),jsonp:h(function(g,m,w,d){var N=m.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+l++,T=r.document.createElement("script");r[N]=function(R){delete r[N],T.parentNode.removeChild(T),w(R)},T.onerror=function(){delete r[N],T.parentNode.removeChild(T),d(new Error("JSONP request failed"))},T.src=g+(g.indexOf("?")<0?"?":"&")+encodeURIComponent(m.callbackKey||"callback")+"="+encodeURIComponent(N),r.document.documentElement.appendChild(T)})}},ir=Ee.exports,ar=rt,ur=nr(typeof window<"u"?window:null,ir,ar.redraw),Ke,mt;function Ot(){if(mt)return Ke;mt=1;function r(n){try{return decodeURIComponent(n)}catch{return n}}return Ke=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),l={},s={},h=0;h<a.length;h++){var o=a[h].split("="),g=r(o[0]),m=o.length===2?r(o[1]):"";m==="true"?m=!0:m==="false"&&(m=!1);var w=g.split(/\]\[?|\[/),d=s;g.indexOf("[")>-1&&w.pop();for(var N=0;N<w.length;N++){var T=w[N],R=w[N+1],O=R==""||!isNaN(parseInt(R,10));if(T===""){var g=w.slice(0,N).join();l[g]==null&&(l[g]=Array.isArray(d)?d.length:0),T=l[g]++}else if(T==="__proto__")break;if(N===w.length-1)d[T]=m;else{var x=Object.getOwnPropertyDescriptor(d,T);x!=null&&(x=x.value),x==null&&(d[T]=x=O?[]:{}),d=x}}}return s},Ke}var Ve,gt;function it(){if(gt)return Ve;gt=1;var r=Ot();return Ve=function(n){var a=n.indexOf("?"),l=n.indexOf("#"),s=l<0?n.length:l,h=a<0?s:a,o=n.slice(0,h).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:a<0?{}:r(n.slice(a+1,s))}},Ve}var Je,yt;function fr(){if(yt)return Je;yt=1;var r=it();return Je=function(n){var a=r(n),l=Object.keys(a.params),s=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,g,m){return g==null?"\\"+o:(s.push({k:g,r:m==="..."}),m==="..."?"(.*)":m==="."?"([^/]+)\\.":"([^/]+)"+(m||""))})+"$");return function(o){for(var g=0;g<l.length;g++)if(a.params[l[g]]!==o.params[l[g]])return!1;if(!s.length)return h.test(o.path);var m=h.exec(o.path);if(m==null)return!1;for(var g=0;g<s.length;g++)o.params[s[g].k]=s[g].r?m[g+1]:decodeURIComponent(m[g+1]);return!0}},Je}var We,dt;function St(){if(dt)return We;dt=1;var r=Oe,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return We=function(a,l){var s={};if(l!=null)for(var h in a)r.call(a,h)&&!n.test(h)&&l.indexOf(h)<0&&(s[h]=a[h]);else for(var h in a)r.call(a,h)&&!n.test(h)&&(s[h]=a[h]);return s},We}var Ze,wt;function lr(){if(wt)return Ze;wt=1;var r=pe(),n=Et,a=Ee.exports,l=nt(),s=it(),h=fr(),o=Rt(),g=St(),m={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Ze=function(d,N){var T=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,R=a.resolve(),O=!1,x=!1,S=0,F,D,re=m,ce,ne,V,G,Q={onbeforeupdate:function(){return S=S?2:1,!(!S||m===re)},onremove:function(){d.removeEventListener("popstate",J,!1),d.removeEventListener("hashchange",le,!1)},view:function(){if(!(!S||m===re)){var f=[r(ce,ne.key,ne)];return re&&(f=re.render(f[0])),f}}},ie=U.SKIP={};function le(){O=!1;var f=d.location.hash;U.prefix[0]!=="#"&&(f=d.location.search+f,U.prefix[0]!=="?"&&(f=d.location.pathname+f,f[0]!=="/"&&(f="/"+f)));var u=f.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice(U.prefix.length),b=s(u);o(b.params,d.history.state);function M(v){console.error(v),fe(D,null,{replace:!0})}I(0);function I(v){for(;v<F.length;v++)if(F[v].check(b)){var E=F[v].component,q=F[v].route,B=E,X=G=function(z){if(X===G){if(z===ie)return I(v+1);ce=z!=null&&(typeof z.view=="function"||typeof z=="function")?z:"div",ne=b.params,V=u,G=null,re=E.render?E:null,S===2?N.redraw():(S=2,N.redraw.sync())}};E.view||typeof E=="function"?(E={},X(B)):E.onmatch?R.then(function(){return E.onmatch(b.params,u,q)}).then(X,u===D?null:M):X("div");return}if(u===D)throw new Error("Could not resolve default route "+D+".");fe(D,null,{replace:!0})}}function J(){O||(O=!0,T(le))}function fe(f,u,b){if(f=l(f,u),x){J();var M=b?b.state:null,I=b?b.title:null;b&&b.replace?d.history.replaceState(M,I,U.prefix+f):d.history.pushState(M,I,U.prefix+f)}else d.location.href=U.prefix+f}function U(f,u,b){if(!f)throw new TypeError("DOM element being rendered to does not exist.");if(F=Object.keys(b).map(function(I){if(I[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(I))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:I,component:b[I],check:h(I)}}),D=u,u!=null){var M=s(u);if(!F.some(function(I){return I.check(M)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",J,!1):U.prefix[0]==="#"&&d.addEventListener("hashchange",le,!1),x=!0,N.mount(f,Q),le()}return U.set=function(f,u,b){G!=null&&(b=b||{},b.replace=!0),G=null,fe(f,u,b)},U.get=function(){return V},U.prefix="#!",U.Link={view:function(f){var u=n(f.attrs.selector||"a",g(f.attrs,["options","params","selector","onclick"]),f.children),b,M,I;return(u.attrs.disabled=Boolean(u.attrs.disabled))?(u.attrs.href=null,u.attrs["aria-disabled"]="true"):(b=f.attrs.options,M=f.attrs.onclick,I=l(u.attrs.href,f.attrs.params),u.attrs.href=U.prefix+I,u.attrs.onclick=function(v){var E;typeof M=="function"?E=M.call(v.currentTarget,v):M==null||typeof M!="object"||typeof M.handleEvent=="function"&&M.handleEvent(v),E!==!1&&!v.defaultPrevented&&(v.button===0||v.which===0||v.which===1)&&(!v.currentTarget.target||v.currentTarget.target==="_self")&&!v.ctrlKey&&!v.metaKey&&!v.shiftKey&&!v.altKey&&(v.preventDefault(),v.redraw=!1,U.set(I,null,b))}),u}},U.param=function(f){return ne&&f!=null?ne[f]:ne},U},Ze}var Qe,bt;function sr(){if(bt)return Qe;bt=1;var r=rt;return Qe=lr()(typeof window<"u"?window:null,r),Qe}var Se=Yt,At=ur,Lt=rt,Z=function(){return Se.apply(this,arguments)};Z.m=Se;Z.trust=Se.trust;Z.fragment=Se.fragment;Z.Fragment="[";Z.mount=Lt.mount;Z.route=sr();Z.render=It;Z.redraw=Lt.redraw;Z.request=At.request;Z.jsonp=At.jsonp;Z.parseQueryString=Ot();Z.buildQueryString=Nt();Z.parsePathname=it();Z.buildPathname=nt();Z.vnode=pe();Z.PromisePolyfill=Pt();Z.censor=St();var _=Z;L.SKIP={};L.lift=hr;L.scan=cr;L.merge=qt;L.combine=Ae;L.scanMerge=or;L["fantasy-land/of"]=L;var vt=!1;Object.defineProperty(L,"HALT",{get:function(){return vt||console.log("HALT is deprecated and has been renamed to SKIP"),vt=!0,L.SKIP}});function L(r){var n=[],a=[];function l(o){return arguments.length&&o!==L.SKIP&&(r=o,xt(l)&&(l.changing(),l.state="active",n.forEach(function(g,m){g(a[m](r))}))),r}l.constructor=L,l.state=arguments.length&&r!==L.SKIP?"active":"pending",l.parents=[],l.changing=function(){xt(l)&&(l.state="changing"),n.forEach(function(o){o.changing()})},l.map=function(o,g){var m=l.state==="active"&&g!==L.SKIP?L(o(r)):L();return m.parents.push(l),n.push(m),a.push(o),m};var s;function h(){return s=L(),s.map(function(o){return o===!0&&(l.parents.forEach(function(g){g.unregisterChild(l)}),l.state="ended",l.parents.length=n.length=a.length=0),o}),s}return l.toJSON=function(){return r!=null&&typeof r.toJSON=="function"?r.toJSON():r},l["fantasy-land/map"]=l.map,l["fantasy-land/ap"]=function(o){return Ae(function(g,m){return g()(m())},[o,l])},l.unregisterChild=function(o){var g=n.indexOf(o);g!==-1&&(n.splice(g,1),a.splice(g,1))},Object.defineProperty(l,"end",{get:function(){return s||h()}}),l}function Ae(r,n){var a=n.every(function(g){if(g.constructor!==L)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return g.state==="active"}),l=a?L(r.apply(null,n.concat([n]))):L(),s=[],h=n.map(function(g){return g.map(function(m){return s.push(g),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,l(r.apply(null,n.concat([s]))),s=[]),m},L.SKIP)}),o=l.end.map(function(g){g===!0&&(h.forEach(function(m){m.end(!0)}),o.end(!0))});return l}function qt(r){return Ae(function(){return r.map(function(n){return n()})},r)}function cr(r,n,a){var l=a.map(function(s){var h=r(n,s);return h!==L.SKIP&&(n=h),h});return l(n),l}function or(r,n){var a=r.map(function(s){return s[0]}),l=Ae(function(){var s=arguments[arguments.length-1];return a.forEach(function(h,o){s.indexOf(h)>-1&&(n=r[o][1](n,h()))}),n},a);return l(n),l}function hr(){var r=arguments[0],n=Array.prototype.slice.call(arguments,1);return qt(n).map(function(a){return r.apply(void 0,a)})}function xt(r){return r.state==="pending"||r.state==="active"||r.state==="changing"}var Pe={};(function r(n,a,l,s){var h=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function o(){}function g(f){var u=a.exports.Promise,b=u!==void 0?u:n.Promise;return typeof b=="function"?new b(f):(f(o,o),null)}var m=function(){var f=Math.floor(16.666666666666668),u,b,M={},I=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function(v){var E=Math.random();return M[E]=requestAnimationFrame(function q(B){I===B||I+f-1<B?(I=B,delete M[E],v()):M[E]=requestAnimationFrame(q)}),E},b=function(v){M[v]&&cancelAnimationFrame(M[v])}):(u=function(v){return setTimeout(v,f)},b=function(v){return clearTimeout(v)}),{frame:u,cancel:b}}(),w=function(){var f,u,b={};function M(I){function v(E,q){I.postMessage({options:E||{},callback:q})}I.init=function(q){var B=q.transferControlToOffscreen();I.postMessage({canvas:B},[B])},I.fire=function(q,B,X){if(u)return v(q,null),u;var z=Math.random().toString(36).slice(2);return u=g(function(ue){function ae(k){k.data.callback===z&&(delete b[z],I.removeEventListener("message",ae),u=null,X(),ue())}I.addEventListener("message",ae),v(q,z),b[z]=ae.bind(null,{data:{callback:z}})}),u},I.reset=function(){I.postMessage({reset:!0});for(var q in b)b[q](),delete b[q]}}return function(){if(f)return f;if(!l&&h){var I=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{f=new Worker(URL.createObjectURL(new Blob([I])))}catch(v){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",v),null}M(f)}return f}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(f,u){return u?u(f):f}function T(f){return f!=null}function R(f,u,b){return N(f&&T(f[u])?f[u]:d[u],b)}function O(f){return f<0?0:Math.floor(f)}function x(f,u){return Math.floor(Math.random()*(u-f))+f}function S(f){return parseInt(f,16)}function F(f){return f.map(D)}function D(f){var u=String(f).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:S(u.substring(0,2)),g:S(u.substring(2,4)),b:S(u.substring(4,6))}}function re(f){var u=R(f,"origin",Object);return u.x=R(u,"x",Number),u.y=R(u,"y",Number),u}function ce(f){f.width=document.documentElement.clientWidth,f.height=document.documentElement.clientHeight}function ne(f){var u=f.getBoundingClientRect();f.width=u.width,f.height=u.height}function V(f){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=f,u}function G(f,u,b,M,I,v,E,q,B){f.save(),f.translate(u,b),f.rotate(v),f.scale(M,I),f.arc(0,0,1,E,q,B),f.restore()}function Q(f){var u=f.angle*(Math.PI/180),b=f.spread*(Math.PI/180);return{x:f.x,y:f.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:f.startVelocity*.5+Math.random()*f.startVelocity,angle2D:-u+(.5*b-Math.random()*b),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:f.color,shape:f.shape,tick:0,totalTicks:f.ticks,decay:f.decay,drift:f.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:f.gravity*3,ovalScalar:.6,scalar:f.scalar}}function ie(f,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.wobble+=u.wobbleSpeed,u.velocity*=u.decay,u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble);var b=u.tick++/u.totalTicks,M=u.x+u.random*u.tiltCos,I=u.y+u.random*u.tiltSin,v=u.wobbleX+u.random*u.tiltCos,E=u.wobbleY+u.random*u.tiltSin;if(f.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-b)+")",f.beginPath(),u.shape==="circle")f.ellipse?f.ellipse(u.x,u.y,Math.abs(v-M)*u.ovalScalar,Math.abs(E-I)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):G(f,u.x,u.y,Math.abs(v-M)*u.ovalScalar,Math.abs(E-I)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var q=Math.PI/2*3,B=4*u.scalar,X=8*u.scalar,z=u.x,ue=u.y,ae=5,k=Math.PI/ae;ae--;)z=u.x+Math.cos(q)*X,ue=u.y+Math.sin(q)*X,f.lineTo(z,ue),q+=k,z=u.x+Math.cos(q)*B,ue=u.y+Math.sin(q)*B,f.lineTo(z,ue),q+=k;else f.moveTo(Math.floor(u.x),Math.floor(u.y)),f.lineTo(Math.floor(u.wobbleX),Math.floor(I)),f.lineTo(Math.floor(v),Math.floor(E)),f.lineTo(Math.floor(M),Math.floor(u.wobbleY));return f.closePath(),f.fill(),u.tick<u.totalTicks}function le(f,u,b,M,I){var v=u.slice(),E=f.getContext("2d"),q,B,X=g(function(z){function ue(){q=B=null,E.clearRect(0,0,M.width,M.height),I(),z()}function ae(){l&&!(M.width===s.width&&M.height===s.height)&&(M.width=f.width=s.width,M.height=f.height=s.height),!M.width&&!M.height&&(b(f),M.width=f.width,M.height=f.height),E.clearRect(0,0,M.width,M.height),v=v.filter(function(k){return ie(E,k)}),v.length?q=m.frame(ae):ue()}q=m.frame(ae),B=ue});return{addFettis:function(z){return v=v.concat(z),X},canvas:f,promise:X,reset:function(){q&&m.cancel(q),B&&B()}}}function J(f,u){var b=!f,M=!!R(u||{},"resize"),I=R(u,"disableForReducedMotion",Boolean),v=h&&!!R(u||{},"useWorker"),E=v?w():null,q=b?ce:ne,B=f&&E?!!f.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function ue(k,ye,ve){for(var oe=R(k,"particleCount",O),he=R(k,"angle",Number),me=R(k,"spread",Number),se=R(k,"startVelocity",Number),Ie=R(k,"decay",Number),xe=R(k,"gravity",Number),Ce=R(k,"drift",Number),Ne=R(k,"colors",F),ge=R(k,"ticks",Number),t=R(k,"shapes"),e=R(k,"scalar"),i=re(k),c=oe,p=[],y=f.width*i.x,P=f.height*i.y;c--;)p.push(Q({x:y,y:P,angle:he,spread:me,startVelocity:se,color:Ne[c%Ne.length],shape:t[x(0,t.length)],ticks:ge,decay:Ie,gravity:xe,drift:Ce,scalar:e}));return z?z.addFettis(p):(z=le(f,p,q,ye,ve),z.promise)}function ae(k){var ye=I||R(k,"disableForReducedMotion",Boolean),ve=R(k,"zIndex",Number);if(ye&&X)return g(function(se){se()});b&&z?f=z.canvas:b&&!f&&(f=V(ve),document.body.appendChild(f)),M&&!B&&q(f);var oe={width:f.width,height:f.height};E&&!B&&E.init(f),B=!0,E&&(f.__confetti_initialized=!0);function he(){if(E){var se={getBoundingClientRect:function(){if(!b)return f.getBoundingClientRect()}};q(se),E.postMessage({resize:{width:se.width,height:se.height}});return}oe.width=oe.height=null}function me(){z=null,M&&n.removeEventListener("resize",he),b&&f&&(document.body.removeChild(f),f=null,B=!1)}return M&&n.addEventListener("resize",he,!1),E?E.fire(k,oe,me):ue(k,oe,me)}return ae.reset=function(){E&&E.reset(),z&&z.reset()},ae}var fe;function U(){return fe||(fe=J(null,{useWorker:!0,resize:!0})),fe}a.exports=function(){return U().apply(this,arguments)},a.exports.reset=function(){U().reset()},a.exports.create=J})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Pe,!1);const Ct=Pe.exports;Pe.exports.create;const pr=()=>({cell:{size:L(0)},blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[]},state:{status:L("select"),hiddenBlock:L(null),direction:L("horizontal"),size:L(0),levels:{Easy:{count:10,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:L(null)},img:{search:L(null),src:L(null),srcs:L(null),width:L(0),height:L(0),zIndex:L(0),display:L(!0)}}),mr=r=>(r.blocks=[],r.img.src(null),r.img.search(null),r.img.width(0),r.img.height(0),r.img.zIndex(0),r.img.display(!0),r.state.hiddenBlock(null),r.state.direction("horizontal"),r.state.level(null),r.swap.isDragging=!1,r.swap.src={coords:null,idx:null,id:null,dom:null,img:null},r.swap.target={coords:null,idx:null,id:null,dom:null,img:null},r.swap.swapBlockIds=[],r.swap.history=[],r.cell.size(0),r),gr=[100,101],yr=(r,n)=>{const a=r.offsetTop,l=r.offsetLeft,s=n.offsetTop,h=n.offsetLeft,o=a-s,g=l-h;return Math.sqrt(o*o+g*g)},dr=()=>"xxxxxxxx".replace(/[xy]/g,r=>{let n=Math.random()*16|0;return(r=="x"?n:n&3|8).toString(16)}),wr=(r,n)=>({img:r,idx:n,id:dr(),coords:{}}),br=(r,n)=>{const a=Array.from(n.parentNode.children),l=a.find(h=>h.id==r);l.style.backgroundImage="";const s=h=>gr.includes(yr(l,h));return a.filter(s).map(h=>h.id)},vr=(r,n)=>{const a=n.width,l=n.height,s=Math.ceil(a/16),h=[];for(let g=0;g<a;g+=s){const m=document.createElement("canvas"),w=m.getContext("2d");m.width=s,m.height=l,w.drawImage(n,g,0,s,l,0,0,s,l),h.push(m.toDataURL())}const o=h.map(wr);r.blocks=structuredClone(o),r.img.display(!1)},xr=(r,n)=>{r.state.level(n),r.state.status("select square")},Cr=r=>({target:{files:n}})=>(r.file=n[0],Promise.resolve(r.img.src(URL.createObjectURL(r.file)))),Mr=r=>{const n=JSON.parse(r.originals).map(l=>JSON.stringify(l.coords)),a=r.blocks.map(l=>JSON.stringify(l.coords));return n.map((l,s)=>l==a[s]).reduce((l,s)=>s?l:l+1,0)},Xe=(r,n)=>({target:a})=>(r.swap.history.push(n),r.state.hiddenBlock(n),r.swap.swapBlockIds=br(n,a),r.state.status()=="ready"&&Mr(r)==0&&(r.state.status("completed"),r.img.display(!0),Er()),r),Ye=(r,n)=>r.swap.swapBlockIds.includes(n.id),Ge=(r,n)=>n.id==r.state.hiddenBlock(),Tr=(r,n)=>r.swap.isDragging?Ge(r,n):Ye(r,n)||Ge(r,n),zt=(r,n)=>{if(!r.swap.swapBlockIds.includes(n.id))return;const a=r.state.hiddenBlock(),l=r.blocks.find(o=>o.id==a),s=l.dom,h=l.coords;l.coords=n.coords,jt(r,n,s),r.swap.dragging=!1,n.coords=h,Xe(r,n.id)({target:n.dom})},jt=(r,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(r.img.src())})`,a.style.backgroundSize=`${r.img.width()}px ${r.img.height()}px`,a.style.backgroundPosition=`${r.img.coords.left-n.coords.left}px ${r.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},et=(r,n,a)=>({target:l})=>{if(a>=r.state.levels[r.state.level()].count)return r.state.status("ready"),r;if(a==0)return Xe(r,n.id)({target:l}),et(r,n,a+1)({target:l});if(a>0){Xe(r,n.id)({target:l});const s=r.swap.swapBlockIds[Math.floor(Math.random()*r.swap.swapBlockIds.length)],h=r.blocks.find(g=>g.id==s),o=n.dom;return zt(r,h),et(r,h,a+1)({target:o})}},Er=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function l(h,o){return Math.random()*(o-h)+h}const s=setInterval(function(){const h=n-Date.now();if(h<=0)return clearInterval(s);const o=50*(h/15e3);Ct(Object.assign({},a,{particleCount:o,origin:{x:l(.1,.3),y:Math.random()-.2}})),Ct(Object.assign({},a,{particleCount:o,origin:{x:l(.7,.9),y:Math.random()-.2}}))},250)},Pr=r=>r.swap.history.length-r.state.levels[r.state.level()].subtract,Ir={view:({attrs:{mdl:r}})=>_(".col ",_("code.text",{style:{fontSize:"3rem"}},"PHOTO SCRAMBLE"),r.img.src()&&_("button.btn",{onclick:()=>mr(r)},"New"))},Nr=()=>({oncreate:({dom:r,attrs:{mdl:n,block:a}})=>{const l=n.blocks.find(h=>h.id==a.id),s=r.getBoundingClientRect();a.coords=s,l.coords=s,a.dom=r,l.dom=r,jt(n,a,r)},view:({attrs:{mdl:r,block:n}})=>_(".block",{id:n.id,disabled:r.state.status()=="completed",class:Ge(r,n)?"isSwapBlock hiddenBlock":Ye(r,n)?"point isSwapBlock":r.state.status()=="select square"&&"point",onclick:r.state.hiddenBlock()?()=>zt(r,n):r.state.level()&&r.state.status()!=="completed"&&et(r,n,0),draggable:Tr(r,n),style:{border:r.state.status()=="select square"||Ye(r,n)&&r.state.status()!=="completed"?"2px solid var(--hilight)":""}})}),Rr=()=>({onupdate:({attrs:{mdl:r}})=>{if(r.state.status()=="select square")return r.originals=JSON.stringify(r.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:r}})=>_(".grid#map",r.blocks.map((n,a)=>_(Nr,{idx:a,mdl:r,block:n})))}),Or={view:({attrs:{mdl:r}})=>_("img#img",{onload:({target:n})=>{r.img.width(n.width),r.img.height(n.height),r.img.coords=n.getBoundingClientRect(),vr(r,n)},src:r.img.src(),style:{opacity:r.img.display()?1:.1}})},Sr={view:({attrs:{mdl:r}})=>_("label.col.point",_("code.text",{for:"upload"},"Upload an Image."),_("input.btn",{name:"upload",onchange:n=>Cr(r)(n).then(()=>r.state.status("select level")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},Ar=r=>({view:()=>_("#app.col",_(Ir,{mdl:r}),r.swap.history.length?_("pre.text",`Moves: ${Pr(r)}`):r.img.src()&&r.state.status()=="select level"&&_(".col",_("code.text","Select a level"),_(".row",Object.keys(r.state.levels).map(n=>_("button.btn",{onclick:()=>xr(r,n)},n)))),r.img.src()&&r.state.status()=="select square"&&[_("button.btn",{onclick:()=>{r.state.level(null),r.state.status("select level")}},"change level"),_("code.text","Select a boring square to hide")],r.img.src()?_("#viewer.row",[r.state.status()!=="completed"&&_(Rr,{mdl:r})],_(Or,{mdl:r})):_(Sr,{mdl:r}))});_.mount(document.body,Ar(pr()))});export default Lr();
