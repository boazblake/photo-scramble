const Ft=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const l of h.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerpolicy&&(h.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?h.credentials="include":o.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(o){if(o.ep)return;o.ep=!0;const h=a(o);fetch(o.href,h)}};Ft();var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,at;function pe(){if(at)return je;at=1;function e(n,a,c,o,h,l){return{tag:n,key:a,attrs:c,children:o,text:h,dom:l,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return e.normalize=function(n){return Array.isArray(n)?e("[",void 0,void 0,e.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:e("#",void 0,void 0,String(n),void 0,void 0)},e.normalizeChildren=function(n){var a=[];if(n.length){for(var c=n[0]!=null&&n[0].key!=null,o=1;o<n.length;o++)if((n[o]!=null&&n[o].key!=null)!==c)throw new TypeError(c&&(n[o]!=null||typeof n[o]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var o=0;o<n.length;o++)a[o]=e.normalize(n[o])}return a},je=e,je}var _t=pe(),Tt=function(){var e=arguments[this],n=this+1,a;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return _t("",e.key,e,a)},Pe={}.hasOwnProperty,Ut=pe(),$t=Tt,ve=Pe,Kt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ct={};function st(e){for(var n in e)if(ve.call(e,n))return!1;return!0}function Vt(e){for(var n,a="div",c=[],o={};n=Kt.exec(e);){var h=n[1],l=n[2];if(h===""&&l!=="")a=l;else if(h==="#")o.id=l;else if(h===".")c.push(l);else if(n[3][0]==="["){var m=n[6];m&&(m=m.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?c.push(m):o[n[4]]=m===""?m:m||!0}}return c.length>0&&(o.className=c.join(" ")),Ct[e]={tag:a,attrs:o}}function Wt(e,n){var a=n.attrs,c=ve.call(a,"class"),o=c?a.class:a.className;if(n.tag=e.tag,n.attrs={},!st(e.attrs)&&!st(a)){var h={};for(var l in a)ve.call(a,l)&&(h[l]=a[l]);a=h}for(var l in e.attrs)ve.call(e.attrs,l)&&l!=="className"&&!ve.call(a,l)&&(a[l]=e.attrs[l]);(o!=null||e.attrs.className!=null)&&(a.className=o!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(o):o:e.attrs.className!=null?e.attrs.className:null),c&&(a.class=null);for(var l in a)if(ve.call(a,l)&&l!=="key"){n.attrs=a;break}return n}function Jt(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var n=$t.apply(1,arguments);return typeof e=="string"&&(n.children=Ut.normalizeChildren(n.children),e!=="[")?Wt(Ct[e]||Vt(e),n):(n.tag=e,n)}var xt=Jt,Qt=pe(),Yt=function(e){return e==null&&(e=""),Qt("<",void 0,void 0,e,void 0,void 0)},Gt=pe(),Zt=Tt,Xt=function(){var e=Zt.apply(0,arguments);return e.tag="[",e.children=Gt.normalizeChildren(e.children),e},Ze=xt;Ze.trust=Yt;Ze.fragment=Xt;var er=Ze,Me={exports:{}},De,ot;function Mt(){if(ot)return De;ot=1;var e=function(n){if(!(this instanceof e))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,c=[],o=[],h=w(c,!0),l=w(o,!1),m=a._instance={resolvers:c,rejectors:o},p=typeof setImmediate=="function"?setImmediate:setTimeout;function w(P,M){return function O(N){var E;try{if(M&&N!=null&&(typeof N=="object"||typeof N=="function")&&typeof(E=N.then)=="function"){if(N===a)throw new TypeError("Promise can't be resolved with itself.");d(E.bind(N))}else p(function(){!M&&P.length===0&&console.error("Possible unhandled promise rejection:",N);for(var A=0;A<P.length;A++)P[A](N);c.length=0,o.length=0,m.state=M,m.retry=function(){O(N)}})}catch(A){l(A)}}}function d(P){var M=0;function O(E){return function(A){M++>0||E(A)}}var N=O(l);try{P(O(h),N)}catch(E){N(E)}}d(n)};return e.prototype.then=function(n,a){var c=this,o=c._instance;function h(w,d,P,M){d.push(function(O){if(typeof w!="function")P(O);else try{l(w(O))}catch(N){m&&m(N)}}),typeof o.retry=="function"&&M===o.state&&o.retry()}var l,m,p=new e(function(w,d){l=w,m=d});return h(n,o.resolvers,l,!0),h(a,o.rejectors,m,!1),p},e.prototype.catch=function(n){return this.then(null,n)},e.prototype.finally=function(n){return this.then(function(a){return e.resolve(n()).then(function(){return a})},function(a){return e.resolve(n()).then(function(){return e.reject(a)})})},e.resolve=function(n){return n instanceof e?n:new e(function(a){a(n)})},e.reject=function(n){return new e(function(a,c){c(n)})},e.all=function(n){return new e(function(a,c){var o=n.length,h=0,l=[];if(n.length===0)a([]);else for(var m=0;m<n.length;m++)(function(p){function w(d){h++,l[p]=d,h===o&&a(l)}n[p]!=null&&(typeof n[p]=="object"||typeof n[p]=="function")&&typeof n[p].then=="function"?n[p].then(w,c):w(n[p])})(m)})},e.race=function(n){return new e(function(a,c){for(var o=0;o<n.length;o++)n[o].then(a,c)})},De=e,De}var xe=Mt();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=xe:window.Promise.prototype.finally||(window.Promise.prototype.finally=xe.prototype.finally),Me.exports=window.Promise):typeof de<"u"?(typeof de.Promise>"u"?de.Promise=xe:de.Promise.prototype.finally||(de.Promise.prototype.finally=xe.prototype.finally),Me.exports=de.Promise):Me.exports=xe;var ke=pe(),tr=function(e){var n=e&&e.document,a,c={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(r){return r.attrs&&r.attrs.xmlns||c[r.tag]}function h(r,t){if(r.state!==t)throw new Error("'vnode.state' must not be modified.")}function l(r){var t=r.state;try{return this.apply(t,arguments)}finally{h(r,t)}}function m(){try{return n.activeElement}catch{return null}}function p(r,t,i,f,g,y,I){for(var z=i;z<f;z++){var C=t[z];C!=null&&w(r,C,g,I,y)}}function w(r,t,i,f,g){var y=t.tag;if(typeof y=="string")switch(t.state={},t.attrs!=null&&Ee(t.attrs,t,i),y){case"#":d(r,t,g);break;case"<":M(r,t,f,g);break;case"[":O(r,t,i,f,g);break;default:N(r,t,i,f,g)}else A(r,t,i,f,g)}function d(r,t,i){t.dom=n.createTextNode(t.children),u(r,t.dom,i)}var P={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function M(r,t,i,f){var g=t.children.match(/^\s*?<(\w+)/im)||[],y=n.createElement(P[g[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",y=y.firstChild):y.innerHTML=t.children,t.dom=y.firstChild,t.domSize=y.childNodes.length,t.instance=[];for(var I=n.createDocumentFragment(),z;z=y.firstChild;)t.instance.push(z),I.appendChild(z);u(r,I,f)}function O(r,t,i,f,g){var y=n.createDocumentFragment();if(t.children!=null){var I=t.children;p(y,I,0,I.length,i,null,f)}t.dom=y.firstChild,t.domSize=y.childNodes.length,u(r,y,g)}function N(r,t,i,f,g){var y=t.tag,I=t.attrs,z=I&&I.is;f=o(t)||f;var C=f?z?n.createElementNS(f,y,{is:z}):n.createElementNS(f,y):z?n.createElement(y,{is:z}):n.createElement(y);if(t.dom=C,I!=null&&H(t,I,f),u(r,C,g),!s(t)&&t.children!=null){var q=t.children;p(C,q,0,q.length,i,null,f),t.tag==="select"&&I!=null&&B(t,I)}}function E(r,t){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ee(r.state,r,t),r.attrs!=null&&Ee(r.attrs,r,t),r.instance=ke.normalize(l.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function A(r,t,i,f,g){E(t,i),t.instance!=null?(w(r,t.instance,i,f,g),t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0):t.domSize=0}function k(r,t,i,f,g,y){if(!(t===i||t==null&&i==null))if(t==null||t.length===0)p(r,i,0,i.length,f,g,y);else if(i==null||i.length===0)v(r,t,0,t.length);else{var I=t[0]!=null&&t[0].key!=null,z=i[0]!=null&&i[0].key!=null,C=0,q=0;if(!I)for(;q<t.length&&t[q]==null;)q++;if(!z)for(;C<i.length&&i[C]==null;)C++;if(I!==z)v(r,t,q,t.length),p(r,i,C,i.length,f,g,y);else if(z){for(var ee=t.length-1,J=i.length-1,Le,te,K,Z,_,Ae;ee>=q&&J>=C&&(Z=t[ee],_=i[J],Z.key===_.key);)Z!==_&&F(r,Z,_,f,g,y),_.dom!=null&&(g=_.dom),ee--,J--;for(;ee>=q&&J>=C&&(te=t[q],K=i[C],te.key===K.key);)q++,C++,te!==K&&F(r,te,K,f,W(t,q,g),y);for(;ee>=q&&J>=C&&!(C===J||te.key!==_.key||Z.key!==K.key);)Ae=W(t,q,g),oe(r,Z,Ae),Z!==K&&F(r,Z,K,f,Ae,y),++C<=--J&&oe(r,te,g),te!==_&&F(r,te,_,f,g,y),_.dom!=null&&(g=_.dom),q++,ee--,Z=t[ee],_=i[J],te=t[q],K=i[C];for(;ee>=q&&J>=C&&Z.key===_.key;)Z!==_&&F(r,Z,_,f,g,y),_.dom!=null&&(g=_.dom),ee--,J--,Z=t[ee],_=i[J];if(C>J)v(r,t,q,ee+1);else if(q>ee)p(r,i,C,J+1,f,g,y);else{var kt=g,it=J-C+1,Ce=new Array(it),ze=0,$=0,He=2147483647,Be=0,Le,qe;for($=0;$<it;$++)Ce[$]=-1;for($=J;$>=C;$--){Le==null&&(Le=Y(t,q,ee+1)),_=i[$];var we=Le[_.key];we!=null&&(He=we<He?we:-1,Ce[$-C]=we,Z=t[we],t[we]=null,Z!==_&&F(r,Z,_,f,g,y),_.dom!=null&&(g=_.dom),Be++)}if(g=kt,Be!==ee-q+1&&v(r,t,q,ee+1),Be===0)p(r,i,C,J+1,f,g,y);else if(He===-1)for(qe=ce(Ce),ze=qe.length-1,$=J;$>=C;$--)K=i[$],Ce[$-C]===-1?w(r,K,f,y,g):qe[ze]===$-C?ze--:oe(r,K,g),K.dom!=null&&(g=i[$].dom);else for($=J;$>=C;$--)K=i[$],Ce[$-C]===-1&&w(r,K,f,y,g),K.dom!=null&&(g=i[$].dom)}}else{var Ne=t.length<i.length?t.length:i.length;for(C=C<q?C:q;C<Ne;C++)te=t[C],K=i[C],!(te===K||te==null&&K==null)&&(te==null?w(r,K,f,y,W(t,C+1,g)):K==null?x(r,te):F(r,te,K,f,W(t,C+1,g),y));t.length>Ne&&v(r,t,C,t.length),i.length>Ne&&p(r,i,C,i.length,f,g,y)}}}function F(r,t,i,f,g,y){var I=t.tag,z=i.tag;if(I===z){if(i.state=t.state,i.events=t.events,Ie(i,t))return;if(typeof I=="string")switch(i.attrs!=null&&Te(i.attrs,i,f),I){case"#":re(t,i);break;case"<":fe(r,t,i,y,g);break;case"[":ne(r,t,i,f,g,y);break;default:V(t,i,f,y)}else X(r,t,i,f,g,y)}else x(r,t),w(r,i,f,y,g)}function re(r,t){r.children.toString()!==t.children.toString()&&(r.dom.nodeValue=t.children),t.dom=r.dom}function fe(r,t,i,f,g){t.children!==i.children?(L(r,t),M(r,i,f,g)):(i.dom=t.dom,i.domSize=t.domSize,i.instance=t.instance)}function ne(r,t,i,f,g,y){k(r,t.children,i.children,f,g,y);var I=0,z=i.children;if(i.dom=null,z!=null){for(var C=0;C<z.length;C++){var q=z[C];q!=null&&q.dom!=null&&(i.dom==null&&(i.dom=q.dom),I+=q.domSize||1)}I!==1&&(i.domSize=I)}}function V(r,t,i,f){var g=t.dom=r.dom;f=o(t)||f,t.tag==="textarea"&&t.attrs==null&&(t.attrs={}),se(t,r.attrs,t.attrs,f),s(t)||k(g,r.children,t.children,i,null,f)}function X(r,t,i,f,g,y){if(i.instance=ke.normalize(l.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");Te(i.state,i,f),i.attrs!=null&&Te(i.attrs,i,f),i.instance!=null?(t.instance==null?w(r,i.instance,f,y,g):F(r,t.instance,i.instance,f,g,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):t.instance!=null?(x(r,t.instance),i.dom=void 0,i.domSize=0):(i.dom=t.dom,i.domSize=t.domSize)}function Y(r,t,i){for(var f=Object.create(null);t<i;t++){var g=r[t];if(g!=null){var y=g.key;y!=null&&(f[y]=t)}}return f}var ie=[];function ce(r){for(var t=[0],i=0,f=0,g=0,y=ie.length=r.length,g=0;g<y;g++)ie[g]=r[g];for(var g=0;g<y;++g)if(r[g]!==-1){var I=t[t.length-1];if(r[I]<r[g]){ie[g]=I,t.push(g);continue}for(i=0,f=t.length-1;i<f;){var z=(i>>>1)+(f>>>1)+(i&f&1);r[t[z]]<r[g]?i=z+1:f=z}r[g]<r[t[i]]&&(i>0&&(ie[g]=t[i-1]),t[i]=g)}for(i=t.length,f=t[i-1];i-- >0;)t[i]=f,f=ie[f];return ie.length=0,t}function W(r,t,i){for(;t<r.length;t++)if(r[t]!=null&&r[t].dom!=null)return r[t].dom;return i}function oe(r,t,i){var f=n.createDocumentFragment();U(r,f,t),u(r,f,i)}function U(r,t,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var f=0;f<i.instance.length;f++)t.appendChild(i.instance[f]);else if(i.tag!=="[")t.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var f=0;f<i.children.length;f++){var g=i.children[f];g!=null&&U(r,t,g)}break}}function u(r,t,i){i!=null?r.insertBefore(t,i):r.appendChild(t)}function s(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var t=r.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var i=t[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function v(r,t,i,f){for(var g=i;g<f;g++){var y=t[g];y!=null&&x(r,y)}}function x(r,t){var i=0,f=t.state,g,y;if(typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"){var I=l.call(t.state.onbeforeremove,t);I!=null&&typeof I.then=="function"&&(i=1,g=I)}if(t.attrs&&typeof t.attrs.onbeforeremove=="function"){var I=l.call(t.attrs.onbeforeremove,t);I!=null&&typeof I.then=="function"&&(i|=2,y=I)}if(h(t,f),!i)S(t),b(r,t);else{if(g!=null){var z=function(){i&1&&(i&=2,i||C())};g.then(z,z)}if(y!=null){var z=function(){i&2&&(i&=1,i||C())};y.then(z,z)}}function C(){h(t,f),S(t),b(r,t)}}function L(r,t){for(var i=0;i<t.instance.length;i++)r.removeChild(t.instance[i])}function b(r,t){for(;t.dom!=null&&t.dom.parentNode===r;){if(typeof t.tag!="string"){if(t=t.instance,t!=null)continue}else if(t.tag==="<")L(r,t);else{if(t.tag!=="["&&(r.removeChild(t.dom),!Array.isArray(t.children)))break;if(t.children.length===1){if(t=t.children[0],t!=null)continue}else for(var i=0;i<t.children.length;i++){var f=t.children[i];f!=null&&b(r,f)}}break}}function S(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&l.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&l.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&S(r.instance);else{var t=r.children;if(Array.isArray(t))for(var i=0;i<t.length;i++){var f=t[i];f!=null&&S(f)}}}function H(r,t,i){r.tag==="input"&&t.type!=null&&r.dom.setAttribute("type",t.type);var f=t!=null&&r.tag==="input"&&t.type==="file";for(var g in t)j(r,g,null,t[g],i,f)}function j(r,t,i,f,g,y){if(!(t==="key"||t==="is"||f==null||D(t)||i===f&&!ae(r,t)&&typeof f!="object"||t==="type"&&r.tag==="input")){if(t[0]==="o"&&t[1]==="n")return Se(r,t,f);if(t.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),f);else if(t==="style")ge(r.dom,i,f);else if(ye(r,t,g)){if(t==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+f&&(y||r.dom===m())||r.tag==="select"&&i!==null&&r.dom.value===""+f||r.tag==="option"&&i!==null&&r.dom.value===""+f)return;if(y&&""+f!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[t]=f}else typeof f=="boolean"?f?r.dom.setAttribute(t,""):r.dom.removeAttribute(t):r.dom.setAttribute(t==="className"?"class":t,f)}}function G(r,t,i,f){if(!(t==="key"||t==="is"||i==null||D(t)))if(t[0]==="o"&&t[1]==="n")Se(r,t,void 0);else if(t==="style")ge(r.dom,i,null);else if(ye(r,t,f)&&t!=="className"&&t!=="title"&&!(t==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===m()))&&!(r.tag==="input"&&t==="type"))r.dom[t]=null;else{var g=t.indexOf(":");g!==-1&&(t=t.slice(g+1)),i!==!1&&r.dom.removeAttribute(t==="className"?"class":t)}}function B(r,t){if("value"in t)if(t.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+t.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in t&&j(r,"selectedIndex",null,t.selectedIndex,void 0)}function se(r,t,i,f){if(t&&t===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var g=r.tag==="input"&&i.type==="file";for(var y in i)j(r,y,t&&t[y],i[y],f,g)}var I;if(t!=null)for(var y in t)(I=t[y])!=null&&(i==null||i[y]==null)&&G(r,y,I,f)}function ae(r,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&r.dom===m()||r.tag==="option"&&r.dom.parentNode===n.activeElement}function D(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,t,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in r.dom}var be=/[A-Z]/g;function le(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(be,le)}function ge(r,t,i){if(t!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(t==null||typeof t!="object"){r.style.cssText="";for(var f in i){var g=i[f];g!=null&&r.style.setProperty(he(f),String(g))}}else{for(var f in i){var g=i[f];g!=null&&(g=String(g))!==String(t[f])&&r.style.setProperty(he(f),g)}for(var f in t)t[f]!=null&&i[f]==null&&r.style.removeProperty(he(f))}}function ue(){this._=a}ue.prototype=Object.create(null),ue.prototype.handleEvent=function(r){var t=this["on"+r.type],i;typeof t=="function"?i=t.call(r.currentTarget,r):typeof t.handleEvent=="function"&&t.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Se(r,t,i){if(r.events!=null){if(r.events._=a,r.events[t]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[t]==null&&r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i):(r.events[t]!=null&&r.dom.removeEventListener(t.slice(2),r.events,!1),r.events[t]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new ue,r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i)}function Ee(r,t,i){typeof r.oninit=="function"&&l.call(r.oninit,t),typeof r.oncreate=="function"&&i.push(l.bind(r.oncreate,t))}function Te(r,t,i){typeof r.onupdate=="function"&&i.push(l.bind(r.onupdate,t))}function Ie(r,t){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=l.call(r.attrs.onbeforeupdate,r,t);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=l.call(r.state.onbeforeupdate,r,t);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=t.dom,r.domSize=t.domSize,r.instance=t.instance,r.attrs=t.attrs,r.children=t.children,r.text=t.text,!0}var me;return function(r,t,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(me!=null&&r.contains(me))throw new TypeError("Node is currently being rendered to and thus is locked.");var f=a,g=me,y=[],I=m(),z=r.namespaceURI;me=r,a=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),t=ke.normalizeChildren(Array.isArray(t)?t:[t]),k(r,r.vnodes,t,y,null,z==="http://www.w3.org/1999/xhtml"?void 0:z),r.vnodes=t,I!=null&&m()!==I&&typeof I.focus=="function"&&I.focus();for(var C=0;C<y.length;C++)y[C]()}finally{a=f,me=g}}},St=tr(typeof window<"u"?window:null),ct=pe(),rr=function(e,n,a){var c=[],o=!1,h=-1;function l(){for(h=0;h<c.length;h+=2)try{e(c[h],ct(c[h+1]),m)}catch(w){a.error(w)}h=-1}function m(){o||(o=!0,n(function(){o=!1,l()}))}m.sync=l;function p(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var P=c.indexOf(w);P>=0&&(c.splice(P,2),P<=h&&(h-=2),e(w,[])),d!=null&&(c.push(w,d),e(w,ct(d),m))}return{mount:p,redraw:m}},nr=St,Xe=rr(nr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Fe,ut;function It(){return ut||(ut=1,Fe=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var n=[];for(var a in e)c(a,e[a]);return n.join("&");function c(o,h){if(Array.isArray(h))for(var l=0;l<h.length;l++)c(o+"["+l+"]",h[l]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var l in h)c(o+"["+l+"]",h[l]);else n.push(encodeURIComponent(o)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}),Fe}var _e,ft;function Lt(){if(ft)return _e;ft=1;var e=Pe;return _e=Object.assign||function(n,a){for(var c in a)e.call(a,c)&&(n[c]=a[c])},_e}var Ue,lt;function et(){if(lt)return Ue;lt=1;var e=It(),n=Lt();return Ue=function(a,c){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(c==null)return a;var o=a.indexOf("?"),h=a.indexOf("#"),l=h<0?a.length:h,m=o<0?l:o,p=a.slice(0,m),w={};n(w,c);var d=p.replace(/:([^\/\.-]+)(\.{3})?/g,function(k,F,re){return delete w[F],c[F]==null?k:re?c[F]:encodeURIComponent(String(c[F]))}),P=d.indexOf("?"),M=d.indexOf("#"),O=M<0?d.length:M,N=P<0?O:P,E=d.slice(0,N);o>=0&&(E+=a.slice(o,l)),P>=0&&(E+=(o<0?"?":"&")+d.slice(P,O));var A=e(w);return A&&(E+=(o<0&&P<0?"?":"&")+A),h>=0&&(E+=a.slice(h)),M>=0&&(E+=(h<0?"":"&")+d.slice(M)),E},Ue}var ir=et(),ht=Pe,ar=function(e,n,a){var c=0;function o(m){return new n(m)}o.prototype=n.prototype,o.__proto__=n;function h(m){return function(p,w){typeof p!="string"?(w=p,p=p.url):w==null&&(w={});var d=new n(function(N,E){m(ir(p,w.params),w,function(A){if(typeof w.type=="function")if(Array.isArray(A))for(var k=0;k<A.length;k++)A[k]=new w.type(A[k]);else A=new w.type(A);N(A)},E)});if(w.background===!0)return d;var P=0;function M(){--P===0&&typeof a=="function"&&a()}return O(d);function O(N){var E=N.then;return N.constructor=o,N.then=function(){P++;var A=E.apply(N,arguments);return A.then(M,function(k){if(M(),P===0)throw k}),O(A)},N}}}function l(m,p){for(var w in m.headers)if(ht.call(m.headers,w)&&w.toLowerCase()===p)return!0;return!1}return{request:h(function(m,p,w,d){var P=p.method!=null?p.method.toUpperCase():"GET",M=p.body,O=(p.serialize==null||p.serialize===JSON.serialize)&&!(M instanceof e.FormData||M instanceof e.URLSearchParams),N=p.responseType||(typeof p.extract=="function"?"":"json"),E=new e.XMLHttpRequest,A=!1,k=!1,F=E,re,fe=E.abort;E.abort=function(){A=!0,fe.call(this)},E.open(P,m,p.async!==!1,typeof p.user=="string"?p.user:void 0,typeof p.password=="string"?p.password:void 0),O&&M!=null&&!l(p,"content-type")&&E.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof p.deserialize!="function"&&!l(p,"accept")&&E.setRequestHeader("Accept","application/json, text/*"),p.withCredentials&&(E.withCredentials=p.withCredentials),p.timeout&&(E.timeout=p.timeout),E.responseType=N;for(var ne in p.headers)ht.call(p.headers,ne)&&E.setRequestHeader(ne,p.headers[ne]);E.onreadystatechange=function(V){if(!A&&V.target.readyState===4)try{var X=V.target.status>=200&&V.target.status<300||V.target.status===304||/^file:\/\//i.test(m),Y=V.target.response,ie;if(N==="json"){if(!V.target.responseType&&typeof p.extract!="function")try{Y=JSON.parse(V.target.responseText)}catch{Y=null}}else(!N||N==="text")&&Y==null&&(Y=V.target.responseText);if(typeof p.extract=="function"?(Y=p.extract(V.target,p),X=!0):typeof p.deserialize=="function"&&(Y=p.deserialize(Y)),X)w(Y);else{var ce=function(){try{ie=V.target.responseText}catch{ie=Y}var W=new Error(ie);W.code=V.target.status,W.response=Y,d(W)};E.status===0?setTimeout(function(){k||ce()}):ce()}}catch(W){d(W)}},E.ontimeout=function(V){k=!0;var X=new Error("Request timed out");X.code=V.target.status,d(X)},typeof p.config=="function"&&(E=p.config(E,p,m)||E,E!==F&&(re=E.abort,E.abort=function(){A=!0,re.call(this)})),M==null?E.send():typeof p.serialize=="function"?E.send(p.serialize(M)):M instanceof e.FormData||M instanceof e.URLSearchParams?E.send(M):E.send(JSON.stringify(M))}),jsonp:h(function(m,p,w,d){var P=p.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+c++,M=e.document.createElement("script");e[P]=function(O){delete e[P],M.parentNode.removeChild(M),w(O)},M.onerror=function(){delete e[P],M.parentNode.removeChild(M),d(new Error("JSONP request failed"))},M.src=m+(m.indexOf("?")<0?"?":"&")+encodeURIComponent(p.callbackKey||"callback")+"="+encodeURIComponent(P),e.document.documentElement.appendChild(M)})}},sr=Me.exports,or=Xe,cr=ar(typeof window<"u"?window:null,sr,or.redraw),$e,pt;function Pt(){if(pt)return $e;pt=1;function e(n){try{return decodeURIComponent(n)}catch{return n}}return $e=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),c={},o={},h=0;h<a.length;h++){var l=a[h].split("="),m=e(l[0]),p=l.length===2?e(l[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var w=m.split(/\]\[?|\[/),d=o;m.indexOf("[")>-1&&w.pop();for(var P=0;P<w.length;P++){var M=w[P],O=w[P+1],N=O==""||!isNaN(parseInt(O,10));if(M===""){var m=w.slice(0,P).join();c[m]==null&&(c[m]=Array.isArray(d)?d.length:0),M=c[m]++}else if(M==="__proto__")break;if(P===w.length-1)d[M]=p;else{var E=Object.getOwnPropertyDescriptor(d,M);E!=null&&(E=E.value),E==null&&(d[M]=E=N?[]:{}),d=E}}}return o},$e}var Ke,gt;function tt(){if(gt)return Ke;gt=1;var e=Pt();return Ke=function(n){var a=n.indexOf("?"),c=n.indexOf("#"),o=c<0?n.length:c,h=a<0?o:a,l=n.slice(0,h).replace(/\/{2,}/g,"/");return l?(l[0]!=="/"&&(l="/"+l),l.length>1&&l[l.length-1]==="/"&&(l=l.slice(0,-1))):l="/",{path:l,params:a<0?{}:e(n.slice(a+1,o))}},Ke}var Ve,mt;function ur(){if(mt)return Ve;mt=1;var e=tt();return Ve=function(n){var a=e(n),c=Object.keys(a.params),o=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(l,m,p){return m==null?"\\"+l:(o.push({k:m,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(l){for(var m=0;m<c.length;m++)if(a.params[c[m]]!==l.params[c[m]])return!1;if(!o.length)return h.test(l.path);var p=h.exec(l.path);if(p==null)return!1;for(var m=0;m<o.length;m++)l.params[o[m].k]=o[m].r?p[m+1]:decodeURIComponent(p[m+1]);return!0}},Ve}var We,yt;function Ot(){if(yt)return We;yt=1;var e=Pe,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return We=function(a,c){var o={};if(c!=null)for(var h in a)e.call(a,h)&&!n.test(h)&&c.indexOf(h)<0&&(o[h]=a[h]);else for(var h in a)e.call(a,h)&&!n.test(h)&&(o[h]=a[h]);return o},We}var Je,wt;function fr(){if(wt)return Je;wt=1;var e=pe(),n=xt,a=Me.exports,c=et(),o=tt(),h=ur(),l=Lt(),m=Ot(),p={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Je=function(d,P){var M=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,O=a.resolve(),N=!1,E=!1,A=0,k,F,re=p,fe,ne,V,X,Y={onbeforeupdate:function(){return A=A?2:1,!(!A||p===re)},onremove:function(){d.removeEventListener("popstate",W,!1),d.removeEventListener("hashchange",ce,!1)},view:function(){if(!(!A||p===re)){var u=[e(fe,ne.key,ne)];return re&&(u=re.render(u[0])),u}}},ie=U.SKIP={};function ce(){N=!1;var u=d.location.hash;U.prefix[0]!=="#"&&(u=d.location.search+u,U.prefix[0]!=="?"&&(u=d.location.pathname+u,u[0]!=="/"&&(u="/"+u)));var s=u.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice(U.prefix.length),v=o(s);l(v.params,d.history.state);function x(b){console.error(b),oe(F,null,{replace:!0})}L(0);function L(b){for(;b<k.length;b++)if(k[b].check(v)){var S=k[b].component,H=k[b].route,j=S,G=X=function(B){if(G===X){if(B===ie)return L(b+1);fe=B!=null&&(typeof B.view=="function"||typeof B=="function")?B:"div",ne=v.params,V=s,X=null,re=S.render?S:null,A===2?P.redraw():(A=2,P.redraw.sync())}};S.view||typeof S=="function"?(S={},G(j)):S.onmatch?O.then(function(){return S.onmatch(v.params,s,H)}).then(G,s===F?null:x):G("div");return}if(s===F)throw new Error("Could not resolve default route "+F+".");oe(F,null,{replace:!0})}}function W(){N||(N=!0,M(ce))}function oe(u,s,v){if(u=c(u,s),E){W();var x=v?v.state:null,L=v?v.title:null;v&&v.replace?d.history.replaceState(x,L,U.prefix+u):d.history.pushState(x,L,U.prefix+u)}else d.location.href=U.prefix+u}function U(u,s,v){if(!u)throw new TypeError("DOM element being rendered to does not exist.");if(k=Object.keys(v).map(function(L){if(L[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(L))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:L,component:v[L],check:h(L)}}),F=s,s!=null){var x=o(s);if(!k.some(function(L){return L.check(x)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",W,!1):U.prefix[0]==="#"&&d.addEventListener("hashchange",ce,!1),E=!0,P.mount(u,Y),ce()}return U.set=function(u,s,v){X!=null&&(v=v||{},v.replace=!0),X=null,oe(u,s,v)},U.get=function(){return V},U.prefix="#!",U.Link={view:function(u){var s=n(u.attrs.selector||"a",m(u.attrs,["options","params","selector","onclick"]),u.children),v,x,L;return(s.attrs.disabled=Boolean(s.attrs.disabled))?(s.attrs.href=null,s.attrs["aria-disabled"]="true"):(v=u.attrs.options,x=u.attrs.onclick,L=c(s.attrs.href,u.attrs.params),s.attrs.href=U.prefix+L,s.attrs.onclick=function(b){var S;typeof x=="function"?S=x.call(b.currentTarget,b):x==null||typeof x!="object"||typeof x.handleEvent=="function"&&x.handleEvent(b),S!==!1&&!b.defaultPrevented&&(b.button===0||b.which===0||b.which===1)&&(!b.currentTarget.target||b.currentTarget.target==="_self")&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&!b.altKey&&(b.preventDefault(),b.redraw=!1,U.set(L,null,v))}),s}},U.param=function(u){return ne&&u!=null?ne[u]:ne},U},Je}var Qe,dt;function lr(){if(dt)return Qe;dt=1;var e=Xe;return Qe=fr()(typeof window<"u"?window:null,e),Qe}var Oe=er,Rt=cr,Nt=Xe,Q=function(){return Oe.apply(this,arguments)};Q.m=Oe;Q.trust=Oe.trust;Q.fragment=Oe.fragment;Q.Fragment="[";Q.mount=Nt.mount;Q.route=lr();Q.render=St;Q.redraw=Nt.redraw;Q.request=Rt.request;Q.jsonp=Rt.jsonp;Q.parseQueryString=Pt();Q.buildQueryString=It();Q.parsePathname=tt();Q.buildPathname=et();Q.vnode=pe();Q.PromisePolyfill=Mt();Q.censor=Ot();var T=Q;R.SKIP={};R.lift=gr;R.scan=hr;R.merge=At;R.combine=Re;R.scanMerge=pr;R["fantasy-land/of"]=R;var vt=!1;Object.defineProperty(R,"HALT",{get:function(){return vt||console.log("HALT is deprecated and has been renamed to SKIP"),vt=!0,R.SKIP}});function R(e){var n=[],a=[];function c(l){return arguments.length&&l!==R.SKIP&&(e=l,bt(c)&&(c.changing(),c.state="active",n.forEach(function(m,p){m(a[p](e))}))),e}c.constructor=R,c.state=arguments.length&&e!==R.SKIP?"active":"pending",c.parents=[],c.changing=function(){bt(c)&&(c.state="changing"),n.forEach(function(l){l.changing()})},c.map=function(l,m){var p=c.state==="active"&&m!==R.SKIP?R(l(e)):R();return p.parents.push(c),n.push(p),a.push(l),p};var o;function h(){return o=R(),o.map(function(l){return l===!0&&(c.parents.forEach(function(m){m.unregisterChild(c)}),c.state="ended",c.parents.length=n.length=a.length=0),l}),o}return c.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},c["fantasy-land/map"]=c.map,c["fantasy-land/ap"]=function(l){return Re(function(m,p){return m()(p())},[l,c])},c.unregisterChild=function(l){var m=n.indexOf(l);m!==-1&&(n.splice(m,1),a.splice(m,1))},Object.defineProperty(c,"end",{get:function(){return o||h()}}),c}function Re(e,n){var a=n.every(function(m){if(m.constructor!==R)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return m.state==="active"}),c=a?R(e.apply(null,n.concat([n]))):R(),o=[],h=n.map(function(m){return m.map(function(p){return o.push(m),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,c(e.apply(null,n.concat([o]))),o=[]),p},R.SKIP)}),l=c.end.map(function(m){m===!0&&(h.forEach(function(p){p.end(!0)}),l.end(!0))});return c}function At(e){return Re(function(){return e.map(function(n){return n()})},e)}function hr(e,n,a){var c=a.map(function(o){var h=e(n,o);return h!==R.SKIP&&(n=h),h});return c(n),c}function pr(e,n){var a=e.map(function(o){return o[0]}),c=Re(function(){var o=arguments[arguments.length-1];return a.forEach(function(h,l){o.indexOf(h)>-1&&(n=e[l][1](n,h()))}),n},a);return c(n),c}function gr(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1);return At(n).map(function(a){return e.apply(void 0,a)})}function bt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}var rt={};(function e(n,a,c,o){var h=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function l(){}function m(u){var s=a.exports.Promise,v=s!==void 0?s:n.Promise;return typeof v=="function"?new v(u):(u(l,l),null)}var p=function(){var u=Math.floor(16.666666666666668),s,v,x={},L=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(s=function(b){var S=Math.random();return x[S]=requestAnimationFrame(function H(j){L===j||L+u-1<j?(L=j,delete x[S],b()):x[S]=requestAnimationFrame(H)}),S},v=function(b){x[b]&&cancelAnimationFrame(x[b])}):(s=function(b){return setTimeout(b,u)},v=function(b){return clearTimeout(b)}),{frame:s,cancel:v}}(),w=function(){var u,s,v={};function x(L){function b(S,H){L.postMessage({options:S||{},callback:H})}L.init=function(H){var j=H.transferControlToOffscreen();L.postMessage({canvas:j},[j])},L.fire=function(H,j,G){if(s)return b(H,null),s;var B=Math.random().toString(36).slice(2);return s=m(function(se){function ae(D){D.data.callback===B&&(delete v[B],L.removeEventListener("message",ae),s=null,G(),se())}L.addEventListener("message",ae),b(H,B),v[B]=ae.bind(null,{data:{callback:B}})}),s},L.reset=function(){L.postMessage({reset:!0});for(var H in v)v[H](),delete v[H]}}return function(){if(u)return u;if(!c&&h){var L=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{u=new Worker(URL.createObjectURL(new Blob([L])))}catch(b){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",b),null}x(u)}return u}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function P(u,s){return s?s(u):u}function M(u){return u!=null}function O(u,s,v){return P(u&&M(u[s])?u[s]:d[s],v)}function N(u){return u<0?0:Math.floor(u)}function E(u,s){return Math.floor(Math.random()*(s-u))+u}function A(u){return parseInt(u,16)}function k(u){return u.map(F)}function F(u){var s=String(u).replace(/[^0-9a-f]/gi,"");return s.length<6&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:A(s.substring(0,2)),g:A(s.substring(2,4)),b:A(s.substring(4,6))}}function re(u){var s=O(u,"origin",Object);return s.x=O(s,"x",Number),s.y=O(s,"y",Number),s}function fe(u){u.width=document.documentElement.clientWidth,u.height=document.documentElement.clientHeight}function ne(u){var s=u.getBoundingClientRect();u.width=s.width,u.height=s.height}function V(u){var s=document.createElement("canvas");return s.style.position="fixed",s.style.top="0px",s.style.left="0px",s.style.pointerEvents="none",s.style.zIndex=u,s}function X(u,s,v,x,L,b,S,H,j){u.save(),u.translate(s,v),u.rotate(b),u.scale(x,L),u.arc(0,0,1,S,H,j),u.restore()}function Y(u){var s=u.angle*(Math.PI/180),v=u.spread*(Math.PI/180);return{x:u.x,y:u.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:u.startVelocity*.5+Math.random()*u.startVelocity,angle2D:-s+(.5*v-Math.random()*v),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:u.color,shape:u.shape,tick:0,totalTicks:u.ticks,decay:u.decay,drift:u.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:u.gravity*3,ovalScalar:.6,scalar:u.scalar}}function ie(u,s){s.x+=Math.cos(s.angle2D)*s.velocity+s.drift,s.y+=Math.sin(s.angle2D)*s.velocity+s.gravity,s.wobble+=s.wobbleSpeed,s.velocity*=s.decay,s.tiltAngle+=.1,s.tiltSin=Math.sin(s.tiltAngle),s.tiltCos=Math.cos(s.tiltAngle),s.random=Math.random()+2,s.wobbleX=s.x+10*s.scalar*Math.cos(s.wobble),s.wobbleY=s.y+10*s.scalar*Math.sin(s.wobble);var v=s.tick++/s.totalTicks,x=s.x+s.random*s.tiltCos,L=s.y+s.random*s.tiltSin,b=s.wobbleX+s.random*s.tiltCos,S=s.wobbleY+s.random*s.tiltSin;if(u.fillStyle="rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+(1-v)+")",u.beginPath(),s.shape==="circle")u.ellipse?u.ellipse(s.x,s.y,Math.abs(b-x)*s.ovalScalar,Math.abs(S-L)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI):X(u,s.x,s.y,Math.abs(b-x)*s.ovalScalar,Math.abs(S-L)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI);else if(s.shape==="star")for(var H=Math.PI/2*3,j=4*s.scalar,G=8*s.scalar,B=s.x,se=s.y,ae=5,D=Math.PI/ae;ae--;)B=s.x+Math.cos(H)*G,se=s.y+Math.sin(H)*G,u.lineTo(B,se),H+=D,B=s.x+Math.cos(H)*j,se=s.y+Math.sin(H)*j,u.lineTo(B,se),H+=D;else u.moveTo(Math.floor(s.x),Math.floor(s.y)),u.lineTo(Math.floor(s.wobbleX),Math.floor(L)),u.lineTo(Math.floor(b),Math.floor(S)),u.lineTo(Math.floor(x),Math.floor(s.wobbleY));return u.closePath(),u.fill(),s.tick<s.totalTicks}function ce(u,s,v,x,L){var b=s.slice(),S=u.getContext("2d"),H,j,G=m(function(B){function se(){H=j=null,S.clearRect(0,0,x.width,x.height),L(),B()}function ae(){c&&!(x.width===o.width&&x.height===o.height)&&(x.width=u.width=o.width,x.height=u.height=o.height),!x.width&&!x.height&&(v(u),x.width=u.width,x.height=u.height),S.clearRect(0,0,x.width,x.height),b=b.filter(function(D){return ie(S,D)}),b.length?H=p.frame(ae):se()}H=p.frame(ae),j=se});return{addFettis:function(B){return b=b.concat(B),G},canvas:u,promise:G,reset:function(){H&&p.cancel(H),j&&j()}}}function W(u,s){var v=!u,x=!!O(s||{},"resize"),L=O(s,"disableForReducedMotion",Boolean),b=h&&!!O(s||{},"useWorker"),S=b?w():null,H=v?fe:ne,j=u&&S?!!u.__confetti_initialized:!1,G=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,B;function se(D,ye,be){for(var le=O(D,"particleCount",N),he=O(D,"angle",Number),ge=O(D,"spread",Number),ue=O(D,"startVelocity",Number),Se=O(D,"decay",Number),Ee=O(D,"gravity",Number),Te=O(D,"drift",Number),Ie=O(D,"colors",k),me=O(D,"ticks",Number),r=O(D,"shapes"),t=O(D,"scalar"),i=re(D),f=le,g=[],y=u.width*i.x,I=u.height*i.y;f--;)g.push(Y({x:y,y:I,angle:he,spread:ge,startVelocity:ue,color:Ie[f%Ie.length],shape:r[E(0,r.length)],ticks:me,decay:Se,gravity:Ee,drift:Te,scalar:t}));return B?B.addFettis(g):(B=ce(u,g,H,ye,be),B.promise)}function ae(D){var ye=L||O(D,"disableForReducedMotion",Boolean),be=O(D,"zIndex",Number);if(ye&&G)return m(function(ue){ue()});v&&B?u=B.canvas:v&&!u&&(u=V(be),document.body.appendChild(u)),x&&!j&&H(u);var le={width:u.width,height:u.height};S&&!j&&S.init(u),j=!0,S&&(u.__confetti_initialized=!0);function he(){if(S){var ue={getBoundingClientRect:function(){if(!v)return u.getBoundingClientRect()}};H(ue),S.postMessage({resize:{width:ue.width,height:ue.height}});return}le.width=le.height=null}function ge(){B=null,x&&n.removeEventListener("resize",he),v&&u&&(document.body.removeChild(u),u=null,j=!1)}return x&&n.addEventListener("resize",he,!1),S?S.fire(D,le,ge):se(D,le,ge)}return ae.reset=function(){S&&S.reset(),B&&B.reset()},ae}var oe;function U(){return oe||(oe=W(null,{useWorker:!0,resize:!0})),oe}a.exports=function(){return U().apply(this,arguments)},a.exports.reset=function(){U().reset()},a.exports.create=W})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),rt,!1);const Et=rt.exports;rt.exports.create;window.log=e=>n=>(console.log(e,n),n);const mr=e=>{let n=window.innerWidth;const a=o=>o<668?"PHONE":o<920?"TABLET":"DESKTOP",c=o=>{const h=window.innerWidth;if(o!==h){o=h;let l=e.state.screenSize();e.state.screenSize(a(h)),l!=e.state.screenSize()&&T.redraw()}return requestAnimationFrame(c)};e.state.screenSize(a(n)),c(n)},yr=e=>mr(e),wr=e=>e[Math.floor(Math.random()*e.length)],dr=(e,n)=>{const a=e.offsetTop,c=e.offsetLeft,o=n.offsetTop,h=n.offsetLeft,l=a-o,m=c-h;return Math.sqrt(l*l+m*m)},vr=()=>"xxxxxxxx".replace(/[xy]/g,e=>{let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)}),br=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function c(h,l){return Math.random()*(l-h)+h}const o=setInterval(function(){const h=n-Date.now();if(h<=0)return clearInterval(o);const l=50*(h/15e3);Et(Object.assign({},a,{particleCount:l,origin:{x:c(.1,.3),y:Math.random()-.2}})),Et(Object.assign({},a,{particleCount:l,origin:{x:c(.7,.9),y:Math.random()-.2}}))},250)},Er=()=>({chunks:[],blocks:[],originals:[],help:{toggles:[{isDisabled:e=>e.state.showHint()||e.state.showOriginalImage(),id:"showHint",label:"Show Hint",action:e=>e.state.showHint(!e.state.showHint())},{isDisabled:e=>e.state.showHiddenImage()&&e.state.showHint(),id:"originalimage",label:"Show Original Image",action:e=>{e.img.display(!e.img.display()),e.state.showOriginalImage(!e.state.showOriginalImage())}}]},swap:{isDragging:!1,swapBlockIds:[],history:[],path:[]},state:{showHelp:R(!1),screenSize:R("PHONE"),showOriginalImage:R(!1),showHiddenImage:R(!1),showHint:R(!1),hintUsed:R(0),userMoves:R(0),status:R("SELECT_IMG"),hiddenBlock:R(null),direction:R("horizontal"),size:R(0),levels:{Easy:{count:25,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:R(null)},img:{src:R(null),srcs:R(null),width:R(0),height:R(0),zIndex:R(0),display:R(!0)}}),Tr=[100,101],Cr=e=>(e.blocks=[],e.img.src(null),e.img.width(0),e.img.height(0),e.img.zIndex(0),e.img.display(!0),e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.showHint(!1),e.state.showOriginalImage(!1),e.state.showHiddenImage(!1),e.state.showHelp(!1),e.state.hintUsed(0),e.state.level(null),e.state.userMoves(0),e.state.status("SELECT_IMG"),e.swap.isDragging=!1,e.swap.src={coords:null,idx:null,id:null,dom:null,img:null},e.swap.target={coords:null,idx:null,id:null,dom:null,img:null},e.swap.swapBlockIds=[],e.swap.history=[],e.swap.path=[],e),xr=(e,n)=>({img:e,idx:n,id:vr(),coords:{}}),Mr=(e,n)=>{const a=Array.from(n.parentNode.children),c=a.find(h=>h.id==e);c.style.backgroundImage="";const o=h=>Tr.includes(dr(c,h));return a.filter(o).map(h=>h.id)},Sr=(e,n)=>{const a=n.width,c=n.height,o=Math.ceil(a/16),h=[];for(let m=0;m<a;m+=o){const p=document.createElement("canvas"),w=p.getContext("2d");p.width=o,p.height=c,w.drawImage(n,m,0,o,c,0,0,o,c),w.clip(),h.push(p.toDataURL()),e.chunks.push(p)}const l=h.map(xr);e.blocks=structuredClone(l),e.img.display(!1)},Ir=(e,n)=>{e.state.level(n),e.state.status("SELECT_SQR")},zt=e=>({target:{files:n}})=>(e.file=n[0],Promise.resolve(e.img.src(URL.createObjectURL(e.file)))),Lr=e=>{e.swap.history=[],e.swap.path=[],e.swap.swapBlockIds=[],e.swap.history=[],e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.level(null),e.state.showHint(!1),e.state.showOriginalImage(!1),e.state.showHiddenImage(!1),e.state.showHelp(!1),e.state.hintUsed(0),e.state.userMoves(0),e.blocks=[],e.originals=[],e.img.display(!0),zt(e)({target:{files:[e.file]}}).then(()=>e.state.status("SELECT_LEVEL"))},Pr=e=>{const n=JSON.parse(e.originals).map(c=>JSON.stringify(c.coords)),a=e.blocks.map(c=>JSON.stringify(c.coords));return n.map((c,o)=>c==a[o]).reduce((c,o)=>o?c:c+1,0)},Ht=(e,n,a)=>({target:c})=>(a&&e.swap.history.slice(-2)[0]==n?e.swap.history.pop():e.swap.history.push(n),a&&e.state.userMoves(e.state.userMoves()+1),e.state.hiddenBlock(n),e.swap.swapBlockIds=Mr(n,c),e.state.status()=="READY"&&Pr(e)==0&&(e.state.status("COMPLETED"),e.img.display(!0),br()),e),nt=(e,n)=>e.swap.swapBlockIds.includes(n.id),Ge=(e,n)=>n.id==e.state.hiddenBlock(),Or=(e,n)=>e.swap.history.slice(-2)[0]==n.id,Rr=(e,n)=>e.swap.isDragging?Ge(e,n):nt(e,n)||Ge(e,n),Bt=(e,n,a)=>{if(!e.swap.swapBlockIds.includes(n.id))return;e.state.showHint()&&e.state.hintUsed(e.state.hintUsed()+1);let c=document.getElementById("showHint");c&&(c.checked=!1,e.state.showHint(!1));const o=e.state.hiddenBlock(),h=e.blocks.find(p=>p.id==o),l=h.dom,m=h.coords;h.coords=n.coords,qt(e,n,l),e.swap.dragging=!1,n.coords=m,Ht(e,n.id,a)({target:n.dom})},qt=(e,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(e.img.src())})`,a.style.backgroundSize=`${e.img.width()}px ${e.img.height()}px`,a.style.backgroundPosition=`${e.img.coords.left-n.coords.left}px ${e.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},Ye=(e,n,a,c)=>setTimeout(()=>{jt(e,n,a)({target:c}),T.redraw()},10),jt=(e,n,a)=>({target:c})=>{if(a==e.state.levels[e.state.level()].count)return e.state.status("READY"),e.swap.path=[...e.swap.history],e;if(a==0)return e.state.status("SHUFFLING"),Ht(e,n.id)({target:c}),Ye(e,n,a+1,c);if(a>0){const o=e.swap.history.slice(-2)[0];let h=e.swap.swapBlockIds.filter(w=>w!==o);const l=wr(h);l||(a=e.state.levels[e.state.level()].count,Ye(e,n,a,n.dom));const m=e.blocks.find(w=>w.id==l),p=n.dom;return Bt(e,m),Ye(e,n,a+1,p)}},Nr=(e,n)=>e.state.status()=="SELECT_SQR"||nt(e,n)&&e.state.status()!=="COMPLETED"?Or(e,n)&&e.state.showHint()?"3px solid var(--hint)":"3px solid var(--hilight)":"",Ar=(e,n)=>Ge(e,n)?"isSwapBlock":nt(e,n)?"point isSwapBlock":e.state.status()=="SELECT_SQR"&&"point",zr=(e,n)=>e.state.hiddenBlock()?()=>Bt(e,n,!0):e.state.level()&&e.state.status()!=="COMPLETED"&&jt(e,n,0),Hr=e=>e.img.src()&&e.state.screenSize()=="TABLET"?"row":"col",Br=e=>e.img.src()&&e.state.screenSize()=="TABLET"&&{justifyContent:"space-between"},qr=(e,n)=>{switch(e){case"PHONE":return"33dvh";case"TABLET":return n?"100dvh":"33dvh";case"DESKTOP":return"30dvh"}},jr=e=>{switch(e.state.screenSize()){case"PHONE":return"space-around";case"TABLET":return e.img.src(),"space-evenly";case"DESKTOP":return e.img.src(),"space-evenly"}},Dr=e=>({height:qr(e.state.screenSize(),e.img.src()),justifyContent:jr(e)}),kr=e=>({left:e.state.screenSize()=="TABLET"&&e.img.src()?0:"inherit",fontSize:"3rem"}),Fr=e=>({justifyContent:e.state.screenSize()=="TABLET"&&!e.img.src()?"center":"flex-start"}),_r=e=>({cursor:e?"not-allowed":"pointer"}),Ur=""+new URL("photo-scramble-logo.fa6de4a3.png",import.meta.url).href,$r=""+new URL("logo-loader.2f4fdfa8.gif",import.meta.url).href,Dt={view:({attrs:{mdl:e}})=>T(".row ",e.img.src()&&T("button.btn",{onclick:()=>Cr(e)},"New Image"),e.state.status()=="SELECT_SQR"&&T("button.btn",{onclick:()=>{e.state.level(null),e.state.status("SELECT_LEVEL")}},"Change Level"),e.state.status()=="READY"&&T(".row",T("button.btn",{onclick:()=>Lr(e)},"Restart"),T("button.btn",{onclick:()=>e.state.help.open?e.state.help.closeModal():e.state.help.showModal()},"Help")))},Kr=()=>({oncreate:({dom:e,attrs:{mdl:n,block:a}})=>{const c=n.blocks.find(h=>h.id==a.id),o=e.getBoundingClientRect();a.coords=o,c.coords=o,a.dom=e,c.dom=e,qt(n,a,e)},view:({attrs:{mdl:e,block:n}})=>T(".block",{id:n.id,disabled:e.state.status()=="COMPLETED",class:Ar(e,n),onclick:zr(e,n),draggable:Rr(e,n),style:{border:Nr(e,n)}})}),Vr={view:({attrs:{mdl:e,label:n,id:a,action:c,isDisabled:o}})=>T("label.row",{style:{width:"100%",justifyContent:"space-between",lineHeight:"3rem"}},T("code",n),T("label.switchContainer",T(`input.switch#${a}`,{disabled:o(e),type:"checkbox",onchange:()=>c(e)}),T(".slider.round",{style:_r(o(e))})))},Wr=()=>({oncreate:({attrs:{mdl:e},dom:n})=>e.state.help=n,view:({attrs:{mdl:e}})=>T("dialog#dialog",{onclick:n=>{n.target.id=="dialog"&&e.state.help.close()},open:!1},T("form.col",e.help.toggles.map(({label:n,id:a,action:c,isDisabled:o})=>T(Vr,{mdl:e,label:n,id:a,action:c,isDisabled:o}))))}),Jr=()=>({onupdate:({attrs:{mdl:e}})=>{if(e.state.status()=="SELECT_SQR")return e.originals=JSON.stringify(e.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:e}})=>T(".grid#map",e.blocks.map(n=>T(Kr,{mdl:e,block:n})))}),Qr={view:({attrs:{mdl:e}})=>T("img#img",{onload:({target:n})=>{e.img.width(n.width),e.img.height(n.height),e.img.coords=n.getBoundingClientRect(),Sr(e,n)},src:e.img.src(),style:{width:"var(--size)",height:"var(--size)",zIndex:e.img.display()?1e3:0,opacity:e.state.showHiddenImage()?0:e.img.display()?1:.2}})},Yr={view:({attrs:{mdl:e}})=>T("fieldset.col",T("legend.text",T("code","Select a level")),T(".row",Object.keys(e.state.levels).map(n=>T("button.btn",{style:{border:"2px solid var(--hilight)"},onclick:()=>Ir(e,n)},n))))},Gr={view:({attrs:{mdl:e}})=>T("fieldset.col.point",T("legend.text",T("code.text",T("label",{for:"upload"},"Upload an Image."))),T("input.btn",{style:{width:"80lvw"},name:"upload",onchange:n=>zt(e)(n).then(()=>e.state.status("SELECT_LEVEL")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},Zr={view:({attrs:{mdl:e}})=>T("section#header.col",{style:Dr(e)},T("code#title.text.row",{style:kr(e)},"PHOTO",T("img#logo-still",{src:Ur}),"SCRAMBLE!"),e.img.src()&&T(".row",e.state.status()=="SELECT_LEVEL"&&T(Yr,{mdl:e}),e.state.status()=="SELECT_SQR"&&T("code.text","Next, select a boring square on the grid to hide")),e.swap.history.length>0&&T("section.col#user-info",T("code.text",`Moves Made: ${e.state.userMoves()}`),e.state.hintUsed()>0&&T("code.text",{style:{color:"var(--hint)"}},`Moves With Hint: ${e.state.hintUsed()}`),T("code.text",`Perfect Score Is: ${e.state.levels[e.state.level()].count-1}`)),e.state.screenSize()=="TABLET"&&T(Dt,{mdl:e}))},Xr=e=>(yr(e),{view:()=>T("#app",{style:Br(e),class:Hr(e)},T(Zr,{mdl:e}),e.img.src()?T("section.col#image-viewer",T("#viewer.row",e.state.status()!=="COMPLETED"&&T(Jr,{mdl:e}),T(Qr,{mdl:e})),e.state.screenSize()!=="TABLET"&&T(Dt,{mdl:e})):T("section.col",{style:Fr(e)},T("#logo-anim",T("img",{src:$r})),T("#input-anim",T(Gr,{mdl:e}))),T(Wr,{mdl:e}))});T.mount(document.body,Xr(Er()));
