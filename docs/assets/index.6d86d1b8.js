var _t=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Fr=_t(($r,Pe)=>{const Ut=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&f(h)}).observe(document,{childList:!0,subtree:!0});function a(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function f(c){if(c.ep)return;c.ep=!0;const o=a(c);fetch(c.href,o)}};Ut();var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e,ut;function ge(){if(ut)return $e;ut=1;function t(n,a,f,c,o,h){return{tag:n,key:a,attrs:f,children:c,text:o,dom:h,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return t.normalize=function(n){return Array.isArray(n)?t("[",void 0,void 0,t.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:t("#",void 0,void 0,String(n),void 0,void 0)},t.normalizeChildren=function(n){var a=[];if(n.length){for(var f=n[0]!=null&&n[0].key!=null,c=1;c<n.length;c++)if((n[c]!=null&&n[c].key!=null)!==f)throw new TypeError(f&&(n[c]!=null||typeof n[c]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var c=0;c<n.length;c++)a[c]=t.normalize(n[c])}return a},$e=t,$e}var Kt=ge(),Rt=function(){var t=arguments[this],n=this+1,a;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Kt("",t.key,t,a)},Se={}.hasOwnProperty,Vt=ge(),Jt=Rt,xe=Se,Wt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Pt={};function ft(t){for(var n in t)if(xe.call(t,n))return!1;return!0}function Zt(t){for(var n,a="div",f=[],c={};n=Wt.exec(t);){var o=n[1],h=n[2];if(o===""&&h!=="")a=h;else if(o==="#")c.id=h;else if(o===".")f.push(h);else if(n[3][0]==="["){var p=n[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?f.push(p):c[n[4]]=p===""?p:p||!0}}return f.length>0&&(c.className=f.join(" ")),Pt[t]={tag:a,attrs:c}}function Qt(t,n){var a=n.attrs,f=xe.call(a,"class"),c=f?a.class:a.className;if(n.tag=t.tag,n.attrs={},!ft(t.attrs)&&!ft(a)){var o={};for(var h in a)xe.call(a,h)&&(o[h]=a[h]);a=o}for(var h in t.attrs)xe.call(t.attrs,h)&&h!=="className"&&!xe.call(a,h)&&(a[h]=t.attrs[h]);(c!=null||t.attrs.className!=null)&&(a.className=c!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(c):c:t.attrs.className!=null?t.attrs.className:null),f&&(a.class=null);for(var h in a)if(xe.call(a,h)&&h!=="key"){n.attrs=a;break}return n}function Xt(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var n=Jt.apply(1,arguments);return typeof t=="string"&&(n.children=Vt.normalizeChildren(n.children),t!=="[")?Qt(Pt[t]||Zt(t),n):(n.tag=t,n)}var It=Xt,Yt=ge(),Gt=function(t){return t==null&&(t=""),Yt("<",void 0,void 0,t,void 0,void 0)},er=ge(),tr=Rt,rr=function(){var t=tr.apply(0,arguments);return t.tag="[",t.children=er.normalizeChildren(t.children),t},rt=It;rt.trust=Gt;rt.fragment=rr;var nr=rt,Re={exports:{}},He,ct;function Nt(){if(ct)return He;ct=1;var t=function(n){if(!(this instanceof t))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,f=[],c=[],o=w(f,!0),h=w(c,!1),p=a._instance={resolvers:f,rejectors:c},g=typeof setImmediate=="function"?setImmediate:setTimeout;function w(I,E){return function P(O){var b;try{if(E&&O!=null&&(typeof O=="object"||typeof O=="function")&&typeof(b=O.then)=="function"){if(O===a)throw new TypeError("Promise can't be resolved with itself.");d(b.bind(O))}else g(function(){!E&&I.length===0&&console.error("Possible unhandled promise rejection:",O);for(var S=0;S<I.length;S++)I[S](O);f.length=0,c.length=0,p.state=E,p.retry=function(){P(O)}})}catch(S){h(S)}}}function d(I){var E=0;function P(b){return function(S){E++>0||b(S)}}var O=P(h);try{I(P(o),O)}catch(b){O(b)}}d(n)};return t.prototype.then=function(n,a){var f=this,c=f._instance;function o(w,d,I,E){d.push(function(P){if(typeof w!="function")I(P);else try{h(w(P))}catch(O){p&&p(O)}}),typeof c.retry=="function"&&E===c.state&&c.retry()}var h,p,g=new t(function(w,d){h=w,p=d});return o(n,c.resolvers,h,!0),o(a,c.rejectors,p,!1),g},t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(n){return this.then(function(a){return t.resolve(n()).then(function(){return a})},function(a){return t.resolve(n()).then(function(){return t.reject(a)})})},t.resolve=function(n){return n instanceof t?n:new t(function(a){a(n)})},t.reject=function(n){return new t(function(a,f){f(n)})},t.all=function(n){return new t(function(a,f){var c=n.length,o=0,h=[];if(n.length===0)a([]);else for(var p=0;p<n.length;p++)(function(g){function w(d){o++,h[g]=d,o===c&&a(h)}n[g]!=null&&(typeof n[g]=="object"||typeof n[g]=="function")&&typeof n[g].then=="function"?n[g].then(w,f):w(n[g])})(p)})},t.race=function(n){return new t(function(a,f){for(var c=0;c<n.length;c++)n[c].then(a,f)})},He=t,He}var Ee=Nt();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Ee:window.Promise.prototype.finally||(window.Promise.prototype.finally=Ee.prototype.finally),Re.exports=window.Promise):typeof ve<"u"?(typeof ve.Promise>"u"?ve.Promise=Ee:ve.Promise.prototype.finally||(ve.Promise.prototype.finally=Ee.prototype.finally),Re.exports=ve.Promise):Re.exports=Ee;var _e,lt;function ir(){if(lt)return _e;lt=1;var t=ge();return _e=function(n){var a=n&&n.document,f,c={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(r){return r.attrs&&r.attrs.xmlns||c[r.tag]}function h(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function p(r){var e=r.state;try{return this.apply(e,arguments)}finally{h(r,e)}}function g(){try{return a.activeElement}catch{return null}}function w(r,e,i,l,m,y,N){for(var L=i;L<l;L++){var M=e[L];M!=null&&d(r,M,m,N,y)}}function d(r,e,i,l,m){var y=e.tag;if(typeof y=="string")switch(e.state={},e.attrs!=null&&Ce(e.attrs,e,i),y){case"#":I(r,e,m);break;case"<":P(r,e,l,m);break;case"[":O(r,e,i,l,m);break;default:b(r,e,i,l,m)}else H(r,e,i,l,m)}function I(r,e,i){e.dom=a.createTextNode(e.children),s(r,e.dom,i)}var E={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function P(r,e,i,l){var m=e.children.match(/^\s*?<(\w+)/im)||[],y=a.createElement(E[m[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",y=y.firstChild):y.innerHTML=e.children,e.dom=y.firstChild,e.domSize=y.childNodes.length,e.instance=[];for(var N=a.createDocumentFragment(),L;L=y.firstChild;)e.instance.push(L),N.appendChild(L);s(r,N,l)}function O(r,e,i,l,m){var y=a.createDocumentFragment();if(e.children!=null){var N=e.children;w(y,N,0,N.length,i,null,l)}e.dom=y.firstChild,e.domSize=y.childNodes.length,s(r,y,m)}function b(r,e,i,l,m){var y=e.tag,N=e.attrs,L=N&&N.is;l=o(e)||l;var M=l?L?a.createElementNS(l,y,{is:L}):a.createElementNS(l,y):L?a.createElement(y,{is:L}):a.createElement(y);if(e.dom=M,N!=null&&k(e,N,l),s(r,M,m),!v(e)&&e.children!=null){var j=e.children;w(M,j,0,j.length,i,null,l),e.tag==="select"&&N!=null&&ue(e,N)}}function S(r,e){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ce(r.state,r,e),r.attrs!=null&&Ce(r.attrs,r,e),r.instance=t.normalize(p.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function H(r,e,i,l,m){S(e,i),e.instance!=null?(d(r,e.instance,i,l,m),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function J(r,e,i,l,m,y){if(!(e===i||e==null&&i==null))if(e==null||e.length===0)w(r,i,0,i.length,l,m,y);else if(i==null||i.length===0)C(r,e,0,e.length);else{var N=e[0]!=null&&e[0].key!=null,L=i[0]!=null&&i[0].key!=null,M=0,j=0;if(!N)for(;j<e.length&&e[j]==null;)j++;if(!L)for(;M<i.length&&i[M]==null;)M++;if(N!==L)C(r,e,j,e.length),w(r,i,M,i.length,l,m,y);else if(L){for(var re=e.length-1,Z=i.length-1,Ne,ne,K,G,D,Be;re>=j&&Z>=M&&(G=e[re],D=i[Z],G.key===D.key);)G!==D&&U(r,G,D,l,m,y),D.dom!=null&&(m=D.dom),re--,Z--;for(;re>=j&&Z>=M&&(ne=e[j],K=i[M],ne.key===K.key);)j++,M++,ne!==K&&U(r,ne,K,l,se(e,j,m),y);for(;re>=j&&Z>=M&&!(M===Z||ne.key!==D.key||G.key!==K.key);)Be=se(e,j,m),$(r,G,Be),G!==K&&U(r,G,K,l,Be,y),++M<=--Z&&$(r,ne,m),ne!==D&&U(r,ne,D,l,m,y),D.dom!=null&&(m=D.dom),j++,re--,G=e[re],D=i[Z],ne=e[j],K=i[M];for(;re>=j&&Z>=M&&G.key===D.key;)G!==D&&U(r,G,D,l,m,y),D.dom!=null&&(m=D.dom),re--,Z--,G=e[re],D=i[Z];if(M>Z)C(r,e,j,re+1);else if(j>re)w(r,i,M,Z+1,l,m,y);else{var Ht=m,st=Z-M+1,Te=new Array(st),je=0,_=0,ke=2147483647,Fe=0,Ne,De;for(_=0;_<st;_++)Te[_]=-1;for(_=Z;_>=M;_--){Ne==null&&(Ne=ce(e,j,re+1)),D=i[_];var be=Ne[D.key];be!=null&&(ke=be<ke?be:-1,Te[_-M]=be,G=e[be],e[be]=null,G!==D&&U(r,G,D,l,m,y),D.dom!=null&&(m=D.dom),Fe++)}if(m=Ht,Fe!==re-j+1&&C(r,e,j,re+1),Fe===0)w(r,i,M,Z+1,l,m,y);else if(ke===-1)for(De=te(Te),je=De.length-1,_=Z;_>=M;_--)K=i[_],Te[_-M]===-1?d(r,K,l,y,m):De[je]===_-M?je--:$(r,K,m),K.dom!=null&&(m=i[_].dom);else for(_=Z;_>=M;_--)K=i[_],Te[_-M]===-1&&d(r,K,l,y,m),K.dom!=null&&(m=i[_].dom)}}else{var ze=e.length<i.length?e.length:i.length;for(M=M<j?M:j;M<ze;M++)ne=e[M],K=i[M],!(ne===K||ne==null&&K==null)&&(ne==null?d(r,K,l,y,se(e,M+1,m)):K==null?T(r,ne):U(r,ne,K,l,se(e,M+1,m),y));e.length>ze&&C(r,e,M,e.length),i.length>ze&&w(r,i,M,i.length,l,m,y)}}}function U(r,e,i,l,m,y){var N=e.tag,L=i.tag;if(N===L){if(i.state=e.state,i.events=e.events,qe(i,e))return;if(typeof N=="string")switch(i.attrs!=null&&we(i.attrs,i,l),N){case"#":le(e,i);break;case"<":ie(r,e,i,y,m);break;case"[":V(r,e,i,l,m,y);break;default:ee(e,i,l,y)}else X(r,e,i,l,m,y)}else T(r,e),d(r,i,l,y,m)}function le(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function ie(r,e,i,l,m){e.children!==i.children?(x(r,e),P(r,i,l,m)):(i.dom=e.dom,i.domSize=e.domSize,i.instance=e.instance)}function V(r,e,i,l,m,y){J(r,e.children,i.children,l,m,y);var N=0,L=i.children;if(i.dom=null,L!=null){for(var M=0;M<L.length;M++){var j=L[M];j!=null&&j.dom!=null&&(i.dom==null&&(i.dom=j.dom),N+=j.domSize||1)}N!==1&&(i.domSize=N)}}function ee(r,e,i,l){var m=e.dom=r.dom;l=o(e)||l,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),ae(e,r.attrs,e.attrs,l),v(e)||J(m,r.children,e.children,i,null,l)}function X(r,e,i,l,m,y){if(i.instance=t.normalize(p.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");we(i.state,i,l),i.attrs!=null&&we(i.attrs,i,l),i.instance!=null?(e.instance==null?d(r,i.instance,l,y,m):U(r,e.instance,i.instance,l,m,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):e.instance!=null?(T(r,e.instance),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function ce(r,e,i){for(var l=Object.create(null);e<i;e++){var m=r[e];if(m!=null){var y=m.key;y!=null&&(l[y]=e)}}return l}var Y=[];function te(r){for(var e=[0],i=0,l=0,m=0,y=Y.length=r.length,m=0;m<y;m++)Y[m]=r[m];for(var m=0;m<y;++m)if(r[m]!==-1){var N=e[e.length-1];if(r[N]<r[m]){Y[m]=N,e.push(m);continue}for(i=0,l=e.length-1;i<l;){var L=(i>>>1)+(l>>>1)+(i&l&1);r[e[L]]<r[m]?i=L+1:l=L}r[m]<r[e[i]]&&(i>0&&(Y[m]=e[i-1]),e[i]=m)}for(i=e.length,l=e[i-1];i-- >0;)e[i]=l,l=Y[l];return Y.length=0,e}function se(r,e,i){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return i}function $(r,e,i){var l=a.createDocumentFragment();u(r,l,e),s(r,l,i)}function u(r,e,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var l=0;l<i.instance.length;l++)e.appendChild(i.instance[l]);else if(i.tag!=="[")e.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var l=0;l<i.children.length;l++){var m=i.children[l];m!=null&&u(r,e,m)}break}}function s(r,e,i){i!=null?r.insertBefore(e,i):r.appendChild(e)}function v(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var i=e[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function C(r,e,i,l){for(var m=i;m<l;m++){var y=e[m];y!=null&&T(r,y)}}function T(r,e){var i=0,l=e.state,m,y;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var N=p.call(e.state.onbeforeremove,e);N!=null&&typeof N.then=="function"&&(i=1,m=N)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var N=p.call(e.attrs.onbeforeremove,e);N!=null&&typeof N.then=="function"&&(i|=2,y=N)}if(h(e,l),!i)A(e),R(r,e);else{if(m!=null){var L=function(){i&1&&(i&=2,i||M())};m.then(L,L)}if(y!=null){var L=function(){i&2&&(i&=1,i||M())};y.then(L,L)}}function M(){h(e,l),A(e),R(r,e)}}function x(r,e){for(var i=0;i<e.instance.length;i++)r.removeChild(e.instance[i])}function R(r,e){for(;e.dom!=null&&e.dom.parentNode===r;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")x(r,e);else{if(e.tag!=="["&&(r.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var i=0;i<e.children.length;i++){var l=e.children[i];l!=null&&R(r,l)}}break}}function A(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&p.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&p.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&A(r.instance);else{var e=r.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var l=e[i];l!=null&&A(l)}}}function k(r,e,i){r.tag==="input"&&e.type!=null&&r.dom.setAttribute("type",e.type);var l=e!=null&&r.tag==="input"&&e.type==="file";for(var m in e)W(r,m,null,e[m],i,l)}function W(r,e,i,l,m,y){if(!(e==="key"||e==="is"||l==null||me(e)||i===l&&!F(r,e)&&typeof l!="object"||e==="type"&&r.tag==="input")){if(e[0]==="o"&&e[1]==="n")return Ie(r,e,l);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),l);else if(e==="style")fe(r.dom,i,l);else if(ye(r,e,m)){if(e==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+l&&(y||r.dom===g())||r.tag==="select"&&i!==null&&r.dom.value===""+l||r.tag==="option"&&i!==null&&r.dom.value===""+l)return;if(y&&""+l!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[e]=l}else typeof l=="boolean"?l?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,l)}}function z(r,e,i,l){if(!(e==="key"||e==="is"||i==null||me(e)))if(e[0]==="o"&&e[1]==="n")Ie(r,e,void 0);else if(e==="style")fe(r.dom,i,null);else if(ye(r,e,l)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===g()))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var m=e.indexOf(":");m!==-1&&(e=e.slice(m+1)),i!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function ue(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+e.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in e&&W(r,"selectedIndex",null,e.selectedIndex,void 0)}function ae(r,e,i,l){if(e&&e===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var m=r.tag==="input"&&i.type==="file";for(var y in i)W(r,y,e&&e[y],i[y],l,m)}var N;if(e!=null)for(var y in e)(N=e[y])!=null&&(i==null||i[y]==null)&&z(r,y,N,l)}function F(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===g()||r.tag==="option"&&r.dom.parentNode===a.activeElement}function me(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,e,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}var oe=/[A-Z]/g;function de(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(oe,de)}function fe(r,e,i){if(e!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(e==null||typeof e!="object"){r.style.cssText="";for(var l in i){var m=i[l];m!=null&&r.style.setProperty(he(l),String(m))}}else{for(var l in i){var m=i[l];m!=null&&(m=String(m))!==String(e[l])&&r.style.setProperty(he(l),m)}for(var l in e)e[l]!=null&&i[l]==null&&r.style.removeProperty(he(l))}}function Me(){this._=f}Me.prototype=Object.create(null),Me.prototype.handleEvent=function(r){var e=this["on"+r.type],i;typeof e=="function"?i=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Ie(r,e,i){if(r.events!=null){if(r.events._=f,r.events[e]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new Me,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i)}function Ce(r,e,i){typeof r.oninit=="function"&&p.call(r.oninit,e),typeof r.oncreate=="function"&&i.push(p.bind(r.oncreate,e))}function we(r,e,i){typeof r.onupdate=="function"&&i.push(p.bind(r.onupdate,e))}function qe(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=p.call(r.attrs.onbeforeupdate,r,e);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=p.call(r.state.onbeforeupdate,r,e);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var pe;return function(r,e,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&r.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var l=f,m=pe,y=[],N=g(),L=r.namespaceURI;pe=r,f=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),e=t.normalizeChildren(Array.isArray(e)?e:[e]),J(r,r.vnodes,e,y,null,L==="http://www.w3.org/1999/xhtml"?void 0:L),r.vnodes=e,N!=null&&g()!==N&&typeof N.focus=="function"&&N.focus();for(var M=0;M<y.length;M++)y[M]()}finally{f=l,pe=m}}},_e}var Ue,ot;function Ot(){return ot||(ot=1,Ue=ir()(typeof window<"u"?window:null)),Ue}var ht=ge(),ar=function(t,n,a){var f=[],c=!1,o=-1;function h(){for(o=0;o<f.length;o+=2)try{t(f[o],ht(f[o+1]),p)}catch(w){a.error(w)}o=-1}function p(){c||(c=!0,n(function(){c=!1,h()}))}p.sync=h;function g(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var I=f.indexOf(w);I>=0&&(f.splice(I,2),I<=o&&(o-=2),t(w,[])),d!=null&&(f.push(w,d),t(w,ht(d),p))}return{mount:g,redraw:p}},sr=Ot(),nt=ar(sr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Ke,pt;function St(){return pt||(pt=1,Ke=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var n=[];for(var a in t)f(a,t[a]);return n.join("&");function f(c,o){if(Array.isArray(o))for(var h=0;h<o.length;h++)f(c+"["+h+"]",o[h]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var h in o)f(c+"["+h+"]",o[h]);else n.push(encodeURIComponent(c)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}}),Ke}var Ve,gt;function At(){if(gt)return Ve;gt=1;var t=Se;return Ve=Object.assign||function(n,a){for(var f in a)t.call(a,f)&&(n[f]=a[f])},Ve}var Je,mt;function it(){if(mt)return Je;mt=1;var t=St(),n=At();return Je=function(a,f){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(f==null)return a;var c=a.indexOf("?"),o=a.indexOf("#"),h=o<0?a.length:o,p=c<0?h:c,g=a.slice(0,p),w={};n(w,f);var d=g.replace(/:([^\/\.-]+)(\.{3})?/g,function(H,J,U){return delete w[J],f[J]==null?H:U?f[J]:encodeURIComponent(String(f[J]))}),I=d.indexOf("?"),E=d.indexOf("#"),P=E<0?d.length:E,O=I<0?P:I,b=d.slice(0,O);c>=0&&(b+=a.slice(c,h)),I>=0&&(b+=(c<0?"?":"&")+d.slice(I,P));var S=t(w);return S&&(b+=(c<0&&I<0?"?":"&")+S),o>=0&&(b+=a.slice(o)),E>=0&&(b+=(o<0?"":"&")+d.slice(E)),b},Je}var ur=it(),yt=Se,fr=function(t,n,a){var f=0;function c(p){return new n(p)}c.prototype=n.prototype,c.__proto__=n;function o(p){return function(g,w){typeof g!="string"?(w=g,g=g.url):w==null&&(w={});var d=new n(function(O,b){p(ur(g,w.params),w,function(S){if(typeof w.type=="function")if(Array.isArray(S))for(var H=0;H<S.length;H++)S[H]=new w.type(S[H]);else S=new w.type(S);O(S)},b)});if(w.background===!0)return d;var I=0;function E(){--I===0&&typeof a=="function"&&a()}return P(d);function P(O){var b=O.then;return O.constructor=c,O.then=function(){I++;var S=b.apply(O,arguments);return S.then(E,function(H){if(E(),I===0)throw H}),P(S)},O}}}function h(p,g){for(var w in p.headers)if(yt.call(p.headers,w)&&w.toLowerCase()===g)return!0;return!1}return{request:o(function(p,g,w,d){var I=g.method!=null?g.method.toUpperCase():"GET",E=g.body,P=(g.serialize==null||g.serialize===JSON.serialize)&&!(E instanceof t.FormData||E instanceof t.URLSearchParams),O=g.responseType||(typeof g.extract=="function"?"":"json"),b=new t.XMLHttpRequest,S=!1,H=!1,J=b,U,le=b.abort;b.abort=function(){S=!0,le.call(this)},b.open(I,p,g.async!==!1,typeof g.user=="string"?g.user:void 0,typeof g.password=="string"?g.password:void 0),P&&E!=null&&!h(g,"content-type")&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof g.deserialize!="function"&&!h(g,"accept")&&b.setRequestHeader("Accept","application/json, text/*"),g.withCredentials&&(b.withCredentials=g.withCredentials),g.timeout&&(b.timeout=g.timeout),b.responseType=O;for(var ie in g.headers)yt.call(g.headers,ie)&&b.setRequestHeader(ie,g.headers[ie]);b.onreadystatechange=function(V){if(!S&&V.target.readyState===4)try{var ee=V.target.status>=200&&V.target.status<300||V.target.status===304||/^file:\/\//i.test(p),X=V.target.response,ce;if(O==="json"){if(!V.target.responseType&&typeof g.extract!="function")try{X=JSON.parse(V.target.responseText)}catch{X=null}}else(!O||O==="text")&&X==null&&(X=V.target.responseText);if(typeof g.extract=="function"?(X=g.extract(V.target,g),ee=!0):typeof g.deserialize=="function"&&(X=g.deserialize(X)),ee)w(X);else{var Y=function(){try{ce=V.target.responseText}catch{ce=X}var te=new Error(ce);te.code=V.target.status,te.response=X,d(te)};b.status===0?setTimeout(function(){H||Y()}):Y()}}catch(te){d(te)}},b.ontimeout=function(V){H=!0;var ee=new Error("Request timed out");ee.code=V.target.status,d(ee)},typeof g.config=="function"&&(b=g.config(b,g,p)||b,b!==J&&(U=b.abort,b.abort=function(){S=!0,U.call(this)})),E==null?b.send():typeof g.serialize=="function"?b.send(g.serialize(E)):E instanceof t.FormData||E instanceof t.URLSearchParams?b.send(E):b.send(JSON.stringify(E))}),jsonp:o(function(p,g,w,d){var I=g.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+f++,E=t.document.createElement("script");t[I]=function(P){delete t[I],E.parentNode.removeChild(E),w(P)},E.onerror=function(){delete t[I],E.parentNode.removeChild(E),d(new Error("JSONP request failed"))},E.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(g.callbackKey||"callback")+"="+encodeURIComponent(I),t.document.documentElement.appendChild(E)})}},cr=Re.exports,lr=nt,or=fr(typeof window<"u"?window:null,cr,lr.redraw),We,dt;function Lt(){if(dt)return We;dt=1;function t(n){try{return decodeURIComponent(n)}catch{return n}}return We=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),f={},c={},o=0;o<a.length;o++){var h=a[o].split("="),p=t(h[0]),g=h.length===2?t(h[1]):"";g==="true"?g=!0:g==="false"&&(g=!1);var w=p.split(/\]\[?|\[/),d=c;p.indexOf("[")>-1&&w.pop();for(var I=0;I<w.length;I++){var E=w[I],P=w[I+1],O=P==""||!isNaN(parseInt(P,10));if(E===""){var p=w.slice(0,I).join();f[p]==null&&(f[p]=Array.isArray(d)?d.length:0),E=f[p]++}else if(E==="__proto__")break;if(I===w.length-1)d[E]=g;else{var b=Object.getOwnPropertyDescriptor(d,E);b!=null&&(b=b.value),b==null&&(d[E]=b=O?[]:{}),d=b}}}return c},We}var Ze,wt;function at(){if(wt)return Ze;wt=1;var t=Lt();return Ze=function(n){var a=n.indexOf("?"),f=n.indexOf("#"),c=f<0?n.length:f,o=a<0?c:a,h=n.slice(0,o).replace(/\/{2,}/g,"/");return h?(h[0]!=="/"&&(h="/"+h),h.length>1&&h[h.length-1]==="/"&&(h=h.slice(0,-1))):h="/",{path:h,params:a<0?{}:t(n.slice(a+1,c))}},Ze}var Qe,bt;function hr(){if(bt)return Qe;bt=1;var t=at();return Qe=function(n){var a=t(n),f=Object.keys(a.params),c=[],o=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(h,p,g){return p==null?"\\"+h:(c.push({k:p,r:g==="..."}),g==="..."?"(.*)":g==="."?"([^/]+)\\.":"([^/]+)"+(g||""))})+"$");return function(h){for(var p=0;p<f.length;p++)if(a.params[f[p]]!==h.params[f[p]])return!1;if(!c.length)return o.test(h.path);var g=o.exec(h.path);if(g==null)return!1;for(var p=0;p<c.length;p++)h.params[c[p].k]=c[p].r?g[p+1]:decodeURIComponent(g[p+1]);return!0}},Qe}var Xe,vt;function qt(){if(vt)return Xe;vt=1;var t=Se,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Xe=function(a,f){var c={};if(f!=null)for(var o in a)t.call(a,o)&&!n.test(o)&&f.indexOf(o)<0&&(c[o]=a[o]);else for(var o in a)t.call(a,o)&&!n.test(o)&&(c[o]=a[o]);return c},Xe}var Ye,xt;function pr(){if(xt)return Ye;xt=1;var t=ge(),n=It,a=Re.exports,f=it(),c=at(),o=hr(),h=At(),p=qt(),g={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Ye=function(d,I){var E=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,P=a.resolve(),O=!1,b=!1,S=0,H,J,U=g,le,ie,V,ee,X={onbeforeupdate:function(){return S=S?2:1,!(!S||g===U)},onremove:function(){d.removeEventListener("popstate",te,!1),d.removeEventListener("hashchange",Y,!1)},view:function(){if(!(!S||g===U)){var u=[t(le,ie.key,ie)];return U&&(u=U.render(u[0])),u}}},ce=$.SKIP={};function Y(){O=!1;var u=d.location.hash;$.prefix[0]!=="#"&&(u=d.location.search+u,$.prefix[0]!=="?"&&(u=d.location.pathname+u,u[0]!=="/"&&(u="/"+u)));var s=u.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice($.prefix.length),v=c(s);h(v.params,d.history.state);function C(x){console.error(x),se(J,null,{replace:!0})}T(0);function T(x){for(;x<H.length;x++)if(H[x].check(v)){var R=H[x].component,A=H[x].route,k=R,W=ee=function(z){if(W===ee){if(z===ce)return T(x+1);le=z!=null&&(typeof z.view=="function"||typeof z=="function")?z:"div",ie=v.params,V=s,ee=null,U=R.render?R:null,S===2?I.redraw():(S=2,I.redraw.sync())}};R.view||typeof R=="function"?(R={},W(k)):R.onmatch?P.then(function(){return R.onmatch(v.params,s,A)}).then(W,s===J?null:C):W("div");return}if(s===J)throw new Error("Could not resolve default route "+J+".");se(J,null,{replace:!0})}}function te(){O||(O=!0,E(Y))}function se(u,s,v){if(u=f(u,s),b){te();var C=v?v.state:null,T=v?v.title:null;v&&v.replace?d.history.replaceState(C,T,$.prefix+u):d.history.pushState(C,T,$.prefix+u)}else d.location.href=$.prefix+u}function $(u,s,v){if(!u)throw new TypeError("DOM element being rendered to does not exist.");if(H=Object.keys(v).map(function(T){if(T[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(T))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:T,component:v[T],check:o(T)}}),J=s,s!=null){var C=c(s);if(!H.some(function(T){return T.check(C)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",te,!1):$.prefix[0]==="#"&&d.addEventListener("hashchange",Y,!1),b=!0,I.mount(u,X),Y()}return $.set=function(u,s,v){ee!=null&&(v=v||{},v.replace=!0),ee=null,se(u,s,v)},$.get=function(){return V},$.prefix="#!",$.Link={view:function(u){var s=n(u.attrs.selector||"a",p(u.attrs,["options","params","selector","onclick"]),u.children),v,C,T;return(s.attrs.disabled=Boolean(s.attrs.disabled))?(s.attrs.href=null,s.attrs["aria-disabled"]="true"):(v=u.attrs.options,C=u.attrs.onclick,T=f(s.attrs.href,u.attrs.params),s.attrs.href=$.prefix+T,s.attrs.onclick=function(x){var R;typeof C=="function"?R=C.call(x.currentTarget,x):C==null||typeof C!="object"||typeof C.handleEvent=="function"&&C.handleEvent(x),R!==!1&&!x.defaultPrevented&&(x.button===0||x.which===0||x.which===1)&&(!x.currentTarget.target||x.currentTarget.target==="_self")&&!x.ctrlKey&&!x.metaKey&&!x.shiftKey&&!x.altKey&&(x.preventDefault(),x.redraw=!1,$.set(T,null,v))}),s}},$.param=function(u){return ie&&u!=null?ie[u]:ie},$},Ye}var Ge,Mt;function gr(){if(Mt)return Ge;Mt=1;var t=nt;return Ge=pr()(typeof window<"u"?window:null,t),Ge}var Ae=nr,zt=or,Bt=nt,Q=function(){return Ae.apply(this,arguments)};Q.m=Ae;Q.trust=Ae.trust;Q.fragment=Ae.fragment;Q.Fragment="[";Q.mount=Bt.mount;Q.route=gr();Q.render=Ot();Q.redraw=Bt.redraw;Q.request=zt.request;Q.jsonp=zt.jsonp;Q.parseQueryString=Lt();Q.buildQueryString=St();Q.parsePathname=at();Q.buildPathname=it();Q.vnode=ge();Q.PromisePolyfill=Nt();Q.censor=qt();var B=Q;q.SKIP={};q.lift=dr;q.scan=mr;q.merge=jt;q.combine=Le;q.scanMerge=yr;q["fantasy-land/of"]=q;var Ct=!1;Object.defineProperty(q,"HALT",{get:function(){return Ct||console.log("HALT is deprecated and has been renamed to SKIP"),Ct=!0,q.SKIP}});function q(t){var n=[],a=[];function f(h){return arguments.length&&h!==q.SKIP&&(t=h,Tt(f)&&(f.changing(),f.state="active",n.forEach(function(p,g){p(a[g](t))}))),t}f.constructor=q,f.state=arguments.length&&t!==q.SKIP?"active":"pending",f.parents=[],f.changing=function(){Tt(f)&&(f.state="changing"),n.forEach(function(h){h.changing()})},f.map=function(h,p){var g=f.state==="active"&&p!==q.SKIP?q(h(t)):q();return g.parents.push(f),n.push(g),a.push(h),g};var c;function o(){return c=q(),c.map(function(h){return h===!0&&(f.parents.forEach(function(p){p.unregisterChild(f)}),f.state="ended",f.parents.length=n.length=a.length=0),h}),c}return f.toJSON=function(){return t!=null&&typeof t.toJSON=="function"?t.toJSON():t},f["fantasy-land/map"]=f.map,f["fantasy-land/ap"]=function(h){return Le(function(p,g){return p()(g())},[h,f])},f.unregisterChild=function(h){var p=n.indexOf(h);p!==-1&&(n.splice(p,1),a.splice(p,1))},Object.defineProperty(f,"end",{get:function(){return c||o()}}),f}function Le(t,n){var a=n.every(function(p){if(p.constructor!==q)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return p.state==="active"}),f=a?q(t.apply(null,n.concat([n]))):q(),c=[],o=n.map(function(p){return p.map(function(g){return c.push(p),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,f(t.apply(null,n.concat([c]))),c=[]),g},q.SKIP)}),h=f.end.map(function(p){p===!0&&(o.forEach(function(g){g.end(!0)}),h.end(!0))});return f}function jt(t){return Le(function(){return t.map(function(n){return n()})},t)}function mr(t,n,a){var f=a.map(function(c){var o=t(n,c);return o!==q.SKIP&&(n=o),o});return f(n),f}function yr(t,n){var a=t.map(function(c){return c[0]}),f=Le(function(){var c=arguments[arguments.length-1];return a.forEach(function(o,h){c.indexOf(o)>-1&&(n=t[h][1](n,o()))}),n},a);return f(n),f}function dr(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);return jt(n).map(function(a){return t.apply(void 0,a)})}function Tt(t){return t.state==="pending"||t.state==="active"||t.state==="changing"}var Pe={};(function t(n,a,f,c){var o=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function h(){}function p(u){var s=a.exports.Promise,v=s!==void 0?s:n.Promise;return typeof v=="function"?new v(u):(u(h,h),null)}var g=function(){var u=Math.floor(16.666666666666668),s,v,C={},T=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(s=function(x){var R=Math.random();return C[R]=requestAnimationFrame(function A(k){T===k||T+u-1<k?(T=k,delete C[R],x()):C[R]=requestAnimationFrame(A)}),R},v=function(x){C[x]&&cancelAnimationFrame(C[x])}):(s=function(x){return setTimeout(x,u)},v=function(x){return clearTimeout(x)}),{frame:s,cancel:v}}(),w=function(){var u,s,v={};function C(T){function x(R,A){T.postMessage({options:R||{},callback:A})}T.init=function(A){var k=A.transferControlToOffscreen();T.postMessage({canvas:k},[k])},T.fire=function(A,k,W){if(s)return x(A,null),s;var z=Math.random().toString(36).slice(2);return s=p(function(ue){function ae(F){F.data.callback===z&&(delete v[z],T.removeEventListener("message",ae),s=null,W(),ue())}T.addEventListener("message",ae),x(A,z),v[z]=ae.bind(null,{data:{callback:z}})}),s},T.reset=function(){T.postMessage({reset:!0});for(var A in v)v[A](),delete v[A]}}return function(){if(u)return u;if(!f&&o){var T=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{u=new Worker(URL.createObjectURL(new Blob([T])))}catch(x){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",x),null}C(u)}return u}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function I(u,s){return s?s(u):u}function E(u){return u!=null}function P(u,s,v){return I(u&&E(u[s])?u[s]:d[s],v)}function O(u){return u<0?0:Math.floor(u)}function b(u,s){return Math.floor(Math.random()*(s-u))+u}function S(u){return parseInt(u,16)}function H(u){return u.map(J)}function J(u){var s=String(u).replace(/[^0-9a-f]/gi,"");return s.length<6&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:S(s.substring(0,2)),g:S(s.substring(2,4)),b:S(s.substring(4,6))}}function U(u){var s=P(u,"origin",Object);return s.x=P(s,"x",Number),s.y=P(s,"y",Number),s}function le(u){u.width=document.documentElement.clientWidth,u.height=document.documentElement.clientHeight}function ie(u){var s=u.getBoundingClientRect();u.width=s.width,u.height=s.height}function V(u){var s=document.createElement("canvas");return s.style.position="fixed",s.style.top="0px",s.style.left="0px",s.style.pointerEvents="none",s.style.zIndex=u,s}function ee(u,s,v,C,T,x,R,A,k){u.save(),u.translate(s,v),u.rotate(x),u.scale(C,T),u.arc(0,0,1,R,A,k),u.restore()}function X(u){var s=u.angle*(Math.PI/180),v=u.spread*(Math.PI/180);return{x:u.x,y:u.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:u.startVelocity*.5+Math.random()*u.startVelocity,angle2D:-s+(.5*v-Math.random()*v),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:u.color,shape:u.shape,tick:0,totalTicks:u.ticks,decay:u.decay,drift:u.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:u.gravity*3,ovalScalar:.6,scalar:u.scalar}}function ce(u,s){s.x+=Math.cos(s.angle2D)*s.velocity+s.drift,s.y+=Math.sin(s.angle2D)*s.velocity+s.gravity,s.wobble+=s.wobbleSpeed,s.velocity*=s.decay,s.tiltAngle+=.1,s.tiltSin=Math.sin(s.tiltAngle),s.tiltCos=Math.cos(s.tiltAngle),s.random=Math.random()+2,s.wobbleX=s.x+10*s.scalar*Math.cos(s.wobble),s.wobbleY=s.y+10*s.scalar*Math.sin(s.wobble);var v=s.tick++/s.totalTicks,C=s.x+s.random*s.tiltCos,T=s.y+s.random*s.tiltSin,x=s.wobbleX+s.random*s.tiltCos,R=s.wobbleY+s.random*s.tiltSin;if(u.fillStyle="rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+(1-v)+")",u.beginPath(),s.shape==="circle")u.ellipse?u.ellipse(s.x,s.y,Math.abs(x-C)*s.ovalScalar,Math.abs(R-T)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI):ee(u,s.x,s.y,Math.abs(x-C)*s.ovalScalar,Math.abs(R-T)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI);else if(s.shape==="star")for(var A=Math.PI/2*3,k=4*s.scalar,W=8*s.scalar,z=s.x,ue=s.y,ae=5,F=Math.PI/ae;ae--;)z=s.x+Math.cos(A)*W,ue=s.y+Math.sin(A)*W,u.lineTo(z,ue),A+=F,z=s.x+Math.cos(A)*k,ue=s.y+Math.sin(A)*k,u.lineTo(z,ue),A+=F;else u.moveTo(Math.floor(s.x),Math.floor(s.y)),u.lineTo(Math.floor(s.wobbleX),Math.floor(T)),u.lineTo(Math.floor(x),Math.floor(R)),u.lineTo(Math.floor(C),Math.floor(s.wobbleY));return u.closePath(),u.fill(),s.tick<s.totalTicks}function Y(u,s,v,C,T){var x=s.slice(),R=u.getContext("2d"),A,k,W=p(function(z){function ue(){A=k=null,R.clearRect(0,0,C.width,C.height),T(),z()}function ae(){f&&!(C.width===c.width&&C.height===c.height)&&(C.width=u.width=c.width,C.height=u.height=c.height),!C.width&&!C.height&&(v(u),C.width=u.width,C.height=u.height),R.clearRect(0,0,C.width,C.height),x=x.filter(function(F){return ce(R,F)}),x.length?A=g.frame(ae):ue()}A=g.frame(ae),k=ue});return{addFettis:function(z){return x=x.concat(z),W},canvas:u,promise:W,reset:function(){A&&g.cancel(A),k&&k()}}}function te(u,s){var v=!u,C=!!P(s||{},"resize"),T=P(s,"disableForReducedMotion",Boolean),x=o&&!!P(s||{},"useWorker"),R=x?w():null,A=v?le:ie,k=u&&R?!!u.__confetti_initialized:!1,W=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function ue(F,me,ye){for(var oe=P(F,"particleCount",O),de=P(F,"angle",Number),he=P(F,"spread",Number),fe=P(F,"startVelocity",Number),Me=P(F,"decay",Number),Ie=P(F,"gravity",Number),Ce=P(F,"drift",Number),we=P(F,"colors",H),qe=P(F,"ticks",Number),pe=P(F,"shapes"),r=P(F,"scalar"),e=U(F),i=oe,l=[],m=u.width*e.x,y=u.height*e.y;i--;)l.push(X({x:m,y,angle:de,spread:he,startVelocity:fe,color:we[i%we.length],shape:pe[b(0,pe.length)],ticks:qe,decay:Me,gravity:Ie,drift:Ce,scalar:r}));return z?z.addFettis(l):(z=Y(u,l,A,me,ye),z.promise)}function ae(F){var me=T||P(F,"disableForReducedMotion",Boolean),ye=P(F,"zIndex",Number);if(me&&W)return p(function(fe){fe()});v&&z?u=z.canvas:v&&!u&&(u=V(ye),document.body.appendChild(u)),C&&!k&&A(u);var oe={width:u.width,height:u.height};R&&!k&&R.init(u),k=!0,R&&(u.__confetti_initialized=!0);function de(){if(R){var fe={getBoundingClientRect:function(){if(!v)return u.getBoundingClientRect()}};A(fe),R.postMessage({resize:{width:fe.width,height:fe.height}});return}oe.width=oe.height=null}function he(){z=null,C&&n.removeEventListener("resize",de),v&&u&&(document.body.removeChild(u),u=null,k=!1)}return C&&n.addEventListener("resize",de,!1),R?R.fire(F,oe,he):ue(F,oe,he)}return ae.reset=function(){R&&R.reset(),z&&z.reset()},ae}var se;function $(){return se||(se=te(null,{useWorker:!0,resize:!0})),se}a.exports=function(){return $().apply(this,arguments)},a.exports.reset=function(){$().reset()},a.exports.create=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Pe,!1);const Et=Pe.exports;Pe.exports.create;const wr=()=>({chunks:[],blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[],path:[]},state:{showHint:q(!1),userMoves:q(0),status:q("select"),hiddenBlock:q(null),direction:q("horizontal"),size:q(0),levels:{Easy:{count:25,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:q(null)},img:{src:q(null),srcs:q(null),width:q(0),height:q(0),zIndex:q(0),display:q(!0)}}),br=t=>t[Math.floor(Math.random()*t.length)],vr=t=>(t.blocks=[],t.img.src(null),t.img.width(0),t.img.height(0),t.img.zIndex(0),t.img.display(!0),t.state.hiddenBlock(null),t.state.direction("horizontal"),t.state.showHint(!1),t.state.level(null),t.swap.isDragging=!1,t.swap.src={coords:null,idx:null,id:null,dom:null,img:null},t.swap.target={coords:null,idx:null,id:null,dom:null,img:null},t.swap.swapBlockIds=[],t.swap.history=[],t.swap.path=[],t);window.log=t=>n=>(console.log(t,n),n);const xr=[100,101],Mr=(t,n)=>{const a=t.offsetTop,f=t.offsetLeft,c=n.offsetTop,o=n.offsetLeft,h=a-c,p=f-o;return Math.sqrt(h*h+p*p)},Cr=()=>"xxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)}),Tr=(t,n)=>({img:t,idx:n,id:Cr(),coords:{}}),Er=(t,n)=>{const a=Array.from(n.parentNode.children),f=a.find(o=>o.id==t);f.style.backgroundImage="";const c=o=>xr.includes(Mr(f,o));return a.filter(c).map(o=>o.id)},Rr=(t,n)=>{const a=n.width,f=n.height,c=Math.ceil(a/16),o=[];for(let p=0;p<a;p+=c){const g=document.createElement("canvas"),w=g.getContext("2d");g.width=c,g.height=f,w.drawImage(n,p,0,c,f,0,0,c,f),w.clip(),o.push(g.toDataURL()),t.chunks.push(g)}const h=o.map(Tr);t.blocks=structuredClone(h),t.img.display(!1)},Pr=(t,n)=>{t.state.level(n),t.state.status("select square")},kt=t=>({target:{files:n}})=>(t.file=n[0],Promise.resolve(t.img.src(URL.createObjectURL(t.file)))),Ir=t=>{t.swap.history=[],t.swap.path=[],t.swap.swapBlockIds=[],t.swap.history=[],t.state.hiddenBlock(null),t.state.direction("horizontal"),t.state.level(null),t.state.showHint(!1),t.blocks=[],t.originals=[],t.img.display(!0),kt(t)({target:{files:[t.file]}}).then(()=>t.state.status("select level"))},Nr=t=>{const n=JSON.parse(t.originals).map(f=>JSON.stringify(f.coords)),a=t.blocks.map(f=>JSON.stringify(f.coords));return n.map((f,c)=>f==a[c]).reduce((f,c)=>c?f:f+1,0)},Ft=(t,n,a)=>({target:f})=>(a&&t.swap.history.slice(-2)[0]==n?t.swap.history.pop():t.swap.history.push(n),a&&t.state.userMoves(t.state.userMoves()+1),t.state.hiddenBlock(n),t.swap.swapBlockIds=Er(n,f),t.state.status()=="ready"&&Nr(t)==0&&(t.state.status("completed"),t.img.display(!0),Ar()),t),et=(t,n)=>t.swap.swapBlockIds.includes(n.id),tt=(t,n)=>n.id==t.state.hiddenBlock(),Or=(t,n)=>t.swap.history.slice(-2)[0]==n.id,Sr=(t,n)=>t.swap.isDragging?tt(t,n):et(t,n)||tt(t,n),Dt=(t,n,a)=>{if(!t.swap.swapBlockIds.includes(n.id))return;const f=t.state.hiddenBlock(),c=t.blocks.find(p=>p.id==f),o=c.dom,h=c.coords;c.coords=n.coords,$t(t,n,o),t.swap.dragging=!1,n.coords=h,Ft(t,n.id,a)({target:n.dom})},$t=(t,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(t.img.src())})`,a.style.backgroundSize=`${t.img.width()}px ${t.img.height()}px`,a.style.backgroundPosition=`${t.img.coords.left-n.coords.left}px ${t.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},Oe=(t,n,a)=>({target:f})=>{if(a==t.state.levels[t.state.level()].count)return t.state.status("ready"),t.swap.path=[...t.swap.history],t;if(a==0)return Ft(t,n.id)({target:f}),Oe(t,n,a+1)({target:f});if(a>0){const c=t.swap.history.slice(-2)[0];let o=t.swap.swapBlockIds.filter(w=>w!==c);const h=br(o);if(h==null)return a=t.state.levels[t.state.level()].count,Oe(t,n,a)({target:n.dom});const p=t.blocks.find(w=>w.id==h),g=n.dom;return Dt(t,p),Oe(t,p,a+1)({target:g})}},Ar=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function f(o,h){return Math.random()*(h-o)+o}const c=setInterval(function(){const o=n-Date.now();if(o<=0)return clearInterval(c);const h=50*(o/15e3);Et(Object.assign({},a,{particleCount:h,origin:{x:f(.1,.3),y:Math.random()-.2}})),Et(Object.assign({},a,{particleCount:h,origin:{x:f(.7,.9),y:Math.random()-.2}}))},250)},Lr={view:({attrs:{mdl:t}})=>B(".col ",B("code.text",{style:{letterSpacing:"3px",fontSize:"2rem"}},"PHOTO SCRAMBLE!"),t.img.src()&&B("button.btn",{onclick:()=>vr(t)},"New"),t.state.status()=="ready"&&B("button.btn",{onclick:()=>Ir(t)},"Restart"),t.state.status()=="ready"&&B("label",B("code","show hint"),B("label.switchContainer",B("input.switch",{type:"checkbox",onchange:()=>t.state.showHint(!t.state.showHint())}),B(".slider.round"))))},qr=()=>({oncreate:({dom:t,attrs:{mdl:n,block:a}})=>{const f=n.blocks.find(o=>o.id==a.id),c=t.getBoundingClientRect();a.coords=c,f.coords=c,a.dom=t,f.dom=t,$t(n,a,t)},view:({attrs:{idx:t,mdl:n,block:a}})=>B(".block",{id:a.id,disabled:n.state.status()=="completed",class:tt(n,a)?"isSwapBlock hiddenBlock":et(n,a)?"point isSwapBlock":n.state.status()=="select square"&&"point",onclick:n.state.hiddenBlock()?()=>Dt(n,a,!0):n.state.level()&&n.state.status()!=="completed"&&Oe(n,a,0),draggable:Sr(n,a),style:{border:n.state.status()=="select square"||et(n,a)&&n.state.status()!=="completed"?Or(n,a)&&n.state.showHint()?"2px solid orange":"2px solid var(--hilight)":""}})}),zr=()=>({onupdate:({attrs:{mdl:t}})=>{if(t.state.status()=="select square")return t.originals=JSON.stringify(t.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:t}})=>B(".grid#map",t.blocks.map((n,a)=>B(qr,{idx:a,mdl:t,block:n})))}),Br={view:({attrs:{mdl:t}})=>B("img#img",{onload:({target:n})=>{t.img.width(n.width),t.img.height(n.height),t.img.coords=n.getBoundingClientRect(),Rr(t,n)},src:t.img.src(),style:{opacity:t.img.display()?1:.1}})},jr={view:({attrs:{mdl:t}})=>B("label.col.point",B("code.text",{for:"upload"},"Upload an Image."),B("input.btn",{name:"upload",onchange:n=>kt(t)(n).then(()=>t.state.status("select level")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},kr=t=>({view:()=>B("#app.col",B(Lr,{mdl:t}),t.swap.history.length?[B("pre.text",`Moves: ${t.state.userMoves()}`),B("pre.text",`Minimum Moves: ${t.state.levels[t.state.level()].count}`)]:t.img.src()&&t.state.status()=="select level"&&B(".col",B("code.text","Select a level"),B(".row",Object.keys(t.state.levels).map(n=>B("button.btn",{style:{border:"2px solid var(--hilight)"},onclick:()=>Pr(t,n)},n)))),t.img.src()&&t.state.status()=="select square"&&[B("button.btn",{onclick:()=>{t.state.level(null),t.state.status("select level")}},"change level"),B("code.text","Select a boring square to hide")],t.img.src()?B("#viewer.row",[t.state.status()!=="completed"&&B(zr,{mdl:t})],B(Br,{mdl:t})):B(jr,{mdl:t}))});B.mount(document.body,kr(wr()))});export default Fr();
