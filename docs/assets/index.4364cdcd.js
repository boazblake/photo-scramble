var Ft=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var zr=Ft((jr,Ie)=>{const Dt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerpolicy&&(h.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?h.credentials="include":c.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(c){if(c.ep)return;c.ep=!0;const h=a(c);fetch(c.href,h)}};Dt();var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe,ut;function pe(){if(ut)return Fe;ut=1;function t(n,a,s,c,h,f){return{tag:n,key:a,attrs:s,children:c,text:h,dom:f,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return t.normalize=function(n){return Array.isArray(n)?t("[",void 0,void 0,t.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:t("#",void 0,void 0,String(n),void 0,void 0)},t.normalizeChildren=function(n){var a=[];if(n.length){for(var s=n[0]!=null&&n[0].key!=null,c=1;c<n.length;c++)if((n[c]!=null&&n[c].key!=null)!==s)throw new TypeError(s&&(n[c]!=null||typeof n[c]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var c=0;c<n.length;c++)a[c]=t.normalize(n[c])}return a},Fe=t,Fe}var $t=pe(),Tt=function(){var t=arguments[this],n=this+1,a;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return $t("",t.key,t,a)},Re={}.hasOwnProperty,_t=pe(),Ut=Tt,be=Re,Ht=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Et={};function lt(t){for(var n in t)if(be.call(t,n))return!1;return!0}function Jt(t){for(var n,a="div",s=[],c={};n=Ht.exec(t);){var h=n[1],f=n[2];if(h===""&&f!=="")a=f;else if(h==="#")c.id=f;else if(h===".")s.push(f);else if(n[3][0]==="["){var g=n[6];g&&(g=g.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?s.push(g):c[n[4]]=g===""?g:g||!0}}return s.length>0&&(c.className=s.join(" ")),Et[t]={tag:a,attrs:c}}function Kt(t,n){var a=n.attrs,s=be.call(a,"class"),c=s?a.class:a.className;if(n.tag=t.tag,n.attrs={},!lt(t.attrs)&&!lt(a)){var h={};for(var f in a)be.call(a,f)&&(h[f]=a[f]);a=h}for(var f in t.attrs)be.call(t.attrs,f)&&f!=="className"&&!be.call(a,f)&&(a[f]=t.attrs[f]);(c!=null||t.attrs.className!=null)&&(a.className=c!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(c):c:t.attrs.className!=null?t.attrs.className:null),s&&(a.class=null);for(var f in a)if(be.call(a,f)&&f!=="key"){n.attrs=a;break}return n}function Vt(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var n=Ut.apply(1,arguments);return typeof t=="string"&&(n.children=_t.normalizeChildren(n.children),t!=="[")?Kt(Et[t]||Jt(t),n):(n.tag=t,n)}var It=Vt,Wt=pe(),Zt=function(t){return t==null&&(t=""),Wt("<",void 0,void 0,t,void 0,void 0)},Qt=pe(),Xt=Tt,Yt=function(){var t=Xt.apply(0,arguments);return t.tag="[",t.children=Qt.normalizeChildren(t.children),t},tt=It;tt.trust=Zt;tt.fragment=Yt;var Gt=tt,Ee={exports:{}},De,st;function Pt(){if(st)return De;st=1;var t=function(n){if(!(this instanceof t))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,s=[],c=[],h=w(s,!0),f=w(c,!1),g=a._instance={resolvers:s,rejectors:c},m=typeof setImmediate=="function"?setImmediate:setTimeout;function w(N,T){return function O(R){var x;try{if(T&&R!=null&&(typeof R=="object"||typeof R=="function")&&typeof(x=R.then)=="function"){if(R===a)throw new TypeError("Promise can't be resolved with itself.");d(x.bind(R))}else m(function(){!T&&N.length===0&&console.error("Possible unhandled promise rejection:",R);for(var S=0;S<N.length;S++)N[S](R);s.length=0,c.length=0,g.state=T,g.retry=function(){O(R)}})}catch(S){f(S)}}}function d(N){var T=0;function O(x){return function(S){T++>0||x(S)}}var R=O(f);try{N(O(h),R)}catch(x){R(x)}}d(n)};return t.prototype.then=function(n,a){var s=this,c=s._instance;function h(w,d,N,T){d.push(function(O){if(typeof w!="function")N(O);else try{f(w(O))}catch(R){g&&g(R)}}),typeof c.retry=="function"&&T===c.state&&c.retry()}var f,g,m=new t(function(w,d){f=w,g=d});return h(n,c.resolvers,f,!0),h(a,c.rejectors,g,!1),m},t.prototype.catch=function(n){return this.then(null,n)},t.prototype.finally=function(n){return this.then(function(a){return t.resolve(n()).then(function(){return a})},function(a){return t.resolve(n()).then(function(){return t.reject(a)})})},t.resolve=function(n){return n instanceof t?n:new t(function(a){a(n)})},t.reject=function(n){return new t(function(a,s){s(n)})},t.all=function(n){return new t(function(a,s){var c=n.length,h=0,f=[];if(n.length===0)a([]);else for(var g=0;g<n.length;g++)(function(m){function w(d){h++,f[m]=d,h===c&&a(f)}n[m]!=null&&(typeof n[m]=="object"||typeof n[m]=="function")&&typeof n[m].then=="function"?n[m].then(w,s):w(n[m])})(g)})},t.race=function(n){return new t(function(a,s){for(var c=0;c<n.length;c++)n[c].then(a,s)})},De=t,De}var Te=Pt();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Te:window.Promise.prototype.finally||(window.Promise.prototype.finally=Te.prototype.finally),Ee.exports=window.Promise):typeof we<"u"?(typeof we.Promise>"u"?we.Promise=Te:we.Promise.prototype.finally||(we.Promise.prototype.finally=Te.prototype.finally),Ee.exports=we.Promise):Ee.exports=Te;var $e=pe(),er=function(t){var n=t&&t.document,a,s={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function c(r){return r.attrs&&r.attrs.xmlns||s[r.tag]}function h(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function f(r){var e=r.state;try{return this.apply(e,arguments)}finally{h(r,e)}}function g(){try{return n.activeElement}catch{return null}}function m(r,e,i,o,p,y,I){for(var A=i;A<o;A++){var M=e[A];M!=null&&w(r,M,p,I,y)}}function w(r,e,i,o,p){var y=e.tag;if(typeof y=="string")switch(e.state={},e.attrs!=null&&xe(e.attrs,e,i),y){case"#":d(r,e,p);break;case"<":T(r,e,o,p);break;case"[":O(r,e,i,o,p);break;default:R(r,e,i,o,p)}else S(r,e,i,o,p)}function d(r,e,i){e.dom=n.createTextNode(e.children),l(r,e.dom,i)}var N={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function T(r,e,i,o){var p=e.children.match(/^\s*?<(\w+)/im)||[],y=n.createElement(N[p[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",y=y.firstChild):y.innerHTML=e.children,e.dom=y.firstChild,e.domSize=y.childNodes.length,e.instance=[];for(var I=n.createDocumentFragment(),A;A=y.firstChild;)e.instance.push(A),I.appendChild(A);l(r,I,o)}function O(r,e,i,o,p){var y=n.createDocumentFragment();if(e.children!=null){var I=e.children;m(y,I,0,I.length,i,null,o)}e.dom=y.firstChild,e.domSize=y.childNodes.length,l(r,y,p)}function R(r,e,i,o,p){var y=e.tag,I=e.attrs,A=I&&I.is;o=c(e)||o;var M=o?A?n.createElementNS(o,y,{is:A}):n.createElementNS(o,y):A?n.createElement(y,{is:A}):n.createElement(y);if(e.dom=M,I!=null&&q(e,I,o),l(r,M,p),!u(e)&&e.children!=null){var B=e.children;m(M,B,0,B.length,i,null,o),e.tag==="select"&&I!=null&&z(e,I)}}function x(r,e){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(xe(r.state,r,e),r.attrs!=null&&xe(r.attrs,r,e),r.instance=$e.normalize(f.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function S(r,e,i,o,p){x(e,i),e.instance!=null?(w(r,e.instance,i,o,p),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function F(r,e,i,o,p,y){if(!(e===i||e==null&&i==null))if(e==null||e.length===0)m(r,i,0,i.length,o,p,y);else if(i==null||i.length===0)b(r,e,0,e.length);else{var I=e[0]!=null&&e[0].key!=null,A=i[0]!=null&&i[0].key!=null,M=0,B=0;if(!I)for(;B<e.length&&e[B]==null;)B++;if(!A)for(;M<i.length&&i[M]==null;)M++;if(I!==A)b(r,e,B,e.length),m(r,i,M,i.length,o,p,y);else if(A){for(var ee=e.length-1,W=i.length-1,Oe,te,J,Y,$,qe;ee>=B&&W>=M&&(Y=e[ee],$=i[W],Y.key===$.key);)Y!==$&&D(r,Y,$,o,p,y),$.dom!=null&&(p=$.dom),ee--,W--;for(;ee>=B&&W>=M&&(te=e[B],J=i[M],te.key===J.key);)B++,M++,te!==J&&D(r,te,J,o,V(e,B,p),y);for(;ee>=B&&W>=M&&!(M===W||te.key!==$.key||Y.key!==J.key);)qe=V(e,B,p),le(r,Y,qe),Y!==J&&D(r,Y,J,o,qe,y),++M<=--W&&le(r,te,p),te!==$&&D(r,te,$,o,p,y),$.dom!=null&&(p=$.dom),B++,ee--,Y=e[ee],$=i[W],te=e[B],J=i[M];for(;ee>=B&&W>=M&&Y.key===$.key;)Y!==$&&D(r,Y,$,o,p,y),$.dom!=null&&(p=$.dom),ee--,W--,Y=e[ee],$=i[W];if(M>W)b(r,e,B,ee+1);else if(B>ee)m(r,i,M,W+1,o,p,y);else{var kt=p,at=W-M+1,Ce=new Array(at),ze=0,H=0,Be=2147483647,je=0,Oe,ke;for(H=0;H<at;H++)Ce[H]=-1;for(H=W;H>=M;H--){Oe==null&&(Oe=Q(e,B,ee+1)),$=i[H];var de=Oe[$.key];de!=null&&(Be=de<Be?de:-1,Ce[H-M]=de,Y=e[de],e[de]=null,Y!==$&&D(r,Y,$,o,p,y),$.dom!=null&&(p=$.dom),je++)}if(p=kt,je!==ee-B+1&&b(r,e,B,ee+1),je===0)m(r,i,M,W+1,o,p,y);else if(Be===-1)for(ke=se(Ce),ze=ke.length-1,H=W;H>=M;H--)J=i[H],Ce[H-M]===-1?w(r,J,o,y,p):ke[ze]===H-M?ze--:le(r,J,p),J.dom!=null&&(p=i[H].dom);else for(H=W;H>=M;H--)J=i[H],Ce[H-M]===-1&&w(r,J,o,y,p),J.dom!=null&&(p=i[H].dom)}}else{var Le=e.length<i.length?e.length:i.length;for(M=M<B?M:B;M<Le;M++)te=e[M],J=i[M],!(te===J||te==null&&J==null)&&(te==null?w(r,J,o,y,V(e,M+1,p)):J==null?C(r,te):D(r,te,J,o,V(e,M+1,p),y));e.length>Le&&b(r,e,M,e.length),i.length>Le&&m(r,i,M,i.length,o,p,y)}}}function D(r,e,i,o,p,y){var I=e.tag,A=i.tag;if(I===A){if(i.state=e.state,i.events=e.events,Ne(i,e))return;if(typeof I=="string")switch(i.attrs!=null&&Me(i.attrs,i,o),I){case"#":re(e,i);break;case"<":fe(r,e,i,y,p);break;case"[":ne(r,e,i,o,p,y);break;default:K(e,i,o,y)}else G(r,e,i,o,p,y)}else C(r,e),w(r,i,o,y,p)}function re(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function fe(r,e,i,o,p){e.children!==i.children?(P(r,e),T(r,i,o,p)):(i.dom=e.dom,i.domSize=e.domSize,i.instance=e.instance)}function ne(r,e,i,o,p,y){F(r,e.children,i.children,o,p,y);var I=0,A=i.children;if(i.dom=null,A!=null){for(var M=0;M<A.length;M++){var B=A[M];B!=null&&B.dom!=null&&(i.dom==null&&(i.dom=B.dom),I+=B.domSize||1)}I!==1&&(i.domSize=I)}}function K(r,e,i,o){var p=e.dom=r.dom;o=c(e)||o,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),ue(e,r.attrs,e.attrs,o),u(e)||F(p,r.children,e.children,i,null,o)}function G(r,e,i,o,p,y){if(i.instance=$e.normalize(f.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");Me(i.state,i,o),i.attrs!=null&&Me(i.attrs,i,o),i.instance!=null?(e.instance==null?w(r,i.instance,o,y,p):D(r,e.instance,i.instance,o,p,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):e.instance!=null?(C(r,e.instance),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function Q(r,e,i){for(var o=Object.create(null);e<i;e++){var p=r[e];if(p!=null){var y=p.key;y!=null&&(o[y]=e)}}return o}var ie=[];function se(r){for(var e=[0],i=0,o=0,p=0,y=ie.length=r.length,p=0;p<y;p++)ie[p]=r[p];for(var p=0;p<y;++p)if(r[p]!==-1){var I=e[e.length-1];if(r[I]<r[p]){ie[p]=I,e.push(p);continue}for(i=0,o=e.length-1;i<o;){var A=(i>>>1)+(o>>>1)+(i&o&1);r[e[A]]<r[p]?i=A+1:o=A}r[p]<r[e[i]]&&(i>0&&(ie[p]=e[i-1]),e[i]=p)}for(i=e.length,o=e[i-1];i-- >0;)e[i]=o,o=ie[o];return ie.length=0,e}function V(r,e,i){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return i}function le(r,e,i){var o=n.createDocumentFragment();U(r,o,e),l(r,o,i)}function U(r,e,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var o=0;o<i.instance.length;o++)e.appendChild(i.instance[o]);else if(i.tag!=="[")e.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var o=0;o<i.children.length;o++){var p=i.children[o];p!=null&&U(r,e,p)}break}}function l(r,e,i){i!=null?r.insertBefore(e,i):r.appendChild(e)}function u(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var i=e[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function b(r,e,i,o){for(var p=i;p<o;p++){var y=e[p];y!=null&&C(r,y)}}function C(r,e){var i=0,o=e.state,p,y;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var I=f.call(e.state.onbeforeremove,e);I!=null&&typeof I.then=="function"&&(i=1,p=I)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var I=f.call(e.attrs.onbeforeremove,e);I!=null&&typeof I.then=="function"&&(i|=2,y=I)}if(h(e,o),!i)E(e),v(r,e);else{if(p!=null){var A=function(){i&1&&(i&=2,i||M())};p.then(A,A)}if(y!=null){var A=function(){i&2&&(i&=1,i||M())};y.then(A,A)}}function M(){h(e,o),E(e),v(r,e)}}function P(r,e){for(var i=0;i<e.instance.length;i++)r.removeChild(e.instance[i])}function v(r,e){for(;e.dom!=null&&e.dom.parentNode===r;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")P(r,e);else{if(e.tag!=="["&&(r.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var i=0;i<e.children.length;i++){var o=e.children[i];o!=null&&v(r,o)}}break}}function E(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&f.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&f.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&E(r.instance);else{var e=r.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var o=e[i];o!=null&&E(o)}}}function q(r,e,i){r.tag==="input"&&e.type!=null&&r.dom.setAttribute("type",e.type);var o=e!=null&&r.tag==="input"&&e.type==="file";for(var p in e)j(r,p,null,e[p],i,o)}function j(r,e,i,o,p,y){if(!(e==="key"||e==="is"||o==null||k(e)||i===o&&!ae(r,e)&&typeof o!="object"||e==="type"&&r.tag==="input")){if(e[0]==="o"&&e[1]==="n")return Pe(r,e,o);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),o);else if(e==="style")me(r.dom,i,o);else if(ye(r,e,p)){if(e==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+o&&(y||r.dom===g())||r.tag==="select"&&i!==null&&r.dom.value===""+o||r.tag==="option"&&i!==null&&r.dom.value===""+o)return;if(y&&""+o!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[e]=o}else typeof o=="boolean"?o?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,o)}}function X(r,e,i,o){if(!(e==="key"||e==="is"||i==null||k(e)))if(e[0]==="o"&&e[1]==="n")Pe(r,e,void 0);else if(e==="style")me(r.dom,i,null);else if(ye(r,e,o)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===g()))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var p=e.indexOf(":");p!==-1&&(e=e.slice(p+1)),i!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function z(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+e.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in e&&j(r,"selectedIndex",null,e.selectedIndex,void 0)}function ue(r,e,i,o){if(e&&e===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var p=r.tag==="input"&&i.type==="file";for(var y in i)j(r,y,e&&e[y],i[y],o,p)}var I;if(e!=null)for(var y in e)(I=e[y])!=null&&(i==null||i[y]==null)&&X(r,y,I,o)}function ae(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===g()||r.tag==="option"&&r.dom.parentNode===n.activeElement}function k(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,e,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}var ve=/[A-Z]/g;function oe(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(ve,oe)}function me(r,e,i){if(e!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(e==null||typeof e!="object"){r.style.cssText="";for(var o in i){var p=i[o];p!=null&&r.style.setProperty(he(o),String(p))}}else{for(var o in i){var p=i[o];p!=null&&(p=String(p))!==String(e[o])&&r.style.setProperty(he(o),p)}for(var o in e)e[o]!=null&&i[o]==null&&r.style.removeProperty(he(o))}}function ce(){this._=a}ce.prototype=Object.create(null),ce.prototype.handleEvent=function(r){var e=this["on"+r.type],i;typeof e=="function"?i=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Pe(r,e,i){if(r.events!=null){if(r.events._=a,r.events[e]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new ce,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i)}function xe(r,e,i){typeof r.oninit=="function"&&f.call(r.oninit,e),typeof r.oncreate=="function"&&i.push(f.bind(r.oncreate,e))}function Me(r,e,i){typeof r.onupdate=="function"&&i.push(f.bind(r.onupdate,e))}function Ne(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=f.call(r.attrs.onbeforeupdate,r,e);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=f.call(r.state.onbeforeupdate,r,e);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var ge;return function(r,e,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(ge!=null&&r.contains(ge))throw new TypeError("Node is currently being rendered to and thus is locked.");var o=a,p=ge,y=[],I=g(),A=r.namespaceURI;ge=r,a=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),e=$e.normalizeChildren(Array.isArray(e)?e:[e]),F(r,r.vnodes,e,y,null,A==="http://www.w3.org/1999/xhtml"?void 0:A),r.vnodes=e,I!=null&&g()!==I&&typeof I.focus=="function"&&I.focus();for(var M=0;M<y.length;M++)y[M]()}finally{a=o,ge=p}}},Nt=er(typeof window<"u"?window:null),ct=pe(),tr=function(t,n,a){var s=[],c=!1,h=-1;function f(){for(h=0;h<s.length;h+=2)try{t(s[h],ct(s[h+1]),g)}catch(w){a.error(w)}h=-1}function g(){c||(c=!0,n(function(){c=!1,f()}))}g.sync=f;function m(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var N=s.indexOf(w);N>=0&&(s.splice(N,2),N<=h&&(h-=2),t(w,[])),d!=null&&(s.push(w,d),t(w,ct(d),g))}return{mount:m,redraw:g}},rr=Nt,rt=tr(rr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),_e,ft;function Ot(){return ft||(ft=1,_e=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var n=[];for(var a in t)s(a,t[a]);return n.join("&");function s(c,h){if(Array.isArray(h))for(var f=0;f<h.length;f++)s(c+"["+f+"]",h[f]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var f in h)s(c+"["+f+"]",h[f]);else n.push(encodeURIComponent(c)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}),_e}var Ue,ot;function Rt(){if(ot)return Ue;ot=1;var t=Re;return Ue=Object.assign||function(n,a){for(var s in a)t.call(a,s)&&(n[s]=a[s])},Ue}var He,ht;function nt(){if(ht)return He;ht=1;var t=Ot(),n=Rt();return He=function(a,s){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(s==null)return a;var c=a.indexOf("?"),h=a.indexOf("#"),f=h<0?a.length:h,g=c<0?f:c,m=a.slice(0,g),w={};n(w,s);var d=m.replace(/:([^\/\.-]+)(\.{3})?/g,function(F,D,re){return delete w[D],s[D]==null?F:re?s[D]:encodeURIComponent(String(s[D]))}),N=d.indexOf("?"),T=d.indexOf("#"),O=T<0?d.length:T,R=N<0?O:N,x=d.slice(0,R);c>=0&&(x+=a.slice(c,f)),N>=0&&(x+=(c<0?"?":"&")+d.slice(N,O));var S=t(w);return S&&(x+=(c<0&&N<0?"?":"&")+S),h>=0&&(x+=a.slice(h)),T>=0&&(x+=(h<0?"":"&")+d.slice(T)),x},He}var nr=nt(),pt=Re,ir=function(t,n,a){var s=0;function c(g){return new n(g)}c.prototype=n.prototype,c.__proto__=n;function h(g){return function(m,w){typeof m!="string"?(w=m,m=m.url):w==null&&(w={});var d=new n(function(R,x){g(nr(m,w.params),w,function(S){if(typeof w.type=="function")if(Array.isArray(S))for(var F=0;F<S.length;F++)S[F]=new w.type(S[F]);else S=new w.type(S);R(S)},x)});if(w.background===!0)return d;var N=0;function T(){--N===0&&typeof a=="function"&&a()}return O(d);function O(R){var x=R.then;return R.constructor=c,R.then=function(){N++;var S=x.apply(R,arguments);return S.then(T,function(F){if(T(),N===0)throw F}),O(S)},R}}}function f(g,m){for(var w in g.headers)if(pt.call(g.headers,w)&&w.toLowerCase()===m)return!0;return!1}return{request:h(function(g,m,w,d){var N=m.method!=null?m.method.toUpperCase():"GET",T=m.body,O=(m.serialize==null||m.serialize===JSON.serialize)&&!(T instanceof t.FormData||T instanceof t.URLSearchParams),R=m.responseType||(typeof m.extract=="function"?"":"json"),x=new t.XMLHttpRequest,S=!1,F=!1,D=x,re,fe=x.abort;x.abort=function(){S=!0,fe.call(this)},x.open(N,g,m.async!==!1,typeof m.user=="string"?m.user:void 0,typeof m.password=="string"?m.password:void 0),O&&T!=null&&!f(m,"content-type")&&x.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof m.deserialize!="function"&&!f(m,"accept")&&x.setRequestHeader("Accept","application/json, text/*"),m.withCredentials&&(x.withCredentials=m.withCredentials),m.timeout&&(x.timeout=m.timeout),x.responseType=R;for(var ne in m.headers)pt.call(m.headers,ne)&&x.setRequestHeader(ne,m.headers[ne]);x.onreadystatechange=function(K){if(!S&&K.target.readyState===4)try{var G=K.target.status>=200&&K.target.status<300||K.target.status===304||/^file:\/\//i.test(g),Q=K.target.response,ie;if(R==="json"){if(!K.target.responseType&&typeof m.extract!="function")try{Q=JSON.parse(K.target.responseText)}catch{Q=null}}else(!R||R==="text")&&Q==null&&(Q=K.target.responseText);if(typeof m.extract=="function"?(Q=m.extract(K.target,m),G=!0):typeof m.deserialize=="function"&&(Q=m.deserialize(Q)),G)w(Q);else{var se=function(){try{ie=K.target.responseText}catch{ie=Q}var V=new Error(ie);V.code=K.target.status,V.response=Q,d(V)};x.status===0?setTimeout(function(){F||se()}):se()}}catch(V){d(V)}},x.ontimeout=function(K){F=!0;var G=new Error("Request timed out");G.code=K.target.status,d(G)},typeof m.config=="function"&&(x=m.config(x,m,g)||x,x!==D&&(re=x.abort,x.abort=function(){S=!0,re.call(this)})),T==null?x.send():typeof m.serialize=="function"?x.send(m.serialize(T)):T instanceof t.FormData||T instanceof t.URLSearchParams?x.send(T):x.send(JSON.stringify(T))}),jsonp:h(function(g,m,w,d){var N=m.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+s++,T=t.document.createElement("script");t[N]=function(O){delete t[N],T.parentNode.removeChild(T),w(O)},T.onerror=function(){delete t[N],T.parentNode.removeChild(T),d(new Error("JSONP request failed"))},T.src=g+(g.indexOf("?")<0?"?":"&")+encodeURIComponent(m.callbackKey||"callback")+"="+encodeURIComponent(N),t.document.documentElement.appendChild(T)})}},ar=Ee.exports,ur=rt,lr=ir(typeof window<"u"?window:null,ar,ur.redraw),Je,mt;function St(){if(mt)return Je;mt=1;function t(n){try{return decodeURIComponent(n)}catch{return n}}return Je=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),s={},c={},h=0;h<a.length;h++){var f=a[h].split("="),g=t(f[0]),m=f.length===2?t(f[1]):"";m==="true"?m=!0:m==="false"&&(m=!1);var w=g.split(/\]\[?|\[/),d=c;g.indexOf("[")>-1&&w.pop();for(var N=0;N<w.length;N++){var T=w[N],O=w[N+1],R=O==""||!isNaN(parseInt(O,10));if(T===""){var g=w.slice(0,N).join();s[g]==null&&(s[g]=Array.isArray(d)?d.length:0),T=s[g]++}else if(T==="__proto__")break;if(N===w.length-1)d[T]=m;else{var x=Object.getOwnPropertyDescriptor(d,T);x!=null&&(x=x.value),x==null&&(d[T]=x=R?[]:{}),d=x}}}return c},Je}var Ke,gt;function it(){if(gt)return Ke;gt=1;var t=St();return Ke=function(n){var a=n.indexOf("?"),s=n.indexOf("#"),c=s<0?n.length:s,h=a<0?c:a,f=n.slice(0,h).replace(/\/{2,}/g,"/");return f?(f[0]!=="/"&&(f="/"+f),f.length>1&&f[f.length-1]==="/"&&(f=f.slice(0,-1))):f="/",{path:f,params:a<0?{}:t(n.slice(a+1,c))}},Ke}var Ve,yt;function sr(){if(yt)return Ve;yt=1;var t=it();return Ve=function(n){var a=t(n),s=Object.keys(a.params),c=[],h=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(f,g,m){return g==null?"\\"+f:(c.push({k:g,r:m==="..."}),m==="..."?"(.*)":m==="."?"([^/]+)\\.":"([^/]+)"+(m||""))})+"$");return function(f){for(var g=0;g<s.length;g++)if(a.params[s[g]]!==f.params[s[g]])return!1;if(!c.length)return h.test(f.path);var m=h.exec(f.path);if(m==null)return!1;for(var g=0;g<c.length;g++)f.params[c[g].k]=c[g].r?m[g+1]:decodeURIComponent(m[g+1]);return!0}},Ve}var We,dt;function At(){if(dt)return We;dt=1;var t=Re,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return We=function(a,s){var c={};if(s!=null)for(var h in a)t.call(a,h)&&!n.test(h)&&s.indexOf(h)<0&&(c[h]=a[h]);else for(var h in a)t.call(a,h)&&!n.test(h)&&(c[h]=a[h]);return c},We}var Ze,wt;function cr(){if(wt)return Ze;wt=1;var t=pe(),n=It,a=Ee.exports,s=nt(),c=it(),h=sr(),f=Rt(),g=At(),m={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Ze=function(d,N){var T=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,O=a.resolve(),R=!1,x=!1,S=0,F,D,re=m,fe,ne,K,G,Q={onbeforeupdate:function(){return S=S?2:1,!(!S||m===re)},onremove:function(){d.removeEventListener("popstate",V,!1),d.removeEventListener("hashchange",se,!1)},view:function(){if(!(!S||m===re)){var l=[t(fe,ne.key,ne)];return re&&(l=re.render(l[0])),l}}},ie=U.SKIP={};function se(){R=!1;var l=d.location.hash;U.prefix[0]!=="#"&&(l=d.location.search+l,U.prefix[0]!=="?"&&(l=d.location.pathname+l,l[0]!=="/"&&(l="/"+l)));var u=l.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice(U.prefix.length),b=c(u);f(b.params,d.history.state);function C(v){console.error(v),le(D,null,{replace:!0})}P(0);function P(v){for(;v<F.length;v++)if(F[v].check(b)){var E=F[v].component,q=F[v].route,j=E,X=G=function(z){if(X===G){if(z===ie)return P(v+1);fe=z!=null&&(typeof z.view=="function"||typeof z=="function")?z:"div",ne=b.params,K=u,G=null,re=E.render?E:null,S===2?N.redraw():(S=2,N.redraw.sync())}};E.view||typeof E=="function"?(E={},X(j)):E.onmatch?O.then(function(){return E.onmatch(b.params,u,q)}).then(X,u===D?null:C):X("div");return}if(u===D)throw new Error("Could not resolve default route "+D+".");le(D,null,{replace:!0})}}function V(){R||(R=!0,T(se))}function le(l,u,b){if(l=s(l,u),x){V();var C=b?b.state:null,P=b?b.title:null;b&&b.replace?d.history.replaceState(C,P,U.prefix+l):d.history.pushState(C,P,U.prefix+l)}else d.location.href=U.prefix+l}function U(l,u,b){if(!l)throw new TypeError("DOM element being rendered to does not exist.");if(F=Object.keys(b).map(function(P){if(P[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(P))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:P,component:b[P],check:h(P)}}),D=u,u!=null){var C=c(u);if(!F.some(function(P){return P.check(C)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",V,!1):U.prefix[0]==="#"&&d.addEventListener("hashchange",se,!1),x=!0,N.mount(l,Q),se()}return U.set=function(l,u,b){G!=null&&(b=b||{},b.replace=!0),G=null,le(l,u,b)},U.get=function(){return K},U.prefix="#!",U.Link={view:function(l){var u=n(l.attrs.selector||"a",g(l.attrs,["options","params","selector","onclick"]),l.children),b,C,P;return(u.attrs.disabled=Boolean(u.attrs.disabled))?(u.attrs.href=null,u.attrs["aria-disabled"]="true"):(b=l.attrs.options,C=l.attrs.onclick,P=s(u.attrs.href,l.attrs.params),u.attrs.href=U.prefix+P,u.attrs.onclick=function(v){var E;typeof C=="function"?E=C.call(v.currentTarget,v):C==null||typeof C!="object"||typeof C.handleEvent=="function"&&C.handleEvent(v),E!==!1&&!v.defaultPrevented&&(v.button===0||v.which===0||v.which===1)&&(!v.currentTarget.target||v.currentTarget.target==="_self")&&!v.ctrlKey&&!v.metaKey&&!v.shiftKey&&!v.altKey&&(v.preventDefault(),v.redraw=!1,U.set(P,null,b))}),u}},U.param=function(l){return ne&&l!=null?ne[l]:ne},U},Ze}var Qe,bt;function fr(){if(bt)return Qe;bt=1;var t=rt;return Qe=cr()(typeof window<"u"?window:null,t),Qe}var Se=Gt,Lt=lr,qt=rt,Z=function(){return Se.apply(this,arguments)};Z.m=Se;Z.trust=Se.trust;Z.fragment=Se.fragment;Z.Fragment="[";Z.mount=qt.mount;Z.route=fr();Z.render=Nt;Z.redraw=qt.redraw;Z.request=Lt.request;Z.jsonp=Lt.jsonp;Z.parseQueryString=St();Z.buildQueryString=Ot();Z.parsePathname=it();Z.buildPathname=nt();Z.vnode=pe();Z.PromisePolyfill=Pt();Z.censor=At();var _=Z;L.SKIP={};L.lift=pr;L.scan=or;L.merge=zt;L.combine=Ae;L.scanMerge=hr;L["fantasy-land/of"]=L;var vt=!1;Object.defineProperty(L,"HALT",{get:function(){return vt||console.log("HALT is deprecated and has been renamed to SKIP"),vt=!0,L.SKIP}});function L(t){var n=[],a=[];function s(f){return arguments.length&&f!==L.SKIP&&(t=f,xt(s)&&(s.changing(),s.state="active",n.forEach(function(g,m){g(a[m](t))}))),t}s.constructor=L,s.state=arguments.length&&t!==L.SKIP?"active":"pending",s.parents=[],s.changing=function(){xt(s)&&(s.state="changing"),n.forEach(function(f){f.changing()})},s.map=function(f,g){var m=s.state==="active"&&g!==L.SKIP?L(f(t)):L();return m.parents.push(s),n.push(m),a.push(f),m};var c;function h(){return c=L(),c.map(function(f){return f===!0&&(s.parents.forEach(function(g){g.unregisterChild(s)}),s.state="ended",s.parents.length=n.length=a.length=0),f}),c}return s.toJSON=function(){return t!=null&&typeof t.toJSON=="function"?t.toJSON():t},s["fantasy-land/map"]=s.map,s["fantasy-land/ap"]=function(f){return Ae(function(g,m){return g()(m())},[f,s])},s.unregisterChild=function(f){var g=n.indexOf(f);g!==-1&&(n.splice(g,1),a.splice(g,1))},Object.defineProperty(s,"end",{get:function(){return c||h()}}),s}function Ae(t,n){var a=n.every(function(g){if(g.constructor!==L)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return g.state==="active"}),s=a?L(t.apply(null,n.concat([n]))):L(),c=[],h=n.map(function(g){return g.map(function(m){return c.push(g),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,s(t.apply(null,n.concat([c]))),c=[]),m},L.SKIP)}),f=s.end.map(function(g){g===!0&&(h.forEach(function(m){m.end(!0)}),f.end(!0))});return s}function zt(t){return Ae(function(){return t.map(function(n){return n()})},t)}function or(t,n,a){var s=a.map(function(c){var h=t(n,c);return h!==L.SKIP&&(n=h),h});return s(n),s}function hr(t,n){var a=t.map(function(c){return c[0]}),s=Ae(function(){var c=arguments[arguments.length-1];return a.forEach(function(h,f){c.indexOf(h)>-1&&(n=t[f][1](n,h()))}),n},a);return s(n),s}function pr(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);return zt(n).map(function(a){return t.apply(void 0,a)})}function xt(t){return t.state==="pending"||t.state==="active"||t.state==="changing"}var Ie={};(function t(n,a,s,c){var h=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function f(){}function g(l){var u=a.exports.Promise,b=u!==void 0?u:n.Promise;return typeof b=="function"?new b(l):(l(f,f),null)}var m=function(){var l=Math.floor(16.666666666666668),u,b,C={},P=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function(v){var E=Math.random();return C[E]=requestAnimationFrame(function q(j){P===j||P+l-1<j?(P=j,delete C[E],v()):C[E]=requestAnimationFrame(q)}),E},b=function(v){C[v]&&cancelAnimationFrame(C[v])}):(u=function(v){return setTimeout(v,l)},b=function(v){return clearTimeout(v)}),{frame:u,cancel:b}}(),w=function(){var l,u,b={};function C(P){function v(E,q){P.postMessage({options:E||{},callback:q})}P.init=function(q){var j=q.transferControlToOffscreen();P.postMessage({canvas:j},[j])},P.fire=function(q,j,X){if(u)return v(q,null),u;var z=Math.random().toString(36).slice(2);return u=g(function(ue){function ae(k){k.data.callback===z&&(delete b[z],P.removeEventListener("message",ae),u=null,X(),ue())}P.addEventListener("message",ae),v(q,z),b[z]=ae.bind(null,{data:{callback:z}})}),u},P.reset=function(){P.postMessage({reset:!0});for(var q in b)b[q](),delete b[q]}}return function(){if(l)return l;if(!s&&h){var P=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{l=new Worker(URL.createObjectURL(new Blob([P])))}catch(v){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",v),null}C(l)}return l}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(l,u){return u?u(l):l}function T(l){return l!=null}function O(l,u,b){return N(l&&T(l[u])?l[u]:d[u],b)}function R(l){return l<0?0:Math.floor(l)}function x(l,u){return Math.floor(Math.random()*(u-l))+l}function S(l){return parseInt(l,16)}function F(l){return l.map(D)}function D(l){var u=String(l).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:S(u.substring(0,2)),g:S(u.substring(2,4)),b:S(u.substring(4,6))}}function re(l){var u=O(l,"origin",Object);return u.x=O(u,"x",Number),u.y=O(u,"y",Number),u}function fe(l){l.width=document.documentElement.clientWidth,l.height=document.documentElement.clientHeight}function ne(l){var u=l.getBoundingClientRect();l.width=u.width,l.height=u.height}function K(l){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=l,u}function G(l,u,b,C,P,v,E,q,j){l.save(),l.translate(u,b),l.rotate(v),l.scale(C,P),l.arc(0,0,1,E,q,j),l.restore()}function Q(l){var u=l.angle*(Math.PI/180),b=l.spread*(Math.PI/180);return{x:l.x,y:l.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:l.startVelocity*.5+Math.random()*l.startVelocity,angle2D:-u+(.5*b-Math.random()*b),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:l.color,shape:l.shape,tick:0,totalTicks:l.ticks,decay:l.decay,drift:l.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:l.gravity*3,ovalScalar:.6,scalar:l.scalar}}function ie(l,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.wobble+=u.wobbleSpeed,u.velocity*=u.decay,u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble);var b=u.tick++/u.totalTicks,C=u.x+u.random*u.tiltCos,P=u.y+u.random*u.tiltSin,v=u.wobbleX+u.random*u.tiltCos,E=u.wobbleY+u.random*u.tiltSin;if(l.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-b)+")",l.beginPath(),u.shape==="circle")l.ellipse?l.ellipse(u.x,u.y,Math.abs(v-C)*u.ovalScalar,Math.abs(E-P)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):G(l,u.x,u.y,Math.abs(v-C)*u.ovalScalar,Math.abs(E-P)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var q=Math.PI/2*3,j=4*u.scalar,X=8*u.scalar,z=u.x,ue=u.y,ae=5,k=Math.PI/ae;ae--;)z=u.x+Math.cos(q)*X,ue=u.y+Math.sin(q)*X,l.lineTo(z,ue),q+=k,z=u.x+Math.cos(q)*j,ue=u.y+Math.sin(q)*j,l.lineTo(z,ue),q+=k;else l.moveTo(Math.floor(u.x),Math.floor(u.y)),l.lineTo(Math.floor(u.wobbleX),Math.floor(P)),l.lineTo(Math.floor(v),Math.floor(E)),l.lineTo(Math.floor(C),Math.floor(u.wobbleY));return l.closePath(),l.fill(),u.tick<u.totalTicks}function se(l,u,b,C,P){var v=u.slice(),E=l.getContext("2d"),q,j,X=g(function(z){function ue(){q=j=null,E.clearRect(0,0,C.width,C.height),P(),z()}function ae(){s&&!(C.width===c.width&&C.height===c.height)&&(C.width=l.width=c.width,C.height=l.height=c.height),!C.width&&!C.height&&(b(l),C.width=l.width,C.height=l.height),E.clearRect(0,0,C.width,C.height),v=v.filter(function(k){return ie(E,k)}),v.length?q=m.frame(ae):ue()}q=m.frame(ae),j=ue});return{addFettis:function(z){return v=v.concat(z),X},canvas:l,promise:X,reset:function(){q&&m.cancel(q),j&&j()}}}function V(l,u){var b=!l,C=!!O(u||{},"resize"),P=O(u,"disableForReducedMotion",Boolean),v=h&&!!O(u||{},"useWorker"),E=v?w():null,q=b?fe:ne,j=l&&E?!!l.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function ue(k,ye,ve){for(var oe=O(k,"particleCount",R),he=O(k,"angle",Number),me=O(k,"spread",Number),ce=O(k,"startVelocity",Number),Pe=O(k,"decay",Number),xe=O(k,"gravity",Number),Me=O(k,"drift",Number),Ne=O(k,"colors",F),ge=O(k,"ticks",Number),r=O(k,"shapes"),e=O(k,"scalar"),i=re(k),o=oe,p=[],y=l.width*i.x,I=l.height*i.y;o--;)p.push(Q({x:y,y:I,angle:he,spread:me,startVelocity:ce,color:Ne[o%Ne.length],shape:r[x(0,r.length)],ticks:ge,decay:Pe,gravity:xe,drift:Me,scalar:e}));return z?z.addFettis(p):(z=se(l,p,q,ye,ve),z.promise)}function ae(k){var ye=P||O(k,"disableForReducedMotion",Boolean),ve=O(k,"zIndex",Number);if(ye&&X)return g(function(ce){ce()});b&&z?l=z.canvas:b&&!l&&(l=K(ve),document.body.appendChild(l)),C&&!j&&q(l);var oe={width:l.width,height:l.height};E&&!j&&E.init(l),j=!0,E&&(l.__confetti_initialized=!0);function he(){if(E){var ce={getBoundingClientRect:function(){if(!b)return l.getBoundingClientRect()}};q(ce),E.postMessage({resize:{width:ce.width,height:ce.height}});return}oe.width=oe.height=null}function me(){z=null,C&&n.removeEventListener("resize",he),b&&l&&(document.body.removeChild(l),l=null,j=!1)}return C&&n.addEventListener("resize",he,!1),E?E.fire(k,oe,me):ue(k,oe,me)}return ae.reset=function(){E&&E.reset(),z&&z.reset()},ae}var le;function U(){return le||(le=V(null,{useWorker:!0,resize:!0})),le}a.exports=function(){return U().apply(this,arguments)},a.exports.reset=function(){U().reset()},a.exports.create=V})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ie,!1);const Mt=Ie.exports;Ie.exports.create;const mr=()=>({cell:{size:L(0)},blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[]},state:{status:L("select"),hiddenBlock:L(null),direction:L("horizontal"),size:L(0),levels:{Easy:{count:10,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:L(null)},img:{search:L(null),src:L(null),srcs:L(null),width:L(0),height:L(0),zIndex:L(0),display:L(!0)}}),Ct=(t,n)=>Array.from({length:Math.ceil(t.length/n)},(s,c)=>c*n).map(s=>t.slice(s,s+n)),gr=t=>(t.blocks=[],t.img.src(null),t.img.search(null),t.img.width(0),t.img.height(0),t.img.zIndex(0),t.img.display(!0),t.state.hiddenBlock(null),t.state.direction("horizontal"),t.state.level(null),t.swap.isDragging=!1,t.swap.src={coords:null,idx:null,id:null,dom:null,img:null},t.swap.target={coords:null,idx:null,id:null,dom:null,img:null},t.swap.swapBlockIds=[],t.swap.history=[],t.cell.size(0),t),yr=[100,101],dr=(t,n)=>{const a=t.offsetTop,s=t.offsetLeft,c=n.offsetTop,h=n.offsetLeft,f=a-c,g=s-h;return Math.sqrt(f*f+g*g)},wr=()=>"xxxxxxxx".replace(/[xy]/g,t=>{let n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)}),br=(t,n)=>({img:t,idx:n,id:wr(),coords:{}}),vr=(t,n)=>{const a=Array.from(n.parentNode.children),s=a.find(h=>h.id==t);s.style.backgroundImage="";const c=h=>yr.includes(dr(s,h));return a.filter(c).map(h=>h.id)},xr=(t,n)=>{const a=n.width,s=n.height,c=Math.ceil(a/16),h=[];for(let g=0;g<a;g+=c){const m=document.createElement("canvas"),w=m.getContext("2d");m.width=c,m.height=s,w.drawImage(n,g,0,c,s,0,0,c,s),h.push(m.toDataURL())}const f=h.map(br);t.blocks=structuredClone(f),t.img.display(!1)},Mr=(t,n)=>{t.state.level(n),t.state.status("select square")},Cr=t=>({target:{files:n}})=>(t.file=n[0],Promise.resolve(t.img.src(URL.createObjectURL(t.file)))),Tr=t=>{const n=JSON.parse(t.originals).map(s=>JSON.stringify(s.coords)),a=t.blocks.map(s=>JSON.stringify(s.coords));return n.map((s,c)=>s==a[c]).reduce((s,c)=>c?s:s+1,0)},Xe=(t,n)=>({target:a})=>(t.swap.history.push(n),t.state.hiddenBlock(n),t.swap.swapBlockIds=vr(n,a),t.state.status()=="ready"&&Tr(t)==0&&(t.state.status("completed"),t.img.display(!0),Ir()),t),Ye=(t,n)=>t.swap.swapBlockIds.includes(n.id),Ge=(t,n)=>n.id==t.state.hiddenBlock(),Er=(t,n)=>t.swap.isDragging?Ge(t,n):Ye(t,n)||Ge(t,n),Bt=(t,n)=>{if(!t.swap.swapBlockIds.includes(n.id))return;const a=t.state.hiddenBlock(),s=t.blocks.find(f=>f.id==a),c=s.dom,h=s.coords;s.coords=n.coords,jt(t,n,c),t.swap.dragging=!1,n.coords=h,Xe(t,n.id)({target:n.dom})},jt=(t,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(t.img.src())})`,a.style.backgroundSize=`${t.img.width()}px ${t.img.height()}px`,a.style.backgroundPosition=`${t.img.coords.left-n.coords.left}px ${t.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},et=(t,n,a)=>({target:s})=>{if(a>=t.state.levels[t.state.level()].count)return t.state.status("ready"),Nr(t),t;if(a==0)return Xe(t,n.id)({target:s}),et(t,n,a+1)({target:s});if(a>0){Xe(t,n.id)({target:s});const c=t.swap.swapBlockIds[Math.floor(Math.random()*t.swap.swapBlockIds.length)],h=t.blocks.find(g=>g.id==c),f=n.dom;return Bt(t,h),et(t,h,a+1)({target:f})}},Ir=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function s(h,f){return Math.random()*(f-h)+h}const c=setInterval(function(){const h=n-Date.now();if(h<=0)return clearInterval(c);const f=50*(h/15e3);Mt(Object.assign({},a,{particleCount:f,origin:{x:s(.1,.3),y:Math.random()-.2}})),Mt(Object.assign({},a,{particleCount:f,origin:{x:s(.7,.9),y:Math.random()-.2}}))},250)},Pr=t=>t.swap.history.length-t.state.levels[t.state.level()].subtract,Nr=t=>{const n=JSON.parse(t.originals).map(f=>JSON.stringify(f.coords)),a=t.blocks.map(f=>JSON.stringify(f.coords)),s=Ct(n.map((f,g)=>g),4),c=Ct(n.map(f=>a.indexOf(f)),4),h=t.blocks.map(f=>f.id).indexOf(t.state.hiddenBlock());console.log(s,c,h,console.log(minSwaps(c,h)))},Or={view:({attrs:{mdl:t}})=>_(".col ",_("code.text",{style:{letterSpacing:"3px",fontSize:"2rem"}},"PHOTO SCRAMBLE!"),t.img.src()&&_("button.btn",{onclick:()=>gr(t)},"New"))},Rr=()=>({oncreate:({dom:t,attrs:{mdl:n,block:a}})=>{const s=n.blocks.find(h=>h.id==a.id),c=t.getBoundingClientRect();a.coords=c,s.coords=c,a.dom=t,s.dom=t,jt(n,a,t)},view:({attrs:{mdl:t,block:n}})=>_(".block",{id:n.id,disabled:t.state.status()=="completed",class:Ge(t,n)?"isSwapBlock hiddenBlock":Ye(t,n)?"point isSwapBlock":t.state.status()=="select square"&&"point",onclick:t.state.hiddenBlock()?()=>Bt(t,n):t.state.level()&&t.state.status()!=="completed"&&et(t,n,0),draggable:Er(t,n),style:{border:t.state.status()=="select square"||Ye(t,n)&&t.state.status()!=="completed"?"2px solid var(--hilight)":""}})}),Sr=()=>({onupdate:({attrs:{mdl:t}})=>{if(t.state.status()=="select square")return t.originals=JSON.stringify(t.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:t}})=>_(".grid#map",t.blocks.map((n,a)=>_(Rr,{idx:a,mdl:t,block:n})))}),Ar={view:({attrs:{mdl:t}})=>_("img#img",{onload:({target:n})=>{t.img.width(n.width),t.img.height(n.height),t.img.coords=n.getBoundingClientRect(),xr(t,n)},src:t.img.src(),style:{opacity:t.img.display()?1:.1}})},Lr={view:({attrs:{mdl:t}})=>_("label.col.point",_("code.text",{for:"upload"},"Upload an Image."),_("input.btn",{name:"upload",onchange:n=>Cr(t)(n).then(()=>t.state.status("select level")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},qr=t=>({view:()=>_("#app.col",_(Or,{mdl:t}),t.swap.history.length?_("pre.text",`Moves: ${Pr(t)}`):t.img.src()&&t.state.status()=="select level"&&_(".col",_("code.text","Select a level"),_(".row",Object.keys(t.state.levels).map(n=>_("button.btn",{style:{border:"2px solid var(--hilight)"},onclick:()=>Mr(t,n)},n)))),t.img.src()&&t.state.status()=="select square"&&[_("button.btn",{onclick:()=>{t.state.level(null),t.state.status("select level")}},"change level"),_("code.text","Select a boring square to hide")],t.img.src()?_("#viewer.row",[t.state.status()!=="completed"&&_(Sr,{mdl:t})],_(Ar,{mdl:t})):_(Lr,{mdl:t}))});_.mount(document.body,qr(mr()))});export default zr();
