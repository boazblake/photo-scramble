const $t=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(o){if(o.ep)return;o.ep=!0;const l=a(o);fetch(o.href,l)}};$t();var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He,ut;function ge(){if(ut)return He;ut=1;function e(n,a,u,o,l,h){return{tag:n,key:a,attrs:u,children:o,text:l,dom:h,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return e.normalize=function(n){return Array.isArray(n)?e("[",void 0,void 0,e.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:e("#",void 0,void 0,String(n),void 0,void 0)},e.normalizeChildren=function(n){var a=[];if(n.length){for(var u=n[0]!=null&&n[0].key!=null,o=1;o<n.length;o++)if((n[o]!=null&&n[o].key!=null)!==u)throw new TypeError(u&&(n[o]!=null||typeof n[o]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var o=0;o<n.length;o++)a[o]=e.normalize(n[o])}return a},He=e,He}var Kt=ge(),St=function(){var e=arguments[this],n=this+1,a;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Kt("",e.key,e,a)},Ie={}.hasOwnProperty,Vt=ge(),Wt=St,Ee=Ie,Jt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Pt={};function ct(e){for(var n in e)if(Ee.call(e,n))return!1;return!0}function Qt(e){for(var n,a="div",u=[],o={};n=Jt.exec(e);){var l=n[1],h=n[2];if(l===""&&h!=="")a=h;else if(l==="#")o.id=h;else if(l===".")u.push(h);else if(n[3][0]==="["){var p=n[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?u.push(p):o[n[4]]=p===""?p:p||!0}}return u.length>0&&(o.className=u.join(" ")),Pt[e]={tag:a,attrs:o}}function Yt(e,n){var a=n.attrs,u=Ee.call(a,"class"),o=u?a.class:a.className;if(n.tag=e.tag,n.attrs={},!ct(e.attrs)&&!ct(a)){var l={};for(var h in a)Ee.call(a,h)&&(l[h]=a[h]);a=l}for(var h in e.attrs)Ee.call(e.attrs,h)&&h!=="className"&&!Ee.call(a,h)&&(a[h]=e.attrs[h]);(o!=null||e.attrs.className!=null)&&(a.className=o!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(o):o:e.attrs.className!=null?e.attrs.className:null),u&&(a.class=null);for(var h in a)if(Ee.call(a,h)&&h!=="key"){n.attrs=a;break}return n}function Zt(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var n=Wt.apply(1,arguments);return typeof e=="string"&&(n.children=Vt.normalizeChildren(n.children),e!=="[")?Yt(Pt[e]||Qt(e),n):(n.tag=e,n)}var Lt=Zt,Gt=ge(),Xt=function(e){return e==null&&(e=""),Gt("<",void 0,void 0,e,void 0,void 0)},er=ge(),tr=St,rr=function(){var e=tr.apply(0,arguments);return e.tag="[",e.children=er.normalizeChildren(e.children),e},et=Lt;et.trust=Xt;et.fragment=rr;var nr=et,Se={exports:{}},Fe,ot;function Rt(){if(ot)return Fe;ot=1;var e=function(n){if(!(this instanceof e))throw new Error("Promise must be called with 'new'.");if(typeof n!="function")throw new TypeError("executor must be a function.");var a=this,u=[],o=[],l=w(u,!0),h=w(o,!1),p=a._instance={resolvers:u,rejectors:o},g=typeof setImmediate=="function"?setImmediate:setTimeout;function w(R,S){return function L(O){var v;try{if(S&&O!=null&&(typeof O=="object"||typeof O=="function")&&typeof(v=O.then)=="function"){if(O===a)throw new TypeError("Promise can't be resolved with itself.");d(v.bind(O))}else g(function(){!S&&R.length===0&&console.error("Possible unhandled promise rejection:",O);for(var N=0;N<R.length;N++)R[N](O);u.length=0,o.length=0,p.state=S,p.retry=function(){L(O)}})}catch(N){h(N)}}}function d(R){var S=0;function L(v){return function(N){S++>0||v(N)}}var O=L(h);try{R(L(l),O)}catch(v){O(v)}}d(n)};return e.prototype.then=function(n,a){var u=this,o=u._instance;function l(w,d,R,S){d.push(function(L){if(typeof w!="function")R(L);else try{h(w(L))}catch(O){p&&p(O)}}),typeof o.retry=="function"&&S===o.state&&o.retry()}var h,p,g=new e(function(w,d){h=w,p=d});return l(n,o.resolvers,h,!0),l(a,o.rejectors,p,!1),g},e.prototype.catch=function(n){return this.then(null,n)},e.prototype.finally=function(n){return this.then(function(a){return e.resolve(n()).then(function(){return a})},function(a){return e.resolve(n()).then(function(){return e.reject(a)})})},e.resolve=function(n){return n instanceof e?n:new e(function(a){a(n)})},e.reject=function(n){return new e(function(a,u){u(n)})},e.all=function(n){return new e(function(a,u){var o=n.length,l=0,h=[];if(n.length===0)a([]);else for(var p=0;p<n.length;p++)(function(g){function w(d){l++,h[g]=d,l===o&&a(h)}n[g]!=null&&(typeof n[g]=="object"||typeof n[g]=="function")&&typeof n[g].then=="function"?n[g].then(w,u):w(n[g])})(p)})},e.race=function(n){return new e(function(a,u){for(var o=0;o<n.length;o++)n[o].then(a,u)})},Fe=e,Fe}var Me=Rt();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Me:window.Promise.prototype.finally||(window.Promise.prototype.finally=Me.prototype.finally),Se.exports=window.Promise):typeof be<"u"?(typeof be.Promise>"u"?be.Promise=Me:be.Promise.prototype.finally||(be.Promise.prototype.finally=Me.prototype.finally),Se.exports=be.Promise):Se.exports=Me;var _e,ft;function ir(){if(ft)return _e;ft=1;var e=ge();return _e=function(n){var a=n&&n.document,u,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function l(r){return r.attrs&&r.attrs.xmlns||o[r.tag]}function h(r,t){if(r.state!==t)throw new Error("'vnode.state' must not be modified.")}function p(r){var t=r.state;try{return this.apply(t,arguments)}finally{h(r,t)}}function g(){try{return a.activeElement}catch{return null}}function w(r,t,i,f,m,y,I){for(var B=i;B<f;B++){var T=t[B];T!=null&&d(r,T,m,I,y)}}function d(r,t,i,f,m){var y=t.tag;if(typeof y=="string")switch(t.state={},t.attrs!=null&&Ce(t.attrs,t,i),y){case"#":R(r,t,m);break;case"<":L(r,t,f,m);break;case"[":O(r,t,i,f,m);break;default:v(r,t,i,f,m)}else _(r,t,i,f,m)}function R(r,t,i){t.dom=a.createTextNode(t.children),s(r,t.dom,i)}var S={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function L(r,t,i,f){var m=t.children.match(/^\s*?<(\w+)/im)||[],y=a.createElement(S[m[1]]||"div");i==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",y=y.firstChild):y.innerHTML=t.children,t.dom=y.firstChild,t.domSize=y.childNodes.length,t.instance=[];for(var I=a.createDocumentFragment(),B;B=y.firstChild;)t.instance.push(B),I.appendChild(B);s(r,I,f)}function O(r,t,i,f,m){var y=a.createDocumentFragment();if(t.children!=null){var I=t.children;w(y,I,0,I.length,i,null,f)}t.dom=y.firstChild,t.domSize=y.childNodes.length,s(r,y,m)}function v(r,t,i,f,m){var y=t.tag,I=t.attrs,B=I&&I.is;f=l(t)||f;var T=f?B?a.createElementNS(f,y,{is:B}):a.createElementNS(f,y):B?a.createElement(y,{is:B}):a.createElement(y);if(t.dom=T,I!=null&&D(t,I,f),s(r,T,m),!b(t)&&t.children!=null){var j=t.children;w(T,j,0,j.length,i,null,f),t.tag==="select"&&I!=null&&ue(t,I)}}function N(r,t){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ce(r.state,r,t),r.attrs!=null&&Ce(r.attrs,r,t),r.instance=e.normalize(p.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function _(r,t,i,f,m){N(t,i),t.instance!=null?(d(r,t.instance,i,f,m),t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0):t.domSize=0}function W(r,t,i,f,m,y){if(!(t===i||t==null&&i==null))if(t==null||t.length===0)w(r,i,0,i.length,f,m,y);else if(i==null||i.length===0)C(r,t,0,t.length);else{var I=t[0]!=null&&t[0].key!=null,B=i[0]!=null&&i[0].key!=null,T=0,j=0;if(!I)for(;j<t.length&&t[j]==null;)j++;if(!B)for(;T<i.length&&i[T]==null;)T++;if(I!==B)C(r,t,j,t.length),w(r,i,T,i.length,f,m,y);else if(B){for(var re=t.length-1,Q=i.length-1,Le,ne,K,X,H,Be;re>=j&&Q>=T&&(X=t[re],H=i[Q],X.key===H.key);)X!==H&&$(r,X,H,f,m,y),H.dom!=null&&(m=H.dom),re--,Q--;for(;re>=j&&Q>=T&&(ne=t[j],K=i[T],ne.key===K.key);)j++,T++,ne!==K&&$(r,ne,K,f,se(t,j,m),y);for(;re>=j&&Q>=T&&!(T===Q||ne.key!==H.key||X.key!==K.key);)Be=se(t,j,m),F(r,X,Be),X!==K&&$(r,X,K,f,Be,y),++T<=--Q&&F(r,ne,m),ne!==H&&$(r,ne,H,f,m,y),H.dom!=null&&(m=H.dom),j++,re--,X=t[re],H=i[Q],ne=t[j],K=i[T];for(;re>=j&&Q>=T&&X.key===H.key;)X!==H&&$(r,X,H,f,m,y),H.dom!=null&&(m=H.dom),re--,Q--,X=t[re],H=i[Q];if(T>Q)C(r,t,j,re+1);else if(j>re)w(r,i,T,Q+1,f,m,y);else{var Ut=m,st=Q-T+1,xe=new Array(st),qe=0,U=0,je=2147483647,De=0,Le,ke;for(U=0;U<st;U++)xe[U]=-1;for(U=Q;U>=T;U--){Le==null&&(Le=oe(t,j,re+1)),H=i[U];var ve=Le[H.key];ve!=null&&(je=ve<je?ve:-1,xe[U-T]=ve,X=t[ve],t[ve]=null,X!==H&&$(r,X,H,f,m,y),H.dom!=null&&(m=H.dom),De++)}if(m=Ut,De!==re-j+1&&C(r,t,j,re+1),De===0)w(r,i,T,Q+1,f,m,y);else if(je===-1)for(ke=te(xe),qe=ke.length-1,U=Q;U>=T;U--)K=i[U],xe[U-T]===-1?d(r,K,f,y,m):ke[qe]===U-T?qe--:F(r,K,m),K.dom!=null&&(m=i[U].dom);else for(U=Q;U>=T;U--)K=i[U],xe[U-T]===-1&&d(r,K,f,y,m),K.dom!=null&&(m=i[U].dom)}}else{var ze=t.length<i.length?t.length:i.length;for(T=T<j?T:j;T<ze;T++)ne=t[T],K=i[T],!(ne===K||ne==null&&K==null)&&(ne==null?d(r,K,f,y,se(t,T+1,m)):K==null?x(r,ne):$(r,ne,K,f,se(t,T+1,m),y));t.length>ze&&C(r,t,T,t.length),i.length>ze&&w(r,i,T,i.length,f,m,y)}}}function $(r,t,i,f,m,y){var I=t.tag,B=i.tag;if(I===B){if(i.state=t.state,i.events=t.events,Ae(i,t))return;if(typeof I=="string")switch(i.attrs!=null&&we(i.attrs,i,f),I){case"#":fe(t,i);break;case"<":ie(r,t,i,y,m);break;case"[":V(r,t,i,f,m,y);break;default:ee(t,i,f,y)}else Z(r,t,i,f,m,y)}else x(r,t),d(r,i,f,y,m)}function fe(r,t){r.children.toString()!==t.children.toString()&&(r.dom.nodeValue=t.children),t.dom=r.dom}function ie(r,t,i,f,m){t.children!==i.children?(E(r,t),L(r,i,f,m)):(i.dom=t.dom,i.domSize=t.domSize,i.instance=t.instance)}function V(r,t,i,f,m,y){W(r,t.children,i.children,f,m,y);var I=0,B=i.children;if(i.dom=null,B!=null){for(var T=0;T<B.length;T++){var j=B[T];j!=null&&j.dom!=null&&(i.dom==null&&(i.dom=j.dom),I+=j.domSize||1)}I!==1&&(i.domSize=I)}}function ee(r,t,i,f){var m=t.dom=r.dom;f=l(t)||f,t.tag==="textarea"&&t.attrs==null&&(t.attrs={}),ae(t,r.attrs,t.attrs,f),b(t)||W(m,r.children,t.children,i,null,f)}function Z(r,t,i,f,m,y){if(i.instance=e.normalize(p.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");we(i.state,i,f),i.attrs!=null&&we(i.attrs,i,f),i.instance!=null?(t.instance==null?d(r,i.instance,f,y,m):$(r,t.instance,i.instance,f,m,y),i.dom=i.instance.dom,i.domSize=i.instance.domSize):t.instance!=null?(x(r,t.instance),i.dom=void 0,i.domSize=0):(i.dom=t.dom,i.domSize=t.domSize)}function oe(r,t,i){for(var f=Object.create(null);t<i;t++){var m=r[t];if(m!=null){var y=m.key;y!=null&&(f[y]=t)}}return f}var G=[];function te(r){for(var t=[0],i=0,f=0,m=0,y=G.length=r.length,m=0;m<y;m++)G[m]=r[m];for(var m=0;m<y;++m)if(r[m]!==-1){var I=t[t.length-1];if(r[I]<r[m]){G[m]=I,t.push(m);continue}for(i=0,f=t.length-1;i<f;){var B=(i>>>1)+(f>>>1)+(i&f&1);r[t[B]]<r[m]?i=B+1:f=B}r[m]<r[t[i]]&&(i>0&&(G[m]=t[i-1]),t[i]=m)}for(i=t.length,f=t[i-1];i-- >0;)t[i]=f,f=G[f];return G.length=0,t}function se(r,t,i){for(;t<r.length;t++)if(r[t]!=null&&r[t].dom!=null)return r[t].dom;return i}function F(r,t,i){var f=a.createDocumentFragment();c(r,f,t),s(r,f,i)}function c(r,t,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var f=0;f<i.instance.length;f++)t.appendChild(i.instance[f]);else if(i.tag!=="[")t.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var f=0;f<i.children.length;f++){var m=i.children[f];m!=null&&c(r,t,m)}break}}function s(r,t,i){i!=null?r.insertBefore(t,i):r.appendChild(t)}function b(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var t=r.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var i=t[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function C(r,t,i,f){for(var m=i;m<f;m++){var y=t[m];y!=null&&x(r,y)}}function x(r,t){var i=0,f=t.state,m,y;if(typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"){var I=p.call(t.state.onbeforeremove,t);I!=null&&typeof I.then=="function"&&(i=1,m=I)}if(t.attrs&&typeof t.attrs.onbeforeremove=="function"){var I=p.call(t.attrs.onbeforeremove,t);I!=null&&typeof I.then=="function"&&(i|=2,y=I)}if(h(t,f),!i)A(t),P(r,t);else{if(m!=null){var B=function(){i&1&&(i&=2,i||T())};m.then(B,B)}if(y!=null){var B=function(){i&2&&(i&=1,i||T())};y.then(B,B)}}function T(){h(t,f),A(t),P(r,t)}}function E(r,t){for(var i=0;i<t.instance.length;i++)r.removeChild(t.instance[i])}function P(r,t){for(;t.dom!=null&&t.dom.parentNode===r;){if(typeof t.tag!="string"){if(t=t.instance,t!=null)continue}else if(t.tag==="<")E(r,t);else{if(t.tag!=="["&&(r.removeChild(t.dom),!Array.isArray(t.children)))break;if(t.children.length===1){if(t=t.children[0],t!=null)continue}else for(var i=0;i<t.children.length;i++){var f=t.children[i];f!=null&&P(r,f)}}break}}function A(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&p.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&p.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&A(r.instance);else{var t=r.children;if(Array.isArray(t))for(var i=0;i<t.length;i++){var f=t[i];f!=null&&A(f)}}}function D(r,t,i){r.tag==="input"&&t.type!=null&&r.dom.setAttribute("type",t.type);var f=t!=null&&r.tag==="input"&&t.type==="file";for(var m in t)J(r,m,null,t[m],i,f)}function J(r,t,i,f,m,y){if(!(t==="key"||t==="is"||f==null||me(t)||i===f&&!k(r,t)&&typeof f!="object"||t==="type"&&r.tag==="input")){if(t[0]==="o"&&t[1]==="n")return Pe(r,t,f);if(t.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),f);else if(t==="style")ce(r.dom,i,f);else if(ye(r,t,m)){if(t==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+f&&(y||r.dom===g())||r.tag==="select"&&i!==null&&r.dom.value===""+f||r.tag==="option"&&i!==null&&r.dom.value===""+f)return;if(y&&""+f!=""){console.error("`value` is read-only on file inputs!");return}}r.dom[t]=f}else typeof f=="boolean"?f?r.dom.setAttribute(t,""):r.dom.removeAttribute(t):r.dom.setAttribute(t==="className"?"class":t,f)}}function q(r,t,i,f){if(!(t==="key"||t==="is"||i==null||me(t)))if(t[0]==="o"&&t[1]==="n")Pe(r,t,void 0);else if(t==="style")ce(r.dom,i,null);else if(ye(r,t,f)&&t!=="className"&&t!=="title"&&!(t==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===g()))&&!(r.tag==="input"&&t==="type"))r.dom[t]=null;else{var m=t.indexOf(":");m!==-1&&(t=t.slice(m+1)),i!==!1&&r.dom.removeAttribute(t==="className"?"class":t)}}function ue(r,t){if("value"in t)if(t.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+t.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in t&&J(r,"selectedIndex",null,t.selectedIndex,void 0)}function ae(r,t,i,f){if(t&&t===i&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),i!=null){r.tag==="input"&&i.type!=null&&r.dom.setAttribute("type",i.type);var m=r.tag==="input"&&i.type==="file";for(var y in i)J(r,y,t&&t[y],i[y],f,m)}var I;if(t!=null)for(var y in t)(I=t[y])!=null&&(i==null||i[y]==null)&&q(r,y,I,f)}function k(r,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&r.dom===g()||r.tag==="option"&&r.dom.parentNode===a.activeElement}function me(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function ye(r,t,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in r.dom}var le=/[A-Z]/g;function de(r){return"-"+r.toLowerCase()}function he(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(le,de)}function ce(r,t,i){if(t!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(t==null||typeof t!="object"){r.style.cssText="";for(var f in i){var m=i[f];m!=null&&r.style.setProperty(he(f),String(m))}}else{for(var f in i){var m=i[f];m!=null&&(m=String(m))!==String(t[f])&&r.style.setProperty(he(f),m)}for(var f in t)t[f]!=null&&i[f]==null&&r.style.removeProperty(he(f))}}function Te(){this._=u}Te.prototype=Object.create(null),Te.prototype.handleEvent=function(r){var t=this["on"+r.type],i;typeof t=="function"?i=t.call(r.currentTarget,r):typeof t.handleEvent=="function"&&t.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Pe(r,t,i){if(r.events!=null){if(r.events._=u,r.events[t]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[t]==null&&r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i):(r.events[t]!=null&&r.dom.removeEventListener(t.slice(2),r.events,!1),r.events[t]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new Te,r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=i)}function Ce(r,t,i){typeof r.oninit=="function"&&p.call(r.oninit,t),typeof r.oncreate=="function"&&i.push(p.bind(r.oncreate,t))}function we(r,t,i){typeof r.onupdate=="function"&&i.push(p.bind(r.onupdate,t))}function Ae(r,t){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=p.call(r.attrs.onbeforeupdate,r,t);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=p.call(r.state.onbeforeupdate,r,t);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=t.dom,r.domSize=t.domSize,r.instance=t.instance,r.attrs=t.attrs,r.children=t.children,r.text=t.text,!0}var pe;return function(r,t,i){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&r.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var f=u,m=pe,y=[],I=g(),B=r.namespaceURI;pe=r,u=typeof i=="function"?i:void 0;try{r.vnodes==null&&(r.textContent=""),t=e.normalizeChildren(Array.isArray(t)?t:[t]),W(r,r.vnodes,t,y,null,B==="http://www.w3.org/1999/xhtml"?void 0:B),r.vnodes=t,I!=null&&g()!==I&&typeof I.focus=="function"&&I.focus();for(var T=0;T<y.length;T++)y[T]()}finally{u=f,pe=m}}},_e}var Ue,lt;function It(){return lt||(lt=1,Ue=ir()(typeof window<"u"?window:null)),Ue}var ht=ge(),ar=function(e,n,a){var u=[],o=!1,l=-1;function h(){for(l=0;l<u.length;l+=2)try{e(u[l],ht(u[l+1]),p)}catch(w){a.error(w)}l=-1}function p(){o||(o=!0,n(function(){o=!1,h()}))}p.sync=h;function g(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var R=u.indexOf(w);R>=0&&(u.splice(R,2),R<=l&&(l-=2),e(w,[])),d!=null&&(u.push(w,d),e(w,ht(d),p))}return{mount:g,redraw:p}},sr=It(),tt=ar(sr,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),$e,pt;function Ot(){return pt||(pt=1,$e=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var n=[];for(var a in e)u(a,e[a]);return n.join("&");function u(o,l){if(Array.isArray(l))for(var h=0;h<l.length;h++)u(o+"["+h+"]",l[h]);else if(Object.prototype.toString.call(l)==="[object Object]")for(var h in l)u(o+"["+h+"]",l[h]);else n.push(encodeURIComponent(o)+(l!=null&&l!==""?"="+encodeURIComponent(l):""))}}),$e}var Ke,gt;function Nt(){if(gt)return Ke;gt=1;var e=Ie;return Ke=Object.assign||function(n,a){for(var u in a)e.call(a,u)&&(n[u]=a[u])},Ke}var Ve,mt;function rt(){if(mt)return Ve;mt=1;var e=Ot(),n=Nt();return Ve=function(a,u){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(u==null)return a;var o=a.indexOf("?"),l=a.indexOf("#"),h=l<0?a.length:l,p=o<0?h:o,g=a.slice(0,p),w={};n(w,u);var d=g.replace(/:([^\/\.-]+)(\.{3})?/g,function(_,W,$){return delete w[W],u[W]==null?_:$?u[W]:encodeURIComponent(String(u[W]))}),R=d.indexOf("?"),S=d.indexOf("#"),L=S<0?d.length:S,O=R<0?L:R,v=d.slice(0,O);o>=0&&(v+=a.slice(o,h)),R>=0&&(v+=(o<0?"?":"&")+d.slice(R,L));var N=e(w);return N&&(v+=(o<0&&R<0?"?":"&")+N),l>=0&&(v+=a.slice(l)),S>=0&&(v+=(l<0?"":"&")+d.slice(S)),v},Ve}var ur=rt(),yt=Ie,cr=function(e,n,a){var u=0;function o(p){return new n(p)}o.prototype=n.prototype,o.__proto__=n;function l(p){return function(g,w){typeof g!="string"?(w=g,g=g.url):w==null&&(w={});var d=new n(function(O,v){p(ur(g,w.params),w,function(N){if(typeof w.type=="function")if(Array.isArray(N))for(var _=0;_<N.length;_++)N[_]=new w.type(N[_]);else N=new w.type(N);O(N)},v)});if(w.background===!0)return d;var R=0;function S(){--R===0&&typeof a=="function"&&a()}return L(d);function L(O){var v=O.then;return O.constructor=o,O.then=function(){R++;var N=v.apply(O,arguments);return N.then(S,function(_){if(S(),R===0)throw _}),L(N)},O}}}function h(p,g){for(var w in p.headers)if(yt.call(p.headers,w)&&w.toLowerCase()===g)return!0;return!1}return{request:l(function(p,g,w,d){var R=g.method!=null?g.method.toUpperCase():"GET",S=g.body,L=(g.serialize==null||g.serialize===JSON.serialize)&&!(S instanceof e.FormData||S instanceof e.URLSearchParams),O=g.responseType||(typeof g.extract=="function"?"":"json"),v=new e.XMLHttpRequest,N=!1,_=!1,W=v,$,fe=v.abort;v.abort=function(){N=!0,fe.call(this)},v.open(R,p,g.async!==!1,typeof g.user=="string"?g.user:void 0,typeof g.password=="string"?g.password:void 0),L&&S!=null&&!h(g,"content-type")&&v.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof g.deserialize!="function"&&!h(g,"accept")&&v.setRequestHeader("Accept","application/json, text/*"),g.withCredentials&&(v.withCredentials=g.withCredentials),g.timeout&&(v.timeout=g.timeout),v.responseType=O;for(var ie in g.headers)yt.call(g.headers,ie)&&v.setRequestHeader(ie,g.headers[ie]);v.onreadystatechange=function(V){if(!N&&V.target.readyState===4)try{var ee=V.target.status>=200&&V.target.status<300||V.target.status===304||/^file:\/\//i.test(p),Z=V.target.response,oe;if(O==="json"){if(!V.target.responseType&&typeof g.extract!="function")try{Z=JSON.parse(V.target.responseText)}catch{Z=null}}else(!O||O==="text")&&Z==null&&(Z=V.target.responseText);if(typeof g.extract=="function"?(Z=g.extract(V.target,g),ee=!0):typeof g.deserialize=="function"&&(Z=g.deserialize(Z)),ee)w(Z);else{var G=function(){try{oe=V.target.responseText}catch{oe=Z}var te=new Error(oe);te.code=V.target.status,te.response=Z,d(te)};v.status===0?setTimeout(function(){_||G()}):G()}}catch(te){d(te)}},v.ontimeout=function(V){_=!0;var ee=new Error("Request timed out");ee.code=V.target.status,d(ee)},typeof g.config=="function"&&(v=g.config(v,g,p)||v,v!==W&&($=v.abort,v.abort=function(){N=!0,$.call(this)})),S==null?v.send():typeof g.serialize=="function"?v.send(g.serialize(S)):S instanceof e.FormData||S instanceof e.URLSearchParams?v.send(S):v.send(JSON.stringify(S))}),jsonp:l(function(p,g,w,d){var R=g.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+u++,S=e.document.createElement("script");e[R]=function(L){delete e[R],S.parentNode.removeChild(S),w(L)},S.onerror=function(){delete e[R],S.parentNode.removeChild(S),d(new Error("JSONP request failed"))},S.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(g.callbackKey||"callback")+"="+encodeURIComponent(R),e.document.documentElement.appendChild(S)})}},or=Se.exports,fr=tt,lr=cr(typeof window<"u"?window:null,or,fr.redraw),We,dt;function At(){if(dt)return We;dt=1;function e(n){try{return decodeURIComponent(n)}catch{return n}}return We=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var a=n.split("&"),u={},o={},l=0;l<a.length;l++){var h=a[l].split("="),p=e(h[0]),g=h.length===2?e(h[1]):"";g==="true"?g=!0:g==="false"&&(g=!1);var w=p.split(/\]\[?|\[/),d=o;p.indexOf("[")>-1&&w.pop();for(var R=0;R<w.length;R++){var S=w[R],L=w[R+1],O=L==""||!isNaN(parseInt(L,10));if(S===""){var p=w.slice(0,R).join();u[p]==null&&(u[p]=Array.isArray(d)?d.length:0),S=u[p]++}else if(S==="__proto__")break;if(R===w.length-1)d[S]=g;else{var v=Object.getOwnPropertyDescriptor(d,S);v!=null&&(v=v.value),v==null&&(d[S]=v=O?[]:{}),d=v}}}return o},We}var Je,wt;function nt(){if(wt)return Je;wt=1;var e=At();return Je=function(n){var a=n.indexOf("?"),u=n.indexOf("#"),o=u<0?n.length:u,l=a<0?o:a,h=n.slice(0,l).replace(/\/{2,}/g,"/");return h?(h[0]!=="/"&&(h="/"+h),h.length>1&&h[h.length-1]==="/"&&(h=h.slice(0,-1))):h="/",{path:h,params:a<0?{}:e(n.slice(a+1,o))}},Je}var Qe,vt;function hr(){if(vt)return Qe;vt=1;var e=nt();return Qe=function(n){var a=e(n),u=Object.keys(a.params),o=[],l=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(h,p,g){return p==null?"\\"+h:(o.push({k:p,r:g==="..."}),g==="..."?"(.*)":g==="."?"([^/]+)\\.":"([^/]+)"+(g||""))})+"$");return function(h){for(var p=0;p<u.length;p++)if(a.params[u[p]]!==h.params[u[p]])return!1;if(!o.length)return l.test(h.path);var g=l.exec(h.path);if(g==null)return!1;for(var p=0;p<o.length;p++)h.params[o[p].k]=o[p].r?g[p+1]:decodeURIComponent(g[p+1]);return!0}},Qe}var Ye,bt;function zt(){if(bt)return Ye;bt=1;var e=Ie,n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Ye=function(a,u){var o={};if(u!=null)for(var l in a)e.call(a,l)&&!n.test(l)&&u.indexOf(l)<0&&(o[l]=a[l]);else for(var l in a)e.call(a,l)&&!n.test(l)&&(o[l]=a[l]);return o},Ye}var Ze,Et;function pr(){if(Et)return Ze;Et=1;var e=ge(),n=Lt,a=Se.exports,u=rt(),o=nt(),l=hr(),h=Nt(),p=zt(),g={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Ze=function(d,R){var S=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,L=a.resolve(),O=!1,v=!1,N=0,_,W,$=g,fe,ie,V,ee,Z={onbeforeupdate:function(){return N=N?2:1,!(!N||g===$)},onremove:function(){d.removeEventListener("popstate",te,!1),d.removeEventListener("hashchange",G,!1)},view:function(){if(!(!N||g===$)){var c=[e(fe,ie.key,ie)];return $&&(c=$.render(c[0])),c}}},oe=F.SKIP={};function G(){O=!1;var c=d.location.hash;F.prefix[0]!=="#"&&(c=d.location.search+c,F.prefix[0]!=="?"&&(c=d.location.pathname+c,c[0]!=="/"&&(c="/"+c)));var s=c.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice(F.prefix.length),b=o(s);h(b.params,d.history.state);function C(E){console.error(E),se(W,null,{replace:!0})}x(0);function x(E){for(;E<_.length;E++)if(_[E].check(b)){var P=_[E].component,A=_[E].route,D=P,J=ee=function(q){if(J===ee){if(q===oe)return x(E+1);fe=q!=null&&(typeof q.view=="function"||typeof q=="function")?q:"div",ie=b.params,V=s,ee=null,$=P.render?P:null,N===2?R.redraw():(N=2,R.redraw.sync())}};P.view||typeof P=="function"?(P={},J(D)):P.onmatch?L.then(function(){return P.onmatch(b.params,s,A)}).then(J,s===W?null:C):J("div");return}if(s===W)throw new Error("Could not resolve default route "+W+".");se(W,null,{replace:!0})}}function te(){O||(O=!0,S(G))}function se(c,s,b){if(c=u(c,s),v){te();var C=b?b.state:null,x=b?b.title:null;b&&b.replace?d.history.replaceState(C,x,F.prefix+c):d.history.pushState(C,x,F.prefix+c)}else d.location.href=F.prefix+c}function F(c,s,b){if(!c)throw new TypeError("DOM element being rendered to does not exist.");if(_=Object.keys(b).map(function(x){if(x[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(x))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:x,component:b[x],check:l(x)}}),W=s,s!=null){var C=o(s);if(!_.some(function(x){return x.check(C)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",te,!1):F.prefix[0]==="#"&&d.addEventListener("hashchange",G,!1),v=!0,R.mount(c,Z),G()}return F.set=function(c,s,b){ee!=null&&(b=b||{},b.replace=!0),ee=null,se(c,s,b)},F.get=function(){return V},F.prefix="#!",F.Link={view:function(c){var s=n(c.attrs.selector||"a",p(c.attrs,["options","params","selector","onclick"]),c.children),b,C,x;return(s.attrs.disabled=Boolean(s.attrs.disabled))?(s.attrs.href=null,s.attrs["aria-disabled"]="true"):(b=c.attrs.options,C=c.attrs.onclick,x=u(s.attrs.href,c.attrs.params),s.attrs.href=F.prefix+x,s.attrs.onclick=function(E){var P;typeof C=="function"?P=C.call(E.currentTarget,E):C==null||typeof C!="object"||typeof C.handleEvent=="function"&&C.handleEvent(E),P!==!1&&!E.defaultPrevented&&(E.button===0||E.which===0||E.which===1)&&(!E.currentTarget.target||E.currentTarget.target==="_self")&&!E.ctrlKey&&!E.metaKey&&!E.shiftKey&&!E.altKey&&(E.preventDefault(),E.redraw=!1,F.set(x,null,b))}),s}},F.param=function(c){return ie&&c!=null?ie[c]:ie},F},Ze}var Ge,Tt;function gr(){if(Tt)return Ge;Tt=1;var e=tt;return Ge=pr()(typeof window<"u"?window:null,e),Ge}var Oe=nr,Bt=lr,qt=tt,Y=function(){return Oe.apply(this,arguments)};Y.m=Oe;Y.trust=Oe.trust;Y.fragment=Oe.fragment;Y.Fragment="[";Y.mount=qt.mount;Y.route=gr();Y.render=It();Y.redraw=qt.redraw;Y.request=Bt.request;Y.jsonp=Bt.jsonp;Y.parseQueryString=At();Y.buildQueryString=Ot();Y.parsePathname=nt();Y.buildPathname=rt();Y.vnode=ge();Y.PromisePolyfill=Rt();Y.censor=zt();var M=Y;z.SKIP={};z.lift=dr;z.scan=mr;z.merge=jt;z.combine=Ne;z.scanMerge=yr;z["fantasy-land/of"]=z;var Ct=!1;Object.defineProperty(z,"HALT",{get:function(){return Ct||console.log("HALT is deprecated and has been renamed to SKIP"),Ct=!0,z.SKIP}});function z(e){var n=[],a=[];function u(h){return arguments.length&&h!==z.SKIP&&(e=h,xt(u)&&(u.changing(),u.state="active",n.forEach(function(p,g){p(a[g](e))}))),e}u.constructor=z,u.state=arguments.length&&e!==z.SKIP?"active":"pending",u.parents=[],u.changing=function(){xt(u)&&(u.state="changing"),n.forEach(function(h){h.changing()})},u.map=function(h,p){var g=u.state==="active"&&p!==z.SKIP?z(h(e)):z();return g.parents.push(u),n.push(g),a.push(h),g};var o;function l(){return o=z(),o.map(function(h){return h===!0&&(u.parents.forEach(function(p){p.unregisterChild(u)}),u.state="ended",u.parents.length=n.length=a.length=0),h}),o}return u.toJSON=function(){return e!=null&&typeof e.toJSON=="function"?e.toJSON():e},u["fantasy-land/map"]=u.map,u["fantasy-land/ap"]=function(h){return Ne(function(p,g){return p()(g())},[h,u])},u.unregisterChild=function(h){var p=n.indexOf(h);p!==-1&&(n.splice(p,1),a.splice(p,1))},Object.defineProperty(u,"end",{get:function(){return o||l()}}),u}function Ne(e,n){var a=n.every(function(p){if(p.constructor!==z)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return p.state==="active"}),u=a?z(e.apply(null,n.concat([n]))):z(),o=[],l=n.map(function(p){return p.map(function(g){return o.push(p),(a||n.every(function(w){return w.state!=="pending"}))&&(a=!0,u(e.apply(null,n.concat([o]))),o=[]),g},z.SKIP)}),h=u.end.map(function(p){p===!0&&(l.forEach(function(g){g.end(!0)}),h.end(!0))});return u}function jt(e){return Ne(function(){return e.map(function(n){return n()})},e)}function mr(e,n,a){var u=a.map(function(o){var l=e(n,o);return l!==z.SKIP&&(n=l),l});return u(n),u}function yr(e,n){var a=e.map(function(o){return o[0]}),u=Ne(function(){var o=arguments[arguments.length-1];return a.forEach(function(l,h){o.indexOf(l)>-1&&(n=e[h][1](n,l()))}),n},a);return u(n),u}function dr(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1);return jt(n).map(function(a){return e.apply(void 0,a)})}function xt(e){return e.state==="pending"||e.state==="active"||e.state==="changing"}var it={};(function e(n,a,u,o){var l=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL);function h(){}function p(c){var s=a.exports.Promise,b=s!==void 0?s:n.Promise;return typeof b=="function"?new b(c):(c(h,h),null)}var g=function(){var c=Math.floor(16.666666666666668),s,b,C={},x=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(s=function(E){var P=Math.random();return C[P]=requestAnimationFrame(function A(D){x===D||x+c-1<D?(x=D,delete C[P],E()):C[P]=requestAnimationFrame(A)}),P},b=function(E){C[E]&&cancelAnimationFrame(C[E])}):(s=function(E){return setTimeout(E,c)},b=function(E){return clearTimeout(E)}),{frame:s,cancel:b}}(),w=function(){var c,s,b={};function C(x){function E(P,A){x.postMessage({options:P||{},callback:A})}x.init=function(A){var D=A.transferControlToOffscreen();x.postMessage({canvas:D},[D])},x.fire=function(A,D,J){if(s)return E(A,null),s;var q=Math.random().toString(36).slice(2);return s=p(function(ue){function ae(k){k.data.callback===q&&(delete b[q],x.removeEventListener("message",ae),s=null,J(),ue())}x.addEventListener("message",ae),E(A,q),b[q]=ae.bind(null,{data:{callback:q}})}),s},x.reset=function(){x.postMessage({reset:!0});for(var A in b)b[A](),delete b[A]}}return function(){if(c)return c;if(!u&&l){var x=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{c=new Worker(URL.createObjectURL(new Blob([x])))}catch(E){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",E),null}C(c)}return c}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function R(c,s){return s?s(c):c}function S(c){return c!=null}function L(c,s,b){return R(c&&S(c[s])?c[s]:d[s],b)}function O(c){return c<0?0:Math.floor(c)}function v(c,s){return Math.floor(Math.random()*(s-c))+c}function N(c){return parseInt(c,16)}function _(c){return c.map(W)}function W(c){var s=String(c).replace(/[^0-9a-f]/gi,"");return s.length<6&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:N(s.substring(0,2)),g:N(s.substring(2,4)),b:N(s.substring(4,6))}}function $(c){var s=L(c,"origin",Object);return s.x=L(s,"x",Number),s.y=L(s,"y",Number),s}function fe(c){c.width=document.documentElement.clientWidth,c.height=document.documentElement.clientHeight}function ie(c){var s=c.getBoundingClientRect();c.width=s.width,c.height=s.height}function V(c){var s=document.createElement("canvas");return s.style.position="fixed",s.style.top="0px",s.style.left="0px",s.style.pointerEvents="none",s.style.zIndex=c,s}function ee(c,s,b,C,x,E,P,A,D){c.save(),c.translate(s,b),c.rotate(E),c.scale(C,x),c.arc(0,0,1,P,A,D),c.restore()}function Z(c){var s=c.angle*(Math.PI/180),b=c.spread*(Math.PI/180);return{x:c.x,y:c.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:c.startVelocity*.5+Math.random()*c.startVelocity,angle2D:-s+(.5*b-Math.random()*b),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:c.color,shape:c.shape,tick:0,totalTicks:c.ticks,decay:c.decay,drift:c.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:c.gravity*3,ovalScalar:.6,scalar:c.scalar}}function oe(c,s){s.x+=Math.cos(s.angle2D)*s.velocity+s.drift,s.y+=Math.sin(s.angle2D)*s.velocity+s.gravity,s.wobble+=s.wobbleSpeed,s.velocity*=s.decay,s.tiltAngle+=.1,s.tiltSin=Math.sin(s.tiltAngle),s.tiltCos=Math.cos(s.tiltAngle),s.random=Math.random()+2,s.wobbleX=s.x+10*s.scalar*Math.cos(s.wobble),s.wobbleY=s.y+10*s.scalar*Math.sin(s.wobble);var b=s.tick++/s.totalTicks,C=s.x+s.random*s.tiltCos,x=s.y+s.random*s.tiltSin,E=s.wobbleX+s.random*s.tiltCos,P=s.wobbleY+s.random*s.tiltSin;if(c.fillStyle="rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+(1-b)+")",c.beginPath(),s.shape==="circle")c.ellipse?c.ellipse(s.x,s.y,Math.abs(E-C)*s.ovalScalar,Math.abs(P-x)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI):ee(c,s.x,s.y,Math.abs(E-C)*s.ovalScalar,Math.abs(P-x)*s.ovalScalar,Math.PI/10*s.wobble,0,2*Math.PI);else if(s.shape==="star")for(var A=Math.PI/2*3,D=4*s.scalar,J=8*s.scalar,q=s.x,ue=s.y,ae=5,k=Math.PI/ae;ae--;)q=s.x+Math.cos(A)*J,ue=s.y+Math.sin(A)*J,c.lineTo(q,ue),A+=k,q=s.x+Math.cos(A)*D,ue=s.y+Math.sin(A)*D,c.lineTo(q,ue),A+=k;else c.moveTo(Math.floor(s.x),Math.floor(s.y)),c.lineTo(Math.floor(s.wobbleX),Math.floor(x)),c.lineTo(Math.floor(E),Math.floor(P)),c.lineTo(Math.floor(C),Math.floor(s.wobbleY));return c.closePath(),c.fill(),s.tick<s.totalTicks}function G(c,s,b,C,x){var E=s.slice(),P=c.getContext("2d"),A,D,J=p(function(q){function ue(){A=D=null,P.clearRect(0,0,C.width,C.height),x(),q()}function ae(){u&&!(C.width===o.width&&C.height===o.height)&&(C.width=c.width=o.width,C.height=c.height=o.height),!C.width&&!C.height&&(b(c),C.width=c.width,C.height=c.height),P.clearRect(0,0,C.width,C.height),E=E.filter(function(k){return oe(P,k)}),E.length?A=g.frame(ae):ue()}A=g.frame(ae),D=ue});return{addFettis:function(q){return E=E.concat(q),J},canvas:c,promise:J,reset:function(){A&&g.cancel(A),D&&D()}}}function te(c,s){var b=!c,C=!!L(s||{},"resize"),x=L(s,"disableForReducedMotion",Boolean),E=l&&!!L(s||{},"useWorker"),P=E?w():null,A=b?fe:ie,D=c&&P?!!c.__confetti_initialized:!1,J=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,q;function ue(k,me,ye){for(var le=L(k,"particleCount",O),de=L(k,"angle",Number),he=L(k,"spread",Number),ce=L(k,"startVelocity",Number),Te=L(k,"decay",Number),Pe=L(k,"gravity",Number),Ce=L(k,"drift",Number),we=L(k,"colors",_),Ae=L(k,"ticks",Number),pe=L(k,"shapes"),r=L(k,"scalar"),t=$(k),i=le,f=[],m=c.width*t.x,y=c.height*t.y;i--;)f.push(Z({x:m,y,angle:de,spread:he,startVelocity:ce,color:we[i%we.length],shape:pe[v(0,pe.length)],ticks:Ae,decay:Te,gravity:Pe,drift:Ce,scalar:r}));return q?q.addFettis(f):(q=G(c,f,A,me,ye),q.promise)}function ae(k){var me=x||L(k,"disableForReducedMotion",Boolean),ye=L(k,"zIndex",Number);if(me&&J)return p(function(ce){ce()});b&&q?c=q.canvas:b&&!c&&(c=V(ye),document.body.appendChild(c)),C&&!D&&A(c);var le={width:c.width,height:c.height};P&&!D&&P.init(c),D=!0,P&&(c.__confetti_initialized=!0);function de(){if(P){var ce={getBoundingClientRect:function(){if(!b)return c.getBoundingClientRect()}};A(ce),P.postMessage({resize:{width:ce.width,height:ce.height}});return}le.width=le.height=null}function he(){q=null,C&&n.removeEventListener("resize",de),b&&c&&(document.body.removeChild(c),c=null,D=!1)}return C&&n.addEventListener("resize",de,!1),P?P.fire(k,le,he):ue(k,le,he)}return ae.reset=function(){P&&P.reset(),q&&q.reset()},ae}var se;function F(){return se||(se=te(null,{useWorker:!0,resize:!0})),se}a.exports=function(){return F().apply(this,arguments)},a.exports.reset=function(){F().reset()},a.exports.create=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),it,!1);const Mt=it.exports;it.exports.create;window.log=e=>n=>(console.log(e,n),n);const wr=e=>{let n=window.innerWidth;const a=o=>o<668?"PHONE":o<920?"TABLET":"DESKTOP",u=o=>{const l=window.innerWidth;if(o!==l){o=l;let h=e.state.screenSize;e.state.screenSize=a(l),h!=e.state.screenSize&&M.redraw()}return requestAnimationFrame(u)};e.state.screenSize=a(n),u(n)},vr=e=>wr(e),br=e=>e[Math.floor(Math.random()*e.length)],Er=(e,n)=>{const a=e.offsetTop,u=e.offsetLeft,o=n.offsetTop,l=n.offsetLeft,h=a-o,p=u-l;return Math.sqrt(h*h+p*p)},Tr=()=>"xxxxxxxx".replace(/[xy]/g,e=>{let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)}),Cr=()=>{const n=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function u(l,h){return Math.random()*(h-l)+l}const o=setInterval(function(){const l=n-Date.now();if(l<=0)return clearInterval(o);const h=50*(l/15e3);Mt(Object.assign({},a,{particleCount:h,origin:{x:u(.1,.3),y:Math.random()-.2}})),Mt(Object.assign({},a,{particleCount:h,origin:{x:u(.7,.9),y:Math.random()-.2}}))},250)},xr=()=>({chunks:[],blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[],path:[]},state:{screenSize:z("PHONE"),showHint:z(!1),hintUsed:z(0),userMoves:z(0),status:z("SELECT_IMG"),hiddenBlock:z(null),direction:z("horizontal"),size:z(0),levels:{Easy:{count:25,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:z(null)},img:{src:z(null),srcs:z(null),width:z(0),height:z(0),zIndex:z(0),display:z(!0)}}),Mr=[100,101],Sr=e=>(e.blocks=[],e.img.src(null),e.img.width(0),e.img.height(0),e.img.zIndex(0),e.img.display(!0),e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.showHint(!1),e.state.hintUsed(0),e.state.level(null),e.state.userMoves(0),e.state.status("SELECT_IMG"),e.swap.isDragging=!1,e.swap.src={coords:null,idx:null,id:null,dom:null,img:null},e.swap.target={coords:null,idx:null,id:null,dom:null,img:null},e.swap.swapBlockIds=[],e.swap.history=[],e.swap.path=[],e),Pr=(e,n)=>({img:e,idx:n,id:Tr(),coords:{}}),Lr=(e,n)=>{const a=Array.from(n.parentNode.children),u=a.find(l=>l.id==e);u.style.backgroundImage="";const o=l=>Mr.includes(Er(u,l));return a.filter(o).map(l=>l.id)},Rr=(e,n)=>{const a=n.width,u=n.height,o=Math.ceil(a/16),l=[];for(let p=0;p<a;p+=o){const g=document.createElement("canvas"),w=g.getContext("2d");g.width=o,g.height=u,w.drawImage(n,p,0,o,u,0,0,o,u),w.clip(),l.push(g.toDataURL()),e.chunks.push(g)}const h=l.map(Pr);e.blocks=structuredClone(h),e.img.display(!1)},Ir=(e,n)=>{e.state.level(n),e.state.status("SELECT_SQR")},Dt=e=>({target:{files:n}})=>(e.file=n[0],Promise.resolve(e.img.src(URL.createObjectURL(e.file)))),Or=e=>{e.swap.history=[],e.swap.path=[],e.swap.swapBlockIds=[],e.swap.history=[],e.state.hiddenBlock(null),e.state.direction("horizontal"),e.state.level(null),e.state.showHint(!1),e.state.hintUsed(0),e.state.userMoves(0),e.blocks=[],e.originals=[],e.img.display(!0),Dt(e)({target:{files:[e.file]}}).then(()=>e.state.status("SELECT_LEVEL"))},Nr=e=>{const n=JSON.parse(e.originals).map(u=>JSON.stringify(u.coords)),a=e.blocks.map(u=>JSON.stringify(u.coords));return n.map((u,o)=>u==a[o]).reduce((u,o)=>o?u:u+1,0)},kt=(e,n,a)=>({target:u})=>(a&&e.swap.history.slice(-2)[0]==n?e.swap.history.pop():e.swap.history.push(n),a&&e.state.userMoves(e.state.userMoves()+1),e.state.hiddenBlock(n),e.swap.swapBlockIds=Lr(n,u),e.state.status()=="READY"&&Nr(e)==0&&(e.state.status("COMPLETED"),e.img.display(!0),Cr()),e),at=(e,n)=>e.swap.swapBlockIds.includes(n.id),Xe=(e,n)=>n.id==e.state.hiddenBlock(),Ar=(e,n)=>e.swap.history.slice(-2)[0]==n.id,zr=(e,n)=>e.swap.isDragging?Xe(e,n):at(e,n)||Xe(e,n),Ht=(e,n,a)=>{if(!e.swap.swapBlockIds.includes(n.id))return;e.state.showHint()&&e.state.hintUsed(e.state.hintUsed()+1);let u=document.getElementById("hint");u&&(u.checked=!1,e.state.showHint(!1));const o=e.state.hiddenBlock(),l=e.blocks.find(g=>g.id==o),h=l.dom,p=l.coords;l.coords=n.coords,Ft(e,n,h),e.swap.dragging=!1,n.coords=p,kt(e,n.id,a)({target:n.dom})},Ft=(e,n,a)=>{a.style.backgroundImage=`url(${JSON.stringify(e.img.src())})`,a.style.backgroundSize=`${e.img.width()}px ${e.img.height()}px`,a.style.backgroundPosition=`${e.img.coords.left-n.coords.left}px ${e.img.coords.top-n.coords.top}px`,a.style.backgroundRepeat="no-repeat"},Re=(e,n,a)=>({target:u})=>{if(a==e.state.levels[e.state.level()].count)return e.state.status("READY"),e.swap.path=[...e.swap.history],e;if(a==0)return kt(e,n.id)({target:u}),Re(e,n,a+1)({target:u});if(a>0){const o=e.swap.history.slice(-2)[0];let l=e.swap.swapBlockIds.filter(w=>w!==o);const h=br(l);if(h==null)return a=e.state.levels[e.state.level()].count,Re(e,n,a)({target:n.dom});const p=e.blocks.find(w=>w.id==h),g=n.dom;return Ht(e,p),Re(e,p,a+1)({target:g})}},Br=(e,n)=>e.state.status()=="SELECT_SQR"||at(e,n)&&e.state.status()!=="COMPLETED"?Ar(e,n)&&e.state.showHint()?"3px solid var(--hint)":"3px solid var(--hilight)":"",qr=(e,n)=>Xe(e,n)?"isSwapBlock":at(e,n)?"point isSwapBlock":e.state.status()=="SELECT_SQR"&&"point",jr=(e,n)=>e.state.hiddenBlock()?()=>Ht(e,n,!0):e.state.level()&&e.state.status()!=="COMPLETED"&&Re(e,n,0),Dr=e=>e.img.src()&&e.state.screenSize()=="TABLET"?"row":"col",kr=e=>e.img.src()&&e.state.screenSize()=="TABLET"&&{justifyContent:"space-between"},Hr=(e,n)=>{switch(e){case"PHONE":return"33dvh";case"TABLET":return n?"100dvh":"33dvh";case"DESKTOP":return"30dvh"}},Fr=e=>{switch(e.state.screenSize()){case"PHONE":return"space-around";case"TABLET":return e.img.src(),"space-evenly";case"DESKTOP":return e.img.src(),"space-evenly"}},_r=e=>({height:Hr(e.state.screenSize(),e.img.src()),justifyContent:Fr(e)}),Ur=e=>({left:e.state.screenSize()=="TABLET"&&e.img.src()?0:"inherit",fontSize:"3rem"}),$r=e=>({justifyContent:e.state.screenSize()=="TABLET"&&!e.img.src()?"center":"flex-start"}),Kr=""+new URL("photo-scramble-logo.fa6de4a3.png",import.meta.url).href,Vr=""+new URL("logo-loader.2f4fdfa8.gif",import.meta.url).href,_t={view:({attrs:{mdl:e}})=>M(".row ",e.img.src()&&M("button.btn",{onclick:()=>Sr(e)},"New Image"),e.state.status()=="SELECT_SQR"&&M("button.btn",{onclick:()=>{e.state.level(null),e.state.status("SELECT_LEVEL")}},"Change Level"),e.state.status()=="READY"&&M("button.btn",{onclick:()=>Or(e)},"Restart"),e.state.status()=="READY"&&M("label.row",M("code","show hint"),M("label.switchContainer",M("input.switch#hint",{type:"checkbox",disabled:e.state.showHint()==!0,onchange:()=>e.state.showHint(!e.state.showHint())}),M(".slider.round"))))},Wr=()=>({oncreate:({dom:e,attrs:{mdl:n,block:a}})=>{const u=n.blocks.find(l=>l.id==a.id),o=e.getBoundingClientRect();a.coords=o,u.coords=o,a.dom=e,u.dom=e,Ft(n,a,e)},view:({attrs:{mdl:e,block:n}})=>M(".block",{id:n.id,disabled:e.state.status()=="COMPLETED",class:qr(e,n),onclick:jr(e,n),draggable:zr(e,n),style:{border:Br(e,n)}})}),Jr=()=>({onupdate:({attrs:{mdl:e}})=>{if(e.state.status()=="SELECT_SQR")return e.originals=JSON.stringify(e.blocks.map(({id:n,coords:a})=>({id:n,coords:a}))),!0},view:({attrs:{mdl:e}})=>M(".grid#map",e.blocks.map(n=>M(Wr,{mdl:e,block:n})))}),Qr={view:({attrs:{mdl:e}})=>M("img#img",{onload:({target:n})=>{e.img.width(n.width),e.img.height(n.height),e.img.coords=n.getBoundingClientRect(),Rr(e,n)},src:e.img.src(),style:{width:"var(--size)",height:"var(--size)",opacity:e.img.display()?1:.2}})},Yr={view:({attrs:{mdl:e}})=>M("fieldset.col",M("legend.text",M("code","Select a level")),M(".row",Object.keys(e.state.levels).map(n=>M("button.btn",{style:{border:"2px solid var(--hilight)"},onclick:()=>Ir(e,n)},n))))},Zr={view:({attrs:{mdl:e}})=>M("fieldset.col.point",M("legend.text",M("code.text",M("label",{for:"upload"},"Upload an Image."))),M("input.btn",{style:{width:"80lvw"},name:"upload",onchange:n=>Dt(e)(n).then(()=>e.state.status("SELECT_LEVEL")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},Gr={view:({attrs:{mdl:e}})=>M("section#header.col",{style:_r(e)},M("code#title.text.row",{style:Ur(e)},"PHOTO",M("img#logo-still",{src:Kr}),"SCRAMBLE!"),e.img.src()&&[e.state.status()=="SELECT_LEVEL"&&M(Yr,{mdl:e}),e.state.status()=="SELECT_SQR"&&M("code.text","Select a boring square to hide")],e.state.screenSize()=="TABLET"&&M(_t,{mdl:e}),e.swap.history.length>0&&M("section.col#user-info",M("code.text",`Moves Made: ${e.state.userMoves()}`),e.state.hintUsed()>0&&M("code.text",{style:{color:"var(--hint)"}},`Moves With Hint: ${e.state.hintUsed()}`),M("code.text",`Perfect Score Is: ${e.state.levels[e.state.level()].count-1}`)))},Xr=e=>(vr(e),{view:()=>M("#app",{style:kr(e),class:Dr(e)},M(Gr,{mdl:e}),e.img.src()?M("section.col#image-viewer",M("#viewer.row",e.state.status()!=="COMPLETED"&&M(Jr,{mdl:e}),M(Qr,{mdl:e})),e.state.screenSize()!=="TABLET"&&M(_t,{mdl:e})):M("section.col",{style:$r(e)},M("#logo-anim",M("img",{src:Vr})),M("#input-anim",M(Zr,{mdl:e}))))});M.mount(document.body,Xr(xr()));
