var _t=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var Br=_t((Fr,Ie)=>{const Ut=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}};Ut();var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De,lt;function me(){if(lt)return De;lt=1;function r(i,a,l,s,o,h){return{tag:i,key:a,attrs:l,children:s,text:o,dom:h,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return r.normalize=function(i){return Array.isArray(i)?r("[",void 0,void 0,r.normalizeChildren(i),void 0,void 0):i==null||typeof i=="boolean"?null:typeof i=="object"?i:r("#",void 0,void 0,String(i),void 0,void 0)},r.normalizeChildren=function(i){var a=[];if(i.length){for(var l=i[0]!=null&&i[0].key!=null,s=1;s<i.length;s++)if((i[s]!=null&&i[s].key!=null)!==l)throw new TypeError(l&&(i[s]!=null||typeof i[s]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var s=0;s<i.length;s++)a[s]=r.normalize(i[s])}return a},De=r,De}var Ht=me(),It=function(){var r=arguments[this],i=this+1,a;if(r==null?r={}:(typeof r!="object"||r.tag!=null||Array.isArray(r))&&(r={},i=this),arguments.length===i+1)a=arguments[i],Array.isArray(a)||(a=[a]);else for(a=[];i<arguments.length;)a.push(arguments[i++]);return Ht("",r.key,r,a)},Oe={}.hasOwnProperty,Kt=me(),Vt=It,xe=Oe,Jt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Rt={};function st(r){for(var i in r)if(xe.call(r,i))return!1;return!0}function Wt(r){for(var i,a="div",l=[],s={};i=Jt.exec(r);){var o=i[1],h=i[2];if(o===""&&h!=="")a=h;else if(o==="#")s.id=h;else if(o===".")l.push(h);else if(i[3][0]==="["){var p=i[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[4]==="class"?l.push(p):s[i[4]]=p===""?p:p||!0}}return l.length>0&&(s.className=l.join(" ")),Rt[r]={tag:a,attrs:s}}function Zt(r,i){var a=i.attrs,l=xe.call(a,"class"),s=l?a.class:a.className;if(i.tag=r.tag,i.attrs={},!st(r.attrs)&&!st(a)){var o={};for(var h in a)xe.call(a,h)&&(o[h]=a[h]);a=o}for(var h in r.attrs)xe.call(r.attrs,h)&&h!=="className"&&!xe.call(a,h)&&(a[h]=r.attrs[h]);(s!=null||r.attrs.className!=null)&&(a.className=s!=null?r.attrs.className!=null?String(r.attrs.className)+" "+String(s):s:r.attrs.className!=null?r.attrs.className:null),l&&(a.class=null);for(var h in a)if(xe.call(a,h)&&h!=="key"){i.attrs=a;break}return i}function Qt(r){if(r==null||typeof r!="string"&&typeof r!="function"&&typeof r.view!="function")throw Error("The selector must be either a string or a component.");var i=Vt.apply(1,arguments);return typeof r=="string"&&(i.children=Kt.normalizeChildren(i.children),r!=="[")?Zt(Rt[r]||Wt(r),i):(i.tag=r,i)}var Nt=Qt,Xt=me(),Yt=function(r){return r==null&&(r=""),Xt("<",void 0,void 0,r,void 0,void 0)},Gt=me(),er=It,tr=function(){var r=er.apply(0,arguments);return r.tag="[",r.children=Gt.normalizeChildren(r.children),r},nt=Nt;nt.trust=Yt;nt.fragment=tr;var rr=nt,Pe={exports:{}},$e,ct;function Ot(){if(ct)return $e;ct=1;var r=function(i){if(!(this instanceof r))throw new Error("Promise must be called with 'new'.");if(typeof i!="function")throw new TypeError("executor must be a function.");var a=this,l=[],s=[],o=w(l,!0),h=w(s,!1),p=a._instance={resolvers:l,rejectors:s},g=typeof setImmediate=="function"?setImmediate:setTimeout;function w(R,E){return function I(O){var b;try{if(E&&O!=null&&(typeof O=="object"||typeof O=="function")&&typeof(b=O.then)=="function"){if(O===a)throw new TypeError("Promise can't be resolved with itself.");d(b.bind(O))}else g(function(){!E&&R.length===0&&console.error("Possible unhandled promise rejection:",O);for(var S=0;S<R.length;S++)R[S](O);l.length=0,s.length=0,p.state=E,p.retry=function(){I(O)}})}catch(S){h(S)}}}function d(R){var E=0;function I(b){return function(S){E++>0||b(S)}}var O=I(h);try{R(I(o),O)}catch(b){O(b)}}d(i)};return r.prototype.then=function(i,a){var l=this,s=l._instance;function o(w,d,R,E){d.push(function(I){if(typeof w!="function")R(I);else try{h(w(I))}catch(O){p&&p(O)}}),typeof s.retry=="function"&&E===s.state&&s.retry()}var h,p,g=new r(function(w,d){h=w,p=d});return o(i,s.resolvers,h,!0),o(a,s.rejectors,p,!1),g},r.prototype.catch=function(i){return this.then(null,i)},r.prototype.finally=function(i){return this.then(function(a){return r.resolve(i()).then(function(){return a})},function(a){return r.resolve(i()).then(function(){return r.reject(a)})})},r.resolve=function(i){return i instanceof r?i:new r(function(a){a(i)})},r.reject=function(i){return new r(function(a,l){l(i)})},r.all=function(i){return new r(function(a,l){var s=i.length,o=0,h=[];if(i.length===0)a([]);else for(var p=0;p<i.length;p++)(function(g){function w(d){o++,h[g]=d,o===s&&a(h)}i[g]!=null&&(typeof i[g]=="object"||typeof i[g]=="function")&&typeof i[g].then=="function"?i[g].then(w,l):w(i[g])})(p)})},r.race=function(i){return new r(function(a,l){for(var s=0;s<i.length;s++)i[s].then(a,l)})},$e=r,$e}var Ee=Ot();typeof window<"u"?(typeof window.Promise>"u"?window.Promise=Ee:window.Promise.prototype.finally||(window.Promise.prototype.finally=Ee.prototype.finally),Pe.exports=window.Promise):typeof ve<"u"?(typeof ve.Promise>"u"?ve.Promise=Ee:ve.Promise.prototype.finally||(ve.Promise.prototype.finally=Ee.prototype.finally),Pe.exports=ve.Promise):Pe.exports=Ee;var _e,ot;function nr(){if(ot)return _e;ot=1;var r=me();return _e=function(i){var a=i&&i.document,l,s={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(t){return t.attrs&&t.attrs.xmlns||s[t.tag]}function h(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function p(t){var e=t.state;try{return this.apply(e,arguments)}finally{h(t,e)}}function g(){try{return a.activeElement}catch{return null}}function w(t,e,n,c,m,y,N){for(var q=n;q<c;q++){var C=e[q];C!=null&&d(t,C,m,N,y)}}function d(t,e,n,c,m){var y=e.tag;if(typeof y=="string")switch(e.state={},e.attrs!=null&&Me(e.attrs,e,n),y){case"#":R(t,e,m);break;case"<":I(t,e,c,m);break;case"[":O(t,e,n,c,m);break;default:b(t,e,n,c,m)}else _(t,e,n,c,m)}function R(t,e,n){e.dom=a.createTextNode(e.children),u(t,e.dom,n)}var E={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function I(t,e,n,c){var m=e.children.match(/^\s*?<(\w+)/im)||[],y=a.createElement(E[m[1]]||"div");n==="http://www.w3.org/2000/svg"?(y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",y=y.firstChild):y.innerHTML=e.children,e.dom=y.firstChild,e.domSize=y.childNodes.length,e.instance=[];for(var N=a.createDocumentFragment(),q;q=y.firstChild;)e.instance.push(q),N.appendChild(q);u(t,N,c)}function O(t,e,n,c,m){var y=a.createDocumentFragment();if(e.children!=null){var N=e.children;w(y,N,0,N.length,n,null,c)}e.dom=y.firstChild,e.domSize=y.childNodes.length,u(t,y,m)}function b(t,e,n,c,m){var y=e.tag,N=e.attrs,q=N&&N.is;c=o(e)||c;var C=c?q?a.createElementNS(c,y,{is:q}):a.createElementNS(c,y):q?a.createElement(y,{is:q}):a.createElement(y);if(e.dom=C,N!=null&&B(e,N,c),u(t,C,m),!v(e)&&e.children!=null){var j=e.children;w(C,j,0,j.length,n,null,c),e.tag==="select"&&N!=null&&fe(e,N)}}function S(t,e){var n;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),n=t.state.view,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0}else{if(t.state=void 0,n=t.tag,n.$$reentrantLock$$!=null)return;n.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(Me(t.state,t,e),t.attrs!=null&&Me(t.attrs,t,e),t.instance=r.normalize(p.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function _(t,e,n,c,m){S(e,n),e.instance!=null?(d(t,e.instance,n,c,m),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function J(t,e,n,c,m,y){if(!(e===n||e==null&&n==null))if(e==null||e.length===0)w(t,n,0,n.length,c,m,y);else if(n==null||n.length===0)M(t,e,0,e.length);else{var N=e[0]!=null&&e[0].key!=null,q=n[0]!=null&&n[0].key!=null,C=0,j=0;if(!N)for(;j<e.length&&e[j]==null;)j++;if(!q)for(;C<n.length&&n[C]==null;)C++;if(N!==q)M(t,e,j,e.length),w(t,n,C,n.length,c,m,y);else if(q){for(var re=e.length-1,Z=n.length-1,Ne,ne,K,G,F,ze;re>=j&&Z>=C&&(G=e[re],F=n[Z],G.key===F.key);)G!==F&&H(t,G,F,c,m,y),F.dom!=null&&(m=F.dom),re--,Z--;for(;re>=j&&Z>=C&&(ne=e[j],K=n[C],ne.key===K.key);)j++,C++,ne!==K&&H(t,ne,K,c,ue(e,j,m),y);for(;re>=j&&Z>=C&&!(C===Z||ne.key!==F.key||G.key!==K.key);)ze=ue(e,j,m),$(t,G,ze),G!==K&&H(t,G,K,c,ze,y),++C<=--Z&&$(t,ne,m),ne!==F&&H(t,ne,F,c,m,y),F.dom!=null&&(m=F.dom),j++,re--,G=e[re],F=n[Z],ne=e[j],K=n[C];for(;re>=j&&Z>=C&&G.key===F.key;)G!==F&&H(t,G,F,c,m,y),F.dom!=null&&(m=F.dom),re--,Z--,G=e[re],F=n[Z];if(C>Z)M(t,e,j,re+1);else if(j>re)w(t,n,C,Z+1,c,m,y);else{var $t=m,ft=Z-C+1,Te=new Array(ft),je=0,U=0,Be=2147483647,ke=0,Ne,Fe;for(U=0;U<ft;U++)Te[U]=-1;for(U=Z;U>=C;U--){Ne==null&&(Ne=se(e,j,re+1)),F=n[U];var be=Ne[F.key];be!=null&&(Be=be<Be?be:-1,Te[U-C]=be,G=e[be],e[be]=null,G!==F&&H(t,G,F,c,m,y),F.dom!=null&&(m=F.dom),ke++)}if(m=$t,ke!==re-j+1&&M(t,e,j,re+1),ke===0)w(t,n,C,Z+1,c,m,y);else if(Be===-1)for(Fe=te(Te),je=Fe.length-1,U=Z;U>=C;U--)K=n[U],Te[U-C]===-1?d(t,K,c,y,m):Fe[je]===U-C?je--:$(t,K,m),K.dom!=null&&(m=n[U].dom);else for(U=Z;U>=C;U--)K=n[U],Te[U-C]===-1&&d(t,K,c,y,m),K.dom!=null&&(m=n[U].dom)}}else{var Le=e.length<n.length?e.length:n.length;for(C=C<j?C:j;C<Le;C++)ne=e[C],K=n[C],!(ne===K||ne==null&&K==null)&&(ne==null?d(t,K,c,y,ue(e,C+1,m)):K==null?T(t,ne):H(t,ne,K,c,ue(e,C+1,m),y));e.length>Le&&M(t,e,C,e.length),n.length>Le&&w(t,n,C,n.length,c,m,y)}}}function H(t,e,n,c,m,y){var N=e.tag,q=n.tag;if(N===q){if(n.state=e.state,n.events=e.events,qe(n,e))return;if(typeof N=="string")switch(n.attrs!=null&&we(n.attrs,n,c),N){case"#":ce(e,n);break;case"<":ie(t,e,n,y,m);break;case"[":V(t,e,n,c,m,y);break;default:ee(e,n,c,y)}else X(t,e,n,c,m,y)}else T(t,e),d(t,n,c,y,m)}function ce(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function ie(t,e,n,c,m){e.children!==n.children?(x(t,e),I(t,n,c,m)):(n.dom=e.dom,n.domSize=e.domSize,n.instance=e.instance)}function V(t,e,n,c,m,y){J(t,e.children,n.children,c,m,y);var N=0,q=n.children;if(n.dom=null,q!=null){for(var C=0;C<q.length;C++){var j=q[C];j!=null&&j.dom!=null&&(n.dom==null&&(n.dom=j.dom),N+=j.domSize||1)}N!==1&&(n.domSize=N)}}function ee(t,e,n,c){var m=e.dom=t.dom;c=o(e)||c,e.tag==="textarea"&&e.attrs==null&&(e.attrs={}),ae(e,t.attrs,e.attrs,c),v(e)||J(m,t.children,e.children,n,null,c)}function X(t,e,n,c,m,y){if(n.instance=r.normalize(p.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");we(n.state,n,c),n.attrs!=null&&we(n.attrs,n,c),n.instance!=null?(e.instance==null?d(t,n.instance,c,y,m):H(t,e.instance,n.instance,c,m,y),n.dom=n.instance.dom,n.domSize=n.instance.domSize):e.instance!=null?(T(t,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}function se(t,e,n){for(var c=Object.create(null);e<n;e++){var m=t[e];if(m!=null){var y=m.key;y!=null&&(c[y]=e)}}return c}var Y=[];function te(t){for(var e=[0],n=0,c=0,m=0,y=Y.length=t.length,m=0;m<y;m++)Y[m]=t[m];for(var m=0;m<y;++m)if(t[m]!==-1){var N=e[e.length-1];if(t[N]<t[m]){Y[m]=N,e.push(m);continue}for(n=0,c=e.length-1;n<c;){var q=(n>>>1)+(c>>>1)+(n&c&1);t[e[q]]<t[m]?n=q+1:c=q}t[m]<t[e[n]]&&(n>0&&(Y[m]=e[n-1]),e[n]=m)}for(n=e.length,c=e[n-1];n-- >0;)e[n]=c,c=Y[c];return Y.length=0,e}function ue(t,e,n){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return n}function $(t,e,n){var c=a.createDocumentFragment();f(t,c,e),u(t,c,n)}function f(t,e,n){for(;n.dom!=null&&n.dom.parentNode===t;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")for(var c=0;c<n.instance.length;c++)e.appendChild(n.instance[c]);else if(n.tag!=="[")e.appendChild(n.dom);else if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var c=0;c<n.children.length;c++){var m=n.children[c];m!=null&&f(t,e,m)}break}}function u(t,e,n){n!=null?t.insertBefore(e,n):t.appendChild(e)}function v(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function M(t,e,n,c){for(var m=n;m<c;m++){var y=e[m];y!=null&&T(t,y)}}function T(t,e){var n=0,c=e.state,m,y;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var N=p.call(e.state.onbeforeremove,e);N!=null&&typeof N.then=="function"&&(n=1,m=N)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var N=p.call(e.attrs.onbeforeremove,e);N!=null&&typeof N.then=="function"&&(n|=2,y=N)}if(h(e,c),!n)A(e),P(t,e);else{if(m!=null){var q=function(){n&1&&(n&=2,n||C())};m.then(q,q)}if(y!=null){var q=function(){n&2&&(n&=1,n||C())};y.then(q,q)}}function C(){h(e,c),A(e),P(t,e)}}function x(t,e){for(var n=0;n<e.instance.length;n++)t.removeChild(e.instance[n])}function P(t,e){for(;e.dom!=null&&e.dom.parentNode===t;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")x(t,e);else{if(e.tag!=="["&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var n=0;n<e.children.length;n++){var c=e.children[n];c!=null&&P(t,c)}}break}}function A(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&p.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&p.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&A(t.instance);else{var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var c=e[n];c!=null&&A(c)}}}function B(t,e,n){t.tag==="input"&&e.type!=null&&t.dom.setAttribute("type",e.type);var c=e!=null&&t.tag==="input"&&e.type==="file";for(var m in e)W(t,m,null,e[m],n,c)}function W(t,e,n,c,m,y){if(!(e==="key"||e==="is"||c==null||ge(e)||n===c&&!k(t,e)&&typeof c!="object"||e==="type"&&t.tag==="input")){if(e[0]==="o"&&e[1]==="n")return Re(t,e,c);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),c);else if(e==="style")le(t.dom,n,c);else if(ye(t,e,m)){if(e==="value"){if((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+c&&(y||t.dom===g())||t.tag==="select"&&n!==null&&t.dom.value===""+c||t.tag==="option"&&n!==null&&t.dom.value===""+c)return;if(y&&""+c!=""){console.error("`value` is read-only on file inputs!");return}}t.dom[e]=c}else typeof c=="boolean"?c?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,c)}}function z(t,e,n,c){if(!(e==="key"||e==="is"||n==null||ge(e)))if(e[0]==="o"&&e[1]==="n")Re(t,e,void 0);else if(e==="style")le(t.dom,n,null);else if(ye(t,e,c)&&e!=="className"&&e!=="title"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===g()))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var m=e.indexOf(":");m!==-1&&(e=e.slice(m+1)),n!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function fe(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var n=""+e.value;(t.dom.value!==n||t.dom.selectedIndex===-1)&&(t.dom.value=n)}"selectedIndex"in e&&W(t,"selectedIndex",null,e.selectedIndex,void 0)}function ae(t,e,n,c){if(e&&e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),n!=null){t.tag==="input"&&n.type!=null&&t.dom.setAttribute("type",n.type);var m=t.tag==="input"&&n.type==="file";for(var y in n)W(t,y,e&&e[y],n[y],c,m)}var N;if(e!=null)for(var y in e)(N=e[y])!=null&&(n==null||n[y]==null)&&z(t,y,N,c)}function k(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&t.dom===g()||t.tag==="option"&&t.dom.parentNode===a.activeElement}function ge(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function ye(t,e,n){return n===void 0&&(t.tag.indexOf("-")>-1||t.attrs!=null&&t.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}var oe=/[A-Z]/g;function de(t){return"-"+t.toLowerCase()}function he(t){return t[0]==="-"&&t[1]==="-"?t:t==="cssFloat"?"float":t.replace(oe,de)}function le(t,e,n){if(e!==n)if(n==null)t.style.cssText="";else if(typeof n!="object")t.style.cssText=n;else if(e==null||typeof e!="object"){t.style.cssText="";for(var c in n){var m=n[c];m!=null&&t.style.setProperty(he(c),String(m))}}else{for(var c in n){var m=n[c];m!=null&&(m=String(m))!==String(e[c])&&t.style.setProperty(he(c),m)}for(var c in e)e[c]!=null&&n[c]==null&&t.style.removeProperty(he(c))}}function Ce(){this._=l}Ce.prototype=Object.create(null),Ce.prototype.handleEvent=function(t){var e=this["on"+t.type],n;typeof e=="function"?n=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t),this._&&t.redraw!==!1&&(0,this._)(),n===!1&&(t.preventDefault(),t.stopPropagation())};function Re(t,e,n){if(t.events!=null){if(t.events._=l,t.events[e]===n)return;n!=null&&(typeof n=="function"||typeof n=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else n!=null&&(typeof n=="function"||typeof n=="object")&&(t.events=new Ce,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=n)}function Me(t,e,n){typeof t.oninit=="function"&&p.call(t.oninit,e),typeof t.oncreate=="function"&&n.push(p.bind(t.oncreate,e))}function we(t,e,n){typeof t.onupdate=="function"&&n.push(p.bind(t.onupdate,e))}function qe(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var n=p.call(t.attrs.onbeforeupdate,t,e);if(n!==void 0&&!n)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var n=p.call(t.state.onbeforeupdate,t,e);if(n!==void 0&&!n)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}var pe;return function(t,e,n){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(pe!=null&&t.contains(pe))throw new TypeError("Node is currently being rendered to and thus is locked.");var c=l,m=pe,y=[],N=g(),q=t.namespaceURI;pe=t,l=typeof n=="function"?n:void 0;try{t.vnodes==null&&(t.textContent=""),e=r.normalizeChildren(Array.isArray(e)?e:[e]),J(t,t.vnodes,e,y,null,q==="http://www.w3.org/1999/xhtml"?void 0:q),t.vnodes=e,N!=null&&g()!==N&&typeof N.focus=="function"&&N.focus();for(var C=0;C<y.length;C++)y[C]()}finally{l=c,pe=m}}},_e}var Ue,ht;function St(){return ht||(ht=1,Ue=nr()(typeof window<"u"?window:null)),Ue}var pt=me(),ir=function(r,i,a){var l=[],s=!1,o=-1;function h(){for(o=0;o<l.length;o+=2)try{r(l[o],pt(l[o+1]),p)}catch(w){a.error(w)}o=-1}function p(){s||(s=!0,i(function(){s=!1,h()}))}p.sync=h;function g(w,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount expects a component, not a vnode.");var R=l.indexOf(w);R>=0&&(l.splice(R,2),R<=o&&(o-=2),r(w,[])),d!=null&&(l.push(w,d),r(w,pt(d),p))}return{mount:g,redraw:p}},ar=St(),it=ir(ar,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),He,mt;function At(){return mt||(mt=1,He=function(r){if(Object.prototype.toString.call(r)!=="[object Object]")return"";var i=[];for(var a in r)l(a,r[a]);return i.join("&");function l(s,o){if(Array.isArray(o))for(var h=0;h<o.length;h++)l(s+"["+h+"]",o[h]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var h in o)l(s+"["+h+"]",o[h]);else i.push(encodeURIComponent(s)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}}),He}var Ke,gt;function qt(){if(gt)return Ke;gt=1;var r=Oe;return Ke=Object.assign||function(i,a){for(var l in a)r.call(a,l)&&(i[l]=a[l])},Ke}var Ve,yt;function at(){if(yt)return Ve;yt=1;var r=At(),i=qt();return Ve=function(a,l){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(l==null)return a;var s=a.indexOf("?"),o=a.indexOf("#"),h=o<0?a.length:o,p=s<0?h:s,g=a.slice(0,p),w={};i(w,l);var d=g.replace(/:([^\/\.-]+)(\.{3})?/g,function(_,J,H){return delete w[J],l[J]==null?_:H?l[J]:encodeURIComponent(String(l[J]))}),R=d.indexOf("?"),E=d.indexOf("#"),I=E<0?d.length:E,O=R<0?I:R,b=d.slice(0,O);s>=0&&(b+=a.slice(s,h)),R>=0&&(b+=(s<0?"?":"&")+d.slice(R,I));var S=r(w);return S&&(b+=(s<0&&R<0?"?":"&")+S),o>=0&&(b+=a.slice(o)),E>=0&&(b+=(o<0?"":"&")+d.slice(E)),b},Ve}var ur=at(),dt=Oe,fr=function(r,i,a){var l=0;function s(p){return new i(p)}s.prototype=i.prototype,s.__proto__=i;function o(p){return function(g,w){typeof g!="string"?(w=g,g=g.url):w==null&&(w={});var d=new i(function(O,b){p(ur(g,w.params),w,function(S){if(typeof w.type=="function")if(Array.isArray(S))for(var _=0;_<S.length;_++)S[_]=new w.type(S[_]);else S=new w.type(S);O(S)},b)});if(w.background===!0)return d;var R=0;function E(){--R===0&&typeof a=="function"&&a()}return I(d);function I(O){var b=O.then;return O.constructor=s,O.then=function(){R++;var S=b.apply(O,arguments);return S.then(E,function(_){if(E(),R===0)throw _}),I(S)},O}}}function h(p,g){for(var w in p.headers)if(dt.call(p.headers,w)&&w.toLowerCase()===g)return!0;return!1}return{request:o(function(p,g,w,d){var R=g.method!=null?g.method.toUpperCase():"GET",E=g.body,I=(g.serialize==null||g.serialize===JSON.serialize)&&!(E instanceof r.FormData||E instanceof r.URLSearchParams),O=g.responseType||(typeof g.extract=="function"?"":"json"),b=new r.XMLHttpRequest,S=!1,_=!1,J=b,H,ce=b.abort;b.abort=function(){S=!0,ce.call(this)},b.open(R,p,g.async!==!1,typeof g.user=="string"?g.user:void 0,typeof g.password=="string"?g.password:void 0),I&&E!=null&&!h(g,"content-type")&&b.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof g.deserialize!="function"&&!h(g,"accept")&&b.setRequestHeader("Accept","application/json, text/*"),g.withCredentials&&(b.withCredentials=g.withCredentials),g.timeout&&(b.timeout=g.timeout),b.responseType=O;for(var ie in g.headers)dt.call(g.headers,ie)&&b.setRequestHeader(ie,g.headers[ie]);b.onreadystatechange=function(V){if(!S&&V.target.readyState===4)try{var ee=V.target.status>=200&&V.target.status<300||V.target.status===304||/^file:\/\//i.test(p),X=V.target.response,se;if(O==="json"){if(!V.target.responseType&&typeof g.extract!="function")try{X=JSON.parse(V.target.responseText)}catch{X=null}}else(!O||O==="text")&&X==null&&(X=V.target.responseText);if(typeof g.extract=="function"?(X=g.extract(V.target,g),ee=!0):typeof g.deserialize=="function"&&(X=g.deserialize(X)),ee)w(X);else{var Y=function(){try{se=V.target.responseText}catch{se=X}var te=new Error(se);te.code=V.target.status,te.response=X,d(te)};b.status===0?setTimeout(function(){_||Y()}):Y()}}catch(te){d(te)}},b.ontimeout=function(V){_=!0;var ee=new Error("Request timed out");ee.code=V.target.status,d(ee)},typeof g.config=="function"&&(b=g.config(b,g,p)||b,b!==J&&(H=b.abort,b.abort=function(){S=!0,H.call(this)})),E==null?b.send():typeof g.serialize=="function"?b.send(g.serialize(E)):E instanceof r.FormData||E instanceof r.URLSearchParams?b.send(E):b.send(JSON.stringify(E))}),jsonp:o(function(p,g,w,d){var R=g.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+l++,E=r.document.createElement("script");r[R]=function(I){delete r[R],E.parentNode.removeChild(E),w(I)},E.onerror=function(){delete r[R],E.parentNode.removeChild(E),d(new Error("JSONP request failed"))},E.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(g.callbackKey||"callback")+"="+encodeURIComponent(R),r.document.documentElement.appendChild(E)})}},lr=Pe.exports,sr=it,cr=fr(typeof window<"u"?window:null,lr,sr.redraw),Je,wt;function Lt(){if(wt)return Je;wt=1;function r(i){try{return decodeURIComponent(i)}catch{return i}}return Je=function(i){if(i===""||i==null)return{};i.charAt(0)==="?"&&(i=i.slice(1));for(var a=i.split("&"),l={},s={},o=0;o<a.length;o++){var h=a[o].split("="),p=r(h[0]),g=h.length===2?r(h[1]):"";g==="true"?g=!0:g==="false"&&(g=!1);var w=p.split(/\]\[?|\[/),d=s;p.indexOf("[")>-1&&w.pop();for(var R=0;R<w.length;R++){var E=w[R],I=w[R+1],O=I==""||!isNaN(parseInt(I,10));if(E===""){var p=w.slice(0,R).join();l[p]==null&&(l[p]=Array.isArray(d)?d.length:0),E=l[p]++}else if(E==="__proto__")break;if(R===w.length-1)d[E]=g;else{var b=Object.getOwnPropertyDescriptor(d,E);b!=null&&(b=b.value),b==null&&(d[E]=b=O?[]:{}),d=b}}}return s},Je}var We,bt;function ut(){if(bt)return We;bt=1;var r=Lt();return We=function(i){var a=i.indexOf("?"),l=i.indexOf("#"),s=l<0?i.length:l,o=a<0?s:a,h=i.slice(0,o).replace(/\/{2,}/g,"/");return h?(h[0]!=="/"&&(h="/"+h),h.length>1&&h[h.length-1]==="/"&&(h=h.slice(0,-1))):h="/",{path:h,params:a<0?{}:r(i.slice(a+1,s))}},We}var Ze,vt;function or(){if(vt)return Ze;vt=1;var r=ut();return Ze=function(i){var a=r(i),l=Object.keys(a.params),s=[],o=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(h,p,g){return p==null?"\\"+h:(s.push({k:p,r:g==="..."}),g==="..."?"(.*)":g==="."?"([^/]+)\\.":"([^/]+)"+(g||""))})+"$");return function(h){for(var p=0;p<l.length;p++)if(a.params[l[p]]!==h.params[l[p]])return!1;if(!s.length)return o.test(h.path);var g=o.exec(h.path);if(g==null)return!1;for(var p=0;p<s.length;p++)h.params[s[p].k]=s[p].r?g[p+1]:decodeURIComponent(g[p+1]);return!0}},Ze}var Qe,xt;function zt(){if(xt)return Qe;xt=1;var r=Oe,i=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Qe=function(a,l){var s={};if(l!=null)for(var o in a)r.call(a,o)&&!i.test(o)&&l.indexOf(o)<0&&(s[o]=a[o]);else for(var o in a)r.call(a,o)&&!i.test(o)&&(s[o]=a[o]);return s},Qe}var Xe,Ct;function hr(){if(Ct)return Xe;Ct=1;var r=me(),i=Nt,a=Pe.exports,l=at(),s=ut(),o=or(),h=qt(),p=zt(),g={};function w(d){try{return decodeURIComponent(d)}catch{return d}}return Xe=function(d,R){var E=d==null?null:typeof d.setImmediate=="function"?d.setImmediate:d.setTimeout,I=a.resolve(),O=!1,b=!1,S=0,_,J,H=g,ce,ie,V,ee,X={onbeforeupdate:function(){return S=S?2:1,!(!S||g===H)},onremove:function(){d.removeEventListener("popstate",te,!1),d.removeEventListener("hashchange",Y,!1)},view:function(){if(!(!S||g===H)){var f=[r(ce,ie.key,ie)];return H&&(f=H.render(f[0])),f}}},se=$.SKIP={};function Y(){O=!1;var f=d.location.hash;$.prefix[0]!=="#"&&(f=d.location.search+f,$.prefix[0]!=="?"&&(f=d.location.pathname+f,f[0]!=="/"&&(f="/"+f)));var u=f.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice($.prefix.length),v=s(u);h(v.params,d.history.state);function M(x){console.error(x),ue(J,null,{replace:!0})}T(0);function T(x){for(;x<_.length;x++)if(_[x].check(v)){var P=_[x].component,A=_[x].route,B=P,W=ee=function(z){if(W===ee){if(z===se)return T(x+1);ce=z!=null&&(typeof z.view=="function"||typeof z=="function")?z:"div",ie=v.params,V=u,ee=null,H=P.render?P:null,S===2?R.redraw():(S=2,R.redraw.sync())}};P.view||typeof P=="function"?(P={},W(B)):P.onmatch?I.then(function(){return P.onmatch(v.params,u,A)}).then(W,u===J?null:M):W("div");return}if(u===J)throw new Error("Could not resolve default route "+J+".");ue(J,null,{replace:!0})}}function te(){O||(O=!0,E(Y))}function ue(f,u,v){if(f=l(f,u),b){te();var M=v?v.state:null,T=v?v.title:null;v&&v.replace?d.history.replaceState(M,T,$.prefix+f):d.history.pushState(M,T,$.prefix+f)}else d.location.href=$.prefix+f}function $(f,u,v){if(!f)throw new TypeError("DOM element being rendered to does not exist.");if(_=Object.keys(v).map(function(T){if(T[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(T))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:T,component:v[T],check:o(T)}}),J=u,u!=null){var M=s(u);if(!_.some(function(T){return T.check(M)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof d.history.pushState=="function"?d.addEventListener("popstate",te,!1):$.prefix[0]==="#"&&d.addEventListener("hashchange",Y,!1),b=!0,R.mount(f,X),Y()}return $.set=function(f,u,v){ee!=null&&(v=v||{},v.replace=!0),ee=null,ue(f,u,v)},$.get=function(){return V},$.prefix="#!",$.Link={view:function(f){var u=i(f.attrs.selector||"a",p(f.attrs,["options","params","selector","onclick"]),f.children),v,M,T;return(u.attrs.disabled=Boolean(u.attrs.disabled))?(u.attrs.href=null,u.attrs["aria-disabled"]="true"):(v=f.attrs.options,M=f.attrs.onclick,T=l(u.attrs.href,f.attrs.params),u.attrs.href=$.prefix+T,u.attrs.onclick=function(x){var P;typeof M=="function"?P=M.call(x.currentTarget,x):M==null||typeof M!="object"||typeof M.handleEvent=="function"&&M.handleEvent(x),P!==!1&&!x.defaultPrevented&&(x.button===0||x.which===0||x.which===1)&&(!x.currentTarget.target||x.currentTarget.target==="_self")&&!x.ctrlKey&&!x.metaKey&&!x.shiftKey&&!x.altKey&&(x.preventDefault(),x.redraw=!1,$.set(T,null,v))}),u}},$.param=function(f){return ie&&f!=null?ie[f]:ie},$},Xe}var Ye,Mt;function pr(){if(Mt)return Ye;Mt=1;var r=it;return Ye=hr()(typeof window<"u"?window:null,r),Ye}var Se=rr,jt=cr,Bt=it,Q=function(){return Se.apply(this,arguments)};Q.m=Se;Q.trust=Se.trust;Q.fragment=Se.fragment;Q.Fragment="[";Q.mount=Bt.mount;Q.route=pr();Q.render=St();Q.redraw=Bt.redraw;Q.request=jt.request;Q.jsonp=jt.jsonp;Q.parseQueryString=Lt();Q.buildQueryString=At();Q.parsePathname=ut();Q.buildPathname=at();Q.vnode=me();Q.PromisePolyfill=Ot();Q.censor=zt();var D=Q;L.SKIP={};L.lift=yr;L.scan=mr;L.merge=kt;L.combine=Ae;L.scanMerge=gr;L["fantasy-land/of"]=L;var Tt=!1;Object.defineProperty(L,"HALT",{get:function(){return Tt||console.log("HALT is deprecated and has been renamed to SKIP"),Tt=!0,L.SKIP}});function L(r){var i=[],a=[];function l(h){return arguments.length&&h!==L.SKIP&&(r=h,Et(l)&&(l.changing(),l.state="active",i.forEach(function(p,g){p(a[g](r))}))),r}l.constructor=L,l.state=arguments.length&&r!==L.SKIP?"active":"pending",l.parents=[],l.changing=function(){Et(l)&&(l.state="changing"),i.forEach(function(h){h.changing()})},l.map=function(h,p){var g=l.state==="active"&&p!==L.SKIP?L(h(r)):L();return g.parents.push(l),i.push(g),a.push(h),g};var s;function o(){return s=L(),s.map(function(h){return h===!0&&(l.parents.forEach(function(p){p.unregisterChild(l)}),l.state="ended",l.parents.length=i.length=a.length=0),h}),s}return l.toJSON=function(){return r!=null&&typeof r.toJSON=="function"?r.toJSON():r},l["fantasy-land/map"]=l.map,l["fantasy-land/ap"]=function(h){return Ae(function(p,g){return p()(g())},[h,l])},l.unregisterChild=function(h){var p=i.indexOf(h);p!==-1&&(i.splice(p,1),a.splice(p,1))},Object.defineProperty(l,"end",{get:function(){return s||o()}}),l}function Ae(r,i){var a=i.every(function(p){if(p.constructor!==L)throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream");return p.state==="active"}),l=a?L(r.apply(null,i.concat([i]))):L(),s=[],o=i.map(function(p){return p.map(function(g){return s.push(p),(a||i.every(function(w){return w.state!=="pending"}))&&(a=!0,l(r.apply(null,i.concat([s]))),s=[]),g},L.SKIP)}),h=l.end.map(function(p){p===!0&&(o.forEach(function(g){g.end(!0)}),h.end(!0))});return l}function kt(r){return Ae(function(){return r.map(function(i){return i()})},r)}function mr(r,i,a){var l=a.map(function(s){var o=r(i,s);return o!==L.SKIP&&(i=o),o});return l(i),l}function gr(r,i){var a=r.map(function(s){return s[0]}),l=Ae(function(){var s=arguments[arguments.length-1];return a.forEach(function(o,h){s.indexOf(o)>-1&&(i=r[h][1](i,o()))}),i},a);return l(i),l}function yr(){var r=arguments[0],i=Array.prototype.slice.call(arguments,1);return kt(i).map(function(a){return r.apply(void 0,a)})}function Et(r){return r.state==="pending"||r.state==="active"||r.state==="changing"}var Ie={};(function r(i,a,l,s){var o=!!(i.Worker&&i.Blob&&i.Promise&&i.OffscreenCanvas&&i.OffscreenCanvasRenderingContext2D&&i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype.transferControlToOffscreen&&i.URL&&i.URL.createObjectURL);function h(){}function p(f){var u=a.exports.Promise,v=u!==void 0?u:i.Promise;return typeof v=="function"?new v(f):(f(h,h),null)}var g=function(){var f=Math.floor(16.666666666666668),u,v,M={},T=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(u=function(x){var P=Math.random();return M[P]=requestAnimationFrame(function A(B){T===B||T+f-1<B?(T=B,delete M[P],x()):M[P]=requestAnimationFrame(A)}),P},v=function(x){M[x]&&cancelAnimationFrame(M[x])}):(u=function(x){return setTimeout(x,f)},v=function(x){return clearTimeout(x)}),{frame:u,cancel:v}}(),w=function(){var f,u,v={};function M(T){function x(P,A){T.postMessage({options:P||{},callback:A})}T.init=function(A){var B=A.transferControlToOffscreen();T.postMessage({canvas:B},[B])},T.fire=function(A,B,W){if(u)return x(A,null),u;var z=Math.random().toString(36).slice(2);return u=p(function(fe){function ae(k){k.data.callback===z&&(delete v[z],T.removeEventListener("message",ae),u=null,W(),fe())}T.addEventListener("message",ae),x(A,z),v[z]=ae.bind(null,{data:{callback:z}})}),u},T.reset=function(){T.postMessage({reset:!0});for(var A in v)v[A](),delete v[A]}}return function(){if(f)return f;if(!l&&o){var T=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{f=new Worker(URL.createObjectURL(new Blob([T])))}catch(x){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",x),null}M(f)}return f}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function R(f,u){return u?u(f):f}function E(f){return f!=null}function I(f,u,v){return R(f&&E(f[u])?f[u]:d[u],v)}function O(f){return f<0?0:Math.floor(f)}function b(f,u){return Math.floor(Math.random()*(u-f))+f}function S(f){return parseInt(f,16)}function _(f){return f.map(J)}function J(f){var u=String(f).replace(/[^0-9a-f]/gi,"");return u.length<6&&(u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]),{r:S(u.substring(0,2)),g:S(u.substring(2,4)),b:S(u.substring(4,6))}}function H(f){var u=I(f,"origin",Object);return u.x=I(u,"x",Number),u.y=I(u,"y",Number),u}function ce(f){f.width=document.documentElement.clientWidth,f.height=document.documentElement.clientHeight}function ie(f){var u=f.getBoundingClientRect();f.width=u.width,f.height=u.height}function V(f){var u=document.createElement("canvas");return u.style.position="fixed",u.style.top="0px",u.style.left="0px",u.style.pointerEvents="none",u.style.zIndex=f,u}function ee(f,u,v,M,T,x,P,A,B){f.save(),f.translate(u,v),f.rotate(x),f.scale(M,T),f.arc(0,0,1,P,A,B),f.restore()}function X(f){var u=f.angle*(Math.PI/180),v=f.spread*(Math.PI/180);return{x:f.x,y:f.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:f.startVelocity*.5+Math.random()*f.startVelocity,angle2D:-u+(.5*v-Math.random()*v),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:f.color,shape:f.shape,tick:0,totalTicks:f.ticks,decay:f.decay,drift:f.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:f.gravity*3,ovalScalar:.6,scalar:f.scalar}}function se(f,u){u.x+=Math.cos(u.angle2D)*u.velocity+u.drift,u.y+=Math.sin(u.angle2D)*u.velocity+u.gravity,u.wobble+=u.wobbleSpeed,u.velocity*=u.decay,u.tiltAngle+=.1,u.tiltSin=Math.sin(u.tiltAngle),u.tiltCos=Math.cos(u.tiltAngle),u.random=Math.random()+2,u.wobbleX=u.x+10*u.scalar*Math.cos(u.wobble),u.wobbleY=u.y+10*u.scalar*Math.sin(u.wobble);var v=u.tick++/u.totalTicks,M=u.x+u.random*u.tiltCos,T=u.y+u.random*u.tiltSin,x=u.wobbleX+u.random*u.tiltCos,P=u.wobbleY+u.random*u.tiltSin;if(f.fillStyle="rgba("+u.color.r+", "+u.color.g+", "+u.color.b+", "+(1-v)+")",f.beginPath(),u.shape==="circle")f.ellipse?f.ellipse(u.x,u.y,Math.abs(x-M)*u.ovalScalar,Math.abs(P-T)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI):ee(f,u.x,u.y,Math.abs(x-M)*u.ovalScalar,Math.abs(P-T)*u.ovalScalar,Math.PI/10*u.wobble,0,2*Math.PI);else if(u.shape==="star")for(var A=Math.PI/2*3,B=4*u.scalar,W=8*u.scalar,z=u.x,fe=u.y,ae=5,k=Math.PI/ae;ae--;)z=u.x+Math.cos(A)*W,fe=u.y+Math.sin(A)*W,f.lineTo(z,fe),A+=k,z=u.x+Math.cos(A)*B,fe=u.y+Math.sin(A)*B,f.lineTo(z,fe),A+=k;else f.moveTo(Math.floor(u.x),Math.floor(u.y)),f.lineTo(Math.floor(u.wobbleX),Math.floor(T)),f.lineTo(Math.floor(x),Math.floor(P)),f.lineTo(Math.floor(M),Math.floor(u.wobbleY));return f.closePath(),f.fill(),u.tick<u.totalTicks}function Y(f,u,v,M,T){var x=u.slice(),P=f.getContext("2d"),A,B,W=p(function(z){function fe(){A=B=null,P.clearRect(0,0,M.width,M.height),T(),z()}function ae(){l&&!(M.width===s.width&&M.height===s.height)&&(M.width=f.width=s.width,M.height=f.height=s.height),!M.width&&!M.height&&(v(f),M.width=f.width,M.height=f.height),P.clearRect(0,0,M.width,M.height),x=x.filter(function(k){return se(P,k)}),x.length?A=g.frame(ae):fe()}A=g.frame(ae),B=fe});return{addFettis:function(z){return x=x.concat(z),W},canvas:f,promise:W,reset:function(){A&&g.cancel(A),B&&B()}}}function te(f,u){var v=!f,M=!!I(u||{},"resize"),T=I(u,"disableForReducedMotion",Boolean),x=o&&!!I(u||{},"useWorker"),P=x?w():null,A=v?ce:ie,B=f&&P?!!f.__confetti_initialized:!1,W=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,z;function fe(k,ge,ye){for(var oe=I(k,"particleCount",O),de=I(k,"angle",Number),he=I(k,"spread",Number),le=I(k,"startVelocity",Number),Ce=I(k,"decay",Number),Re=I(k,"gravity",Number),Me=I(k,"drift",Number),we=I(k,"colors",_),qe=I(k,"ticks",Number),pe=I(k,"shapes"),t=I(k,"scalar"),e=H(k),n=oe,c=[],m=f.width*e.x,y=f.height*e.y;n--;)c.push(X({x:m,y,angle:de,spread:he,startVelocity:le,color:we[n%we.length],shape:pe[b(0,pe.length)],ticks:qe,decay:Ce,gravity:Re,drift:Me,scalar:t}));return z?z.addFettis(c):(z=Y(f,c,A,ge,ye),z.promise)}function ae(k){var ge=T||I(k,"disableForReducedMotion",Boolean),ye=I(k,"zIndex",Number);if(ge&&W)return p(function(le){le()});v&&z?f=z.canvas:v&&!f&&(f=V(ye),document.body.appendChild(f)),M&&!B&&A(f);var oe={width:f.width,height:f.height};P&&!B&&P.init(f),B=!0,P&&(f.__confetti_initialized=!0);function de(){if(P){var le={getBoundingClientRect:function(){if(!v)return f.getBoundingClientRect()}};A(le),P.postMessage({resize:{width:le.width,height:le.height}});return}oe.width=oe.height=null}function he(){z=null,M&&i.removeEventListener("resize",de),v&&f&&(document.body.removeChild(f),f=null,B=!1)}return M&&i.addEventListener("resize",de,!1),P?P.fire(k,oe,he):fe(k,oe,he)}return ae.reset=function(){P&&P.reset(),z&&z.reset()},ae}var ue;function $(){return ue||(ue=te(null,{useWorker:!0,resize:!0})),ue}a.exports=function(){return $().apply(this,arguments)},a.exports.reset=function(){$().reset()},a.exports.create=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ie,!1);const Pt=Ie.exports;Ie.exports.create;const dr=()=>({cell:{size:L(0)},blocks:[],originals:[],swap:{isDragging:!1,swapBlockIds:[],history:[]},state:{status:L("select"),hiddenBlock:L(null),direction:L("horizontal"),size:L(0),levels:{Easy:{count:10,subtract:19},Medium:{count:50,subtract:99},Hard:{count:100,subtract:199}},level:L(null)},img:{search:L(null),src:L(null),srcs:L(null),width:L(0),height:L(0),zIndex:L(0),display:L(!0)}}),wr=r=>(r.blocks=[],r.img.src(null),r.img.search(null),r.img.width(0),r.img.height(0),r.img.zIndex(0),r.img.display(!0),r.state.hiddenBlock(null),r.state.direction("horizontal"),r.state.level(null),r.swap.isDragging=!1,r.swap.src={coords:null,idx:null,id:null,dom:null,img:null},r.swap.target={coords:null,idx:null,id:null,dom:null,img:null},r.swap.swapBlockIds=[],r.swap.history=[],r.cell.size(0),r),br=[100,101],vr=(r,i)=>{const a=r.offsetTop,l=r.offsetLeft,s=i.offsetTop,o=i.offsetLeft,h=a-s,p=l-o;return Math.sqrt(h*h+p*p)},xr=()=>"xxxxxxxx".replace(/[xy]/g,r=>{let i=Math.random()*16|0;return(r=="x"?i:i&3|8).toString(16)}),Cr=(r,i)=>({img:r,idx:i,id:xr(),coords:{}}),Mr=(r,i)=>{const a=Array.from(i.parentNode.children),l=a.find(o=>o.id==r);l.style.backgroundImage="";const s=o=>br.includes(vr(l,o));return a.filter(s).map(o=>o.id)},Tr=(r,i)=>{const a=i.width,l=i.height,s=Math.ceil(a/16),o=[];for(let p=0;p<a;p+=s){const g=document.createElement("canvas"),w=g.getContext("2d");g.width=s,g.height=l,w.drawImage(i,p,0,s,l,0,0,s,l),o.push(g.toDataURL())}const h=o.map(Cr);r.blocks=structuredClone(h),r.img.display(!1)},Er=(r,i)=>{r.state.level(i),r.state.status("select square")},Pr=r=>({target:{files:i}})=>(r.file=i[0],Promise.resolve(r.img.src(URL.createObjectURL(r.file)))),Ir=r=>{const i=JSON.parse(r.originals).map(l=>JSON.stringify(l.coords)),a=r.blocks.map(l=>JSON.stringify(l.coords));return i.map((l,s)=>l==a[s]).reduce((l,s)=>s?l:l+1,0)},Ge=(r,i)=>({target:a})=>(r.swap.history.push(i),r.state.hiddenBlock(i),r.swap.swapBlockIds=Mr(i,a),r.state.status()=="ready"&&Ir(r)==0&&(r.state.status("completed"),r.img.display(!0),Nr()),r),et=(r,i)=>r.swap.swapBlockIds.includes(i.id),tt=(r,i)=>i.id==r.state.hiddenBlock(),Rr=(r,i)=>r.swap.isDragging?tt(r,i):et(r,i)||tt(r,i),Ft=(r,i)=>{if(!r.swap.swapBlockIds.includes(i.id))return;const a=r.state.hiddenBlock(),l=r.blocks.find(h=>h.id==a),s=l.dom,o=l.coords;l.coords=i.coords,Dt(r,i,s),r.swap.dragging=!1,i.coords=o,Ge(r,i.id)({target:i.dom})},Dt=(r,i,a)=>{a.style.backgroundImage=`url(${JSON.stringify(r.img.src())})`,a.style.backgroundSize=`${r.img.width()}px ${r.img.height()}px`,a.style.backgroundPosition=`${r.img.coords.left-i.coords.left}px ${r.img.coords.top-i.coords.top}px`,a.style.backgroundRepeat="no-repeat"},rt=(r,i,a)=>({target:l})=>{if(a>=r.state.levels[r.state.level()].count)return r.state.status("ready"),r;if(a==0)return Ge(r,i.id)({target:l}),rt(r,i,a+1)({target:l});if(a>0){Ge(r,i.id)({target:l});const s=r.swap.swapBlockIds[Math.floor(Math.random()*r.swap.swapBlockIds.length)],o=r.blocks.find(p=>p.id==s),h=i.dom;return Ft(r,o),rt(r,o,a+1)({target:h})}},Nr=()=>{const i=Date.now()+15e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0};function l(o,h){return Math.random()*(h-o)+o}const s=setInterval(function(){const o=i-Date.now();if(o<=0)return clearInterval(s);const h=50*(o/15e3);Pt(Object.assign({},a,{particleCount:h,origin:{x:l(.1,.3),y:Math.random()-.2}})),Pt(Object.assign({},a,{particleCount:h,origin:{x:l(.7,.9),y:Math.random()-.2}}))},250)},Or=r=>r.swap.history.length-r.state.levels[r.state.level()].subtract,Sr={view:({attrs:{mdl:r}})=>D(".col ",D("code.text",{style:{fontSize:"5rem"}},"Photo Scramble"),r.img.src()&&D("button.btn",{onclick:()=>wr(r)},"New"))},Ar=()=>({oncreate:({dom:r,attrs:{mdl:i,block:a}})=>{const l=i.blocks.find(o=>o.id==a.id),s=r.getBoundingClientRect();a.coords=s,l.coords=s,a.dom=r,l.dom=r,Dt(i,a,r)},view:({attrs:{mdl:r,block:i}})=>D(".block",{id:i.id,disabled:r.state.status()=="completed",class:tt(r,i)?"isSwapBlock hiddenBlock":et(r,i)?"point isSwapBlock":r.state.status()=="select square"&&"point",onclick:r.state.hiddenBlock()?()=>Ft(r,i):r.state.level()&&r.state.status()!=="completed"&&rt(r,i,0),draggable:Rr(r,i),style:{border:r.state.status()=="select square"||et(r,i)&&r.state.status()!=="completed"?"2px solid var(--hilight)":""}})}),qr=()=>({onupdate:({attrs:{mdl:r}})=>{if(r.state.status()=="select square")return r.originals=JSON.stringify(r.blocks.map(({id:i,coords:a})=>({id:i,coords:a}))),!0},view:({attrs:{mdl:r}})=>D(".grid#map",r.blocks.map((i,a)=>D(Ar,{idx:a,mdl:r,block:i})))}),Lr={view:({attrs:{mdl:r}})=>D("img#img",{onload:({target:i})=>{r.img.width(i.width),r.img.height(i.height),r.img.coords=i.getBoundingClientRect(),Tr(r,i)},src:r.img.src(),style:{opacity:r.img.display()?1:.1}})},zr={view:({attrs:{mdl:r}})=>D("label.col.point",D("code.text",{for:"upload"},"Upload an Image."),D("input.btn",{name:"upload",onchange:i=>Pr(r)(i).then(()=>r.state.status("select level")),type:"file",accept:"image/gif, image/jpeg, image/png, image/*"}))},jr=r=>({view:()=>D("#app.col",D(Sr,{mdl:r}),r.swap.history.length?D("pre.text",`Moves: ${Or(r)}`):r.img.src()&&r.state.status()=="select level"&&D(".col",D("code.text","Select a level"),D(".row",Object.keys(r.state.levels).map(i=>D("button.btn",{onclick:()=>Er(r,i)},i)))),r.img.src()&&r.state.status()=="select square"&&[D("button.btn",{onclick:()=>{r.state.level(null),r.state.status("select level")}},"change level"),D("code.text","Select a boring square to hide")],r.img.src()?D("#viewer.row",[r.state.status()!=="completed"&&D(qr,{mdl:r})],D(Lr,{mdl:r})):D(zr,{mdl:r}))});D.mount(document.body,jr(dr()))});export default Br();
